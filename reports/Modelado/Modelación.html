<!DOCTYPE html>

<html lang="en">
<head><meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Modelaci√≥n</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<style type="text/css">
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: var(--jp-cell-editor-active-background) }
.highlight { background: var(--jp-cell-editor-background); color: var(--jp-mirror-editor-variable-color) }
.highlight .c { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment */
.highlight .err { color: var(--jp-mirror-editor-error-color) } /* Error */
.highlight .k { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword */
.highlight .o { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator */
.highlight .p { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation */
.highlight .ch { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Multiline */
.highlight .cp { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Single */
.highlight .cs { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Special */
.highlight .kc { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Type */
.highlight .m { color: var(--jp-mirror-editor-number-color) } /* Literal.Number */
.highlight .s { color: var(--jp-mirror-editor-string-color) } /* Literal.String */
.highlight .ow { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator.Word */
.highlight .pm { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation.Marker */
.highlight .w { color: var(--jp-mirror-editor-variable-color) } /* Text.Whitespace */
.highlight .mb { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Bin */
.highlight .mf { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Float */
.highlight .mh { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Hex */
.highlight .mi { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer */
.highlight .mo { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Oct */
.highlight .sa { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Affix */
.highlight .sb { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Backtick */
.highlight .sc { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Char */
.highlight .dl { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Delimiter */
.highlight .sd { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Doc */
.highlight .s2 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Double */
.highlight .se { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Escape */
.highlight .sh { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Heredoc */
.highlight .si { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Interpol */
.highlight .sx { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Other */
.highlight .sr { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Regex */
.highlight .s1 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Single */
.highlight .ss { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Symbol */
.highlight .il { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer.Long */
  </style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
 * Mozilla scrollbar styling
 */

/* use standard opaque scrollbars for most nodes */
[data-jp-theme-scrollbars='true'] {
  scrollbar-color: rgb(var(--jp-scrollbar-thumb-color))
    var(--jp-scrollbar-background-color);
}

/* for code nodes, use a transparent style of scrollbar. These selectors
 * will match lower in the tree, and so will override the above */
[data-jp-theme-scrollbars='true'] .CodeMirror-hscrollbar,
[data-jp-theme-scrollbars='true'] .CodeMirror-vscrollbar {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
}

/* tiny scrollbar */

.jp-scrollbar-tiny {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
  scrollbar-width: thin;
}

/* tiny scrollbar */

.jp-scrollbar-tiny::-webkit-scrollbar,
.jp-scrollbar-tiny::-webkit-scrollbar-corner {
  background-color: transparent;
  height: 4px;
  width: 4px;
}

.jp-scrollbar-tiny::-webkit-scrollbar-thumb {
  background: rgba(var(--jp-scrollbar-thumb-color), 0.5);
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:horizontal {
  border-left: 0 solid transparent;
  border-right: 0 solid transparent;
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:vertical {
  border-top: 0 solid transparent;
  border-bottom: 0 solid transparent;
}

/*
 * Lumino
 */

.lm-ScrollBar[data-orientation='horizontal'] {
  min-height: 16px;
  max-height: 16px;
  min-width: 45px;
  border-top: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] {
  min-width: 16px;
  max-width: 16px;
  min-height: 45px;
  border-left: 1px solid #a0a0a0;
}

.lm-ScrollBar-button {
  background-color: #f0f0f0;
  background-position: center center;
  min-height: 15px;
  max-height: 15px;
  min-width: 15px;
  max-width: 15px;
}

.lm-ScrollBar-button:hover {
  background-color: #dadada;
}

.lm-ScrollBar-button.lm-mod-active {
  background-color: #cdcdcd;
}

.lm-ScrollBar-track {
  background: #f0f0f0;
}

.lm-ScrollBar-thumb {
  background: #cdcdcd;
}

.lm-ScrollBar-thumb:hover {
  background: #bababa;
}

.lm-ScrollBar-thumb.lm-mod-active {
  background: #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-thumb {
  height: 100%;
  min-width: 15px;
  border-left: 1px solid #a0a0a0;
  border-right: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-thumb {
  width: 100%;
  min-height: 15px;
  border-top: 1px solid #a0a0a0;
  border-bottom: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-left);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-right);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-up);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-down);
  background-size: 17px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Widget {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.lm-AccordionPanel[data-orientation='horizontal'] > .lm-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-CommandPalette-search {
  flex: 0 0 auto;
}

.lm-CommandPalette-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  min-height: 0;
  overflow: auto;
  list-style-type: none;
}

.lm-CommandPalette-header {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-CommandPalette-item {
  display: flex;
  flex-direction: row;
}

.lm-CommandPalette-itemIcon {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemContent {
  flex: 1 1 auto;
  overflow: hidden;
}

.lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemLabel {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-close-icon {
  border: 1px solid transparent;
  background-color: transparent;
  position: absolute;
  z-index: 1;
  right: 3%;
  top: 0;
  bottom: 0;
  margin: auto;
  padding: 7px 0;
  display: none;
  vertical-align: middle;
  outline: 0;
  cursor: pointer;
}
.lm-close-icon:after {
  content: 'X';
  display: block;
  width: 15px;
  height: 15px;
  text-align: center;
  color: #000;
  font-weight: normal;
  font-size: 12px;
  cursor: pointer;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-DockPanel {
  z-index: 0;
}

.lm-DockPanel-widget {
  z-index: 0;
}

.lm-DockPanel-tabBar {
  z-index: 1;
}

.lm-DockPanel-handle {
  z-index: 2;
}

.lm-DockPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-DockPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-DockPanel-handle[data-orientation='horizontal'] {
  cursor: ew-resize;
}

.lm-DockPanel-handle[data-orientation='vertical'] {
  cursor: ns-resize;
}

.lm-DockPanel-handle[data-orientation='horizontal']:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-DockPanel-handle[data-orientation='vertical']:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

.lm-DockPanel-overlay {
  z-index: 3;
  box-sizing: border-box;
  pointer-events: none;
}

.lm-DockPanel-overlay.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Menu {
  z-index: 10000;
  position: absolute;
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-Menu-content {
  margin: 0;
  padding: 0;
  display: table;
  list-style-type: none;
}

.lm-Menu-item {
  display: table-row;
}

.lm-Menu-item.lm-mod-hidden,
.lm-Menu-item.lm-mod-collapsed {
  display: none !important;
}

.lm-Menu-itemIcon,
.lm-Menu-itemSubmenuIcon {
  display: table-cell;
  text-align: center;
}

.lm-Menu-itemLabel {
  display: table-cell;
  text-align: left;
}

.lm-Menu-itemShortcut {
  display: table-cell;
  text-align: right;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-MenuBar {
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-MenuBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  list-style-type: none;
}

.lm-MenuBar-item {
  box-sizing: border-box;
}

.lm-MenuBar-itemIcon,
.lm-MenuBar-itemLabel {
  display: inline-block;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-ScrollBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-ScrollBar[data-orientation='horizontal'] {
  flex-direction: row;
}

.lm-ScrollBar[data-orientation='vertical'] {
  flex-direction: column;
}

.lm-ScrollBar-button {
  box-sizing: border-box;
  flex: 0 0 auto;
}

.lm-ScrollBar-track {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  flex: 1 1 auto;
}

.lm-ScrollBar-thumb {
  box-sizing: border-box;
  position: absolute;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-SplitPanel-child {
  z-index: 0;
}

.lm-SplitPanel-handle {
  z-index: 1;
}

.lm-SplitPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-SplitPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {
  cursor: ew-resize;
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {
  cursor: ns-resize;
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-TabBar[data-orientation='horizontal'] {
  flex-direction: row;
  align-items: flex-end;
}

.lm-TabBar[data-orientation='vertical'] {
  flex-direction: column;
  align-items: flex-end;
}

.lm-TabBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
}

.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {
  flex-direction: row;
}

.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {
  flex-direction: column;
}

.lm-TabBar-tab {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  overflow: hidden;
  touch-action: none; /* Disable native Drag/Drop */
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabCloseIcon {
  flex: 0 0 auto;
}

.lm-TabBar-tabLabel {
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
}

.lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
}

.lm-TabBar-tab.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar-addButton.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {
  position: relative;
}

.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {
  left: 0;
  transition: left 150ms ease;
}

.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {
  top: 0;
  transition: top 150ms ease;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {
  transition: none;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
  background: inherit;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabPanel-tabBar {
  z-index: 1;
}

.lm-TabPanel-stackedPanel {
  z-index: 0;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapse {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.jp-Collapse-header {
  padding: 1px 12px;
  background-color: var(--jp-layout-color1);
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  text-transform: uppercase;
  user-select: none;
}

.jp-Collapser-icon {
  height: 16px;
}

.jp-Collapse-header-collapsed .jp-Collapser-icon {
  transform: rotate(-90deg);
  margin: auto 0;
}

.jp-Collapser-title {
  line-height: 25px;
}

.jp-Collapse-contents {
  padding: 0 12px;
  background-color: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* This file was auto-generated by ensureUiComponents() in @jupyterlab/buildutils */

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

/* Icons urls */

:root {
  --jp-icon-add-above: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5MikiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik00Ljc1IDQuOTMwNjZINi42MjVWNi44MDU2NkM2LjYyNSA3LjAxMTkxIDYuNzkzNzUgNy4xODA2NiA3IDcuMTgwNjZDNy4yMDYyNSA3LjE4MDY2IDcuMzc1IDcuMDExOTEgNy4zNzUgNi44MDU2NlY0LjkzMDY2SDkuMjVDOS40NTYyNSA0LjkzMDY2IDkuNjI1IDQuNzYxOTEgOS42MjUgNC41NTU2NkM5LjYyNSA0LjM0OTQxIDkuNDU2MjUgNC4xODA2NiA5LjI1IDQuMTgwNjZINy4zNzVWMi4zMDU2NkM3LjM3NSAyLjA5OTQxIDcuMjA2MjUgMS45MzA2NiA3IDEuOTMwNjZDNi43OTM3NSAxLjkzMDY2IDYuNjI1IDIuMDk5NDEgNi42MjUgMi4zMDU2NlY0LjE4MDY2SDQuNzVDNC41NDM3NSA0LjE4MDY2IDQuMzc1IDQuMzQ5NDEgNC4zNzUgNC41NTU2NkM0LjM3NSA0Ljc2MTkxIDQuNTQzNzUgNC45MzA2NiA0Ljc1IDQuOTMwNjZaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC43Ii8+CjwvZz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjUgOS41VjExLjVMMi41IDExLjVWOS41TDExLjUgOS41Wk0xMiA4QzEyLjU1MjMgOCAxMyA4LjQ0NzcyIDEzIDlWMTJDMTMgMTIuNTUyMyAxMi41NTIzIDEzIDEyIDEzTDIgMTNDMS40NDc3MiAxMyAxIDEyLjU1MjMgMSAxMlY5QzEgOC40NDc3MiAxLjQ0NzcxIDggMiA4TDEyIDhaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5MiI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDEwIDEuNTU1NjYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==);
  --jp-icon-add-below: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5OCkiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik05LjI1IDEwLjA2OTNMNy4zNzUgMTAuMDY5M0w3LjM3NSA4LjE5NDM0QzcuMzc1IDcuOTg4MDkgNy4yMDYyNSA3LjgxOTM0IDcgNy44MTkzNEM2Ljc5Mzc1IDcuODE5MzQgNi42MjUgNy45ODgwOSA2LjYyNSA4LjE5NDM0TDYuNjI1IDEwLjA2OTNMNC43NSAxMC4wNjkzQzQuNTQzNzUgMTAuMDY5MyA0LjM3NSAxMC4yMzgxIDQuMzc1IDEwLjQ0NDNDNC4zNzUgMTAuNjUwNiA0LjU0Mzc1IDEwLjgxOTMgNC43NSAxMC44MTkzTDYuNjI1IDEwLjgxOTNMNi42MjUgMTIuNjk0M0M2LjYyNSAxMi45MDA2IDYuNzkzNzUgMTMuMDY5MyA3IDEzLjA2OTNDNy4yMDYyNSAxMy4wNjkzIDcuMzc1IDEyLjkwMDYgNy4zNzUgMTIuNjk0M0w3LjM3NSAxMC44MTkzTDkuMjUgMTAuODE5M0M5LjQ1NjI1IDEwLjgxOTMgOS42MjUgMTAuNjUwNiA5LjYyNSAxMC40NDQzQzkuNjI1IDEwLjIzODEgOS40NTYyNSAxMC4wNjkzIDkuMjUgMTAuMDY5M1oiIGZpbGw9IiM2MTYxNjEiIHN0cm9rZT0iIzYxNjE2MSIgc3Ryb2tlLXdpZHRoPSIwLjciLz4KPC9nPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi41IDUuNUwyLjUgMy41TDExLjUgMy41TDExLjUgNS41TDIuNSA1LjVaTTIgN0MxLjQ0NzcyIDcgMSA2LjU1MjI4IDEgNkwxIDNDMSAyLjQ0NzcyIDEuNDQ3NzIgMiAyIDJMMTIgMkMxMi41NTIzIDIgMTMgMi40NDc3MiAxMyAzTDEzIDZDMTMgNi41NTIyOSAxMi41NTIzIDcgMTIgN0wyIDdaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5OCI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KDEgMS43NDg0NmUtMDcgMS43NDg0NmUtMDcgLTEgNCAxMy40NDQzKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);
  --jp-icon-add: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bell: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiPgogICA8cGF0aCBjbGFzcz0ianAtaWNvbjIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzMzMzMzIgogICAgICBkPSJtOCAwLjI5Yy0xLjQgMC0yLjcgMC43My0zLjYgMS44LTEuMiAxLjUtMS40IDMuNC0xLjUgNS4yLTAuMTggMi4yLTAuNDQgNC0yLjMgNS4zbDAuMjggMS4zaDVjMC4wMjYgMC42NiAwLjMyIDEuMSAwLjcxIDEuNSAwLjg0IDAuNjEgMiAwLjYxIDIuOCAwIDAuNTItMC40IDAuNi0xIDAuNzEtMS41aDVsMC4yOC0xLjNjLTEuOS0wLjk3LTIuMi0zLjMtMi4zLTUuMy0wLjEzLTEuOC0wLjI2LTMuNy0xLjUtNS4yLTAuODUtMS0yLjItMS44LTMuNi0xLjh6bTAgMS40YzAuODggMCAxLjkgMC41NSAyLjUgMS4zIDAuODggMS4xIDEuMSAyLjcgMS4yIDQuNCAwLjEzIDEuNyAwLjIzIDMuNiAxLjMgNS4yaC0xMGMxLjEtMS42IDEuMi0zLjQgMS4zLTUuMiAwLjEzLTEuNyAwLjMtMy4zIDEuMi00LjQgMC41OS0wLjcyIDEuNi0xLjMgMi41LTEuM3ptLTAuNzQgMTJoMS41Yy0wLjAwMTUgMC4yOCAwLjAxNSAwLjc5LTAuNzQgMC43OS0wLjczIDAuMDAxNi0wLjcyLTAuNTMtMC43NC0wLjc5eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-bug-dot: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTcuMTkgOEgyMFYxMEgxNy45MUMxNy45NiAxMC4zMyAxOCAxMC42NiAxOCAxMVYxMkgyMFYxNEgxOC41SDE4VjE0LjAyNzVDMTUuNzUgMTQuMjc2MiAxNCAxNi4xODM3IDE0IDE4LjVDMTQgMTkuMjA4IDE0LjE2MzUgMTkuODc3OSAxNC40NTQ5IDIwLjQ3MzlDMTMuNzA2MyAyMC44MTE3IDEyLjg3NTcgMjEgMTIgMjFDOS43OCAyMSA3Ljg1IDE5Ljc5IDYuODEgMThINFYxNkg2LjA5QzYuMDQgMTUuNjcgNiAxNS4zNCA2IDE1VjE0SDRWMTJINlYxMUM2IDEwLjY2IDYuMDQgMTAuMzMgNi4wOSAxMEg0VjhINi44MUM3LjI2IDcuMjIgNy44OCA2LjU1IDguNjIgNi4wNEw3IDQuNDFMOC40MSAzTDEwLjU5IDUuMTdDMTEuMDQgNS4wNiAxMS41MSA1IDEyIDVDMTIuNDkgNSAxMi45NiA1LjA2IDEzLjQyIDUuMTdMMTUuNTkgM0wxNyA0LjQxTDE1LjM3IDYuMDRDMTYuMTIgNi41NSAxNi43NCA3LjIyIDE3LjE5IDhaTTEwIDE2SDE0VjE0SDEwVjE2Wk0xMCAxMkgxNFYxMEgxMFYxMloiIGZpbGw9IiM2MTYxNjEiLz4KICAgICAgICA8cGF0aCBkPSJNMjIgMTguNUMyMiAyMC40MzMgMjAuNDMzIDIyIDE4LjUgMjJDMTYuNTY3IDIyIDE1IDIwLjQzMyAxNSAxOC41QzE1IDE2LjU2NyAxNi41NjcgMTUgMTguNSAxNUMyMC40MzMgMTUgMjIgMTYuNTY3IDIyIDE4LjVaIiBmaWxsPSIjNjE2MTYxIi8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bug: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yMCA4aC0yLjgxYy0uNDUtLjc4LTEuMDctMS40NS0xLjgyLTEuOTZMMTcgNC40MSAxNS41OSAzbC0yLjE3IDIuMTdDMTIuOTYgNS4wNiAxMi40OSA1IDEyIDVjLS40OSAwLS45Ni4wNi0xLjQxLjE3TDguNDEgMyA3IDQuNDFsMS42MiAxLjYzQzcuODggNi41NSA3LjI2IDcuMjIgNi44MSA4SDR2MmgyLjA5Yy0uMDUuMzMtLjA5LjY2LS4wOSAxdjFINHYyaDJ2MWMwIC4zNC4wNC42Ny4wOSAxSDR2MmgyLjgxYzEuMDQgMS43OSAyLjk3IDMgNS4xOSAzczQuMTUtMS4yMSA1LjE5LTNIMjB2LTJoLTIuMDljLjA1LS4zMy4wOS0uNjYuMDktMXYtMWgydi0yaC0ydi0xYzAtLjM0LS4wNC0uNjctLjA5LTFIMjBWOHptLTYgOGgtNHYtMmg0djJ6bTAtNGgtNHYtMmg0djJ6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-build: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE0LjkgMTcuNDVDMTYuMjUgMTcuNDUgMTcuMzUgMTYuMzUgMTcuMzUgMTVDMTcuMzUgMTMuNjUgMTYuMjUgMTIuNTUgMTQuOSAxMi41NUMxMy41NCAxMi41NSAxMi40NSAxMy42NSAxMi40NSAxNUMxMi40NSAxNi4zNSAxMy41NCAxNy40NSAxNC45IDE3LjQ1Wk0yMC4xIDE1LjY4TDIxLjU4IDE2Ljg0QzIxLjcxIDE2Ljk1IDIxLjc1IDE3LjEzIDIxLjY2IDE3LjI5TDIwLjI2IDE5LjcxQzIwLjE3IDE5Ljg2IDIwIDE5LjkyIDE5LjgzIDE5Ljg2TDE4LjA5IDE5LjE2QzE3LjczIDE5LjQ0IDE3LjMzIDE5LjY3IDE2LjkxIDE5Ljg1TDE2LjY0IDIxLjdDMTYuNjIgMjEuODcgMTYuNDcgMjIgMTYuMyAyMkgxMy41QzEzLjMyIDIyIDEzLjE4IDIxLjg3IDEzLjE1IDIxLjdMMTIuODkgMTkuODVDMTIuNDYgMTkuNjcgMTIuMDcgMTkuNDQgMTEuNzEgMTkuMTZMOS45NjAwMiAxOS44NkM5LjgxMDAyIDE5LjkyIDkuNjIwMDIgMTkuODYgOS41NDAwMiAxOS43MUw4LjE0MDAyIDE3LjI5QzguMDUwMDIgMTcuMTMgOC4wOTAwMiAxNi45NSA4LjIyMDAyIDE2Ljg0TDkuNzAwMDIgMTUuNjhMOS42NTAwMSAxNUw5LjcwMDAyIDE0LjMxTDguMjIwMDIgMTMuMTZDOC4wOTAwMiAxMy4wNSA4LjA1MDAyIDEyLjg2IDguMTQwMDIgMTIuNzFMOS41NDAwMiAxMC4yOUM5LjYyMDAyIDEwLjEzIDkuODEwMDIgMTAuMDcgOS45NjAwMiAxMC4xM0wxMS43MSAxMC44NEMxMi4wNyAxMC41NiAxMi40NiAxMC4zMiAxMi44OSAxMC4xNUwxMy4xNSA4LjI4OTk4QzEzLjE4IDguMTI5OTggMTMuMzIgNy45OTk5OCAxMy41IDcuOTk5OThIMTYuM0MxNi40NyA3Ljk5OTk4IDE2LjYyIDguMTI5OTggMTYuNjQgOC4yODk5OEwxNi45MSAxMC4xNUMxNy4zMyAxMC4zMiAxNy43MyAxMC41NiAxOC4wOSAxMC44NEwxOS44MyAxMC4xM0MyMCAxMC4wNyAyMC4xNyAxMC4xMyAyMC4yNiAxMC4yOUwyMS42NiAxMi43MUMyMS43NSAxMi44NiAyMS43MSAxMy4wNSAyMS41OCAxMy4xNkwyMC4xIDE0LjMxTDIwLjE1IDE1TDIwLjEgMTUuNjhaIi8+CiAgICA8cGF0aCBkPSJNNy4zMjk2NiA3LjQ0NDU0QzguMDgzMSA3LjAwOTU0IDguMzM5MzIgNi4wNTMzMiA3LjkwNDMyIDUuMjk5ODhDNy40NjkzMiA0LjU0NjQzIDYuNTA4MSA0LjI4MTU2IDUuNzU0NjYgNC43MTY1NkM1LjM5MTc2IDQuOTI2MDggNS4xMjY5NSA1LjI3MTE4IDUuMDE4NDkgNS42NzU5NEM0LjkxMDA0IDYuMDgwNzEgNC45NjY4MiA2LjUxMTk4IDUuMTc2MzQgNi44NzQ4OEM1LjYxMTM0IDcuNjI4MzIgNi41NzYyMiA3Ljg3OTU0IDcuMzI5NjYgNy40NDQ1NFpNOS42NTcxOCA0Ljc5NTkzTDEwLjg2NzIgNC45NTE3OUMxMC45NjI4IDQuOTc3NDEgMTEuMDQwMiA1LjA3MTMzIDExLjAzODIgNS4xODc5M0wxMS4wMzg4IDYuOTg4OTNDMTEuMDQ1NSA3LjEwMDU0IDEwLjk2MTYgNy4xOTUxOCAxMC44NTUgNy4yMTA1NEw5LjY2MDAxIDcuMzgwODNMOS4yMzkxNSA4LjEzMTg4TDkuNjY5NjEgOS4yNTc0NUM5LjcwNzI5IDkuMzYyNzEgOS42NjkzNCA5LjQ3Njk5IDkuNTc0MDggOS41MzE5OUw4LjAxNTIzIDEwLjQzMkM3LjkxMTMxIDEwLjQ5MiA3Ljc5MzM3IDEwLjQ2NzcgNy43MjEwNSAxMC4zODI0TDYuOTg3NDggOS40MzE4OEw2LjEwOTMxIDkuNDMwODNMNS4zNDcwNCAxMC4zOTA1QzUuMjg5MDkgMTAuNDcwMiA1LjE3MzgzIDEwLjQ5MDUgNS4wNzE4NyAxMC40MzM5TDMuNTEyNDUgOS41MzI5M0MzLjQxMDQ5IDkuNDc2MzMgMy4zNzY0NyA5LjM1NzQxIDMuNDEwNzUgOS4yNTY3OUwzLjg2MzQ3IDguMTQwOTNMMy42MTc0OSA3Ljc3NDg4TDMuNDIzNDcgNy4zNzg4M0wyLjIzMDc1IDcuMjEyOTdDMi4xMjY0NyA3LjE5MjM1IDIuMDQwNDkgNy4xMDM0MiAyLjA0MjQ1IDYuOTg2ODJMMi4wNDE4NyA1LjE4NTgyQzIuMDQzODMgNS4wNjkyMiAyLjExOTA5IDQuOTc5NTggMi4yMTcwNCA0Ljk2OTIyTDMuNDIwNjUgNC43OTM5M0wzLjg2NzQ5IDQuMDI3ODhMMy40MTEwNSAyLjkxNzMxQzMuMzczMzcgMi44MTIwNCAzLjQxMTMxIDIuNjk3NzYgMy41MTUyMyAyLjYzNzc2TDUuMDc0MDggMS43Mzc3NkM1LjE2OTM0IDEuNjgyNzYgNS4yODcyOSAxLjcwNzA0IDUuMzU5NjEgMS43OTIzMUw2LjExOTE1IDIuNzI3ODhMNi45ODAwMSAyLjczODkzTDcuNzI0OTYgMS43ODkyMkM3Ljc5MTU2IDEuNzA0NTggNy45MTU0OCAxLjY3OTIyIDguMDA4NzkgMS43NDA4Mkw5LjU2ODIxIDIuNjQxODJDOS42NzAxNyAyLjY5ODQyIDkuNzEyODUgMi44MTIzNCA5LjY4NzIzIDIuOTA3OTdMOS4yMTcxOCA0LjAzMzgzTDkuNDYzMTYgNC4zOTk4OEw5LjY1NzE4IDQuNzk1OTNaIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iOS45LDEzLjYgMy42LDcuNCA0LjQsNi42IDkuOSwxMi4yIDE1LjQsNi43IDE2LjEsNy40ICIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNS45TDksOS43bDMuOC0zLjhsMS4yLDEuMmwtNC45LDVsLTQuOS01TDUuMiw1Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNy41TDksMTEuMmwzLjgtMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-left: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik0xMC44LDEyLjhMNy4xLDlsMy44LTMuOGwwLDcuNkgxMC44eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-right: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik03LjIsNS4yTDEwLjksOWwtMy44LDMuOFY1LjJINy4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-up-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iMTUuNCwxMy4zIDkuOSw3LjcgNC40LDEzLjIgMy42LDEyLjUgOS45LDYuMyAxNi4xLDEyLjYgIi8+Cgk8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-up: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik01LjIsMTAuNUw5LDYuOGwzLjgsMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-case-sensitive: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWFjY2VudDIiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTcuNiw4aDAuOWwzLjUsOGgtMS4xTDEwLDE0SDZsLTAuOSwySDRMNy42LDh6IE04LDkuMUw2LjQsMTNoMy4yTDgsOS4xeiIvPgogICAgPHBhdGggZD0iTTE2LjYsOS44Yy0wLjIsMC4xLTAuNCwwLjEtMC43LDAuMWMtMC4yLDAtMC40LTAuMS0wLjYtMC4yYy0wLjEtMC4xLTAuMi0wLjQtMC4yLTAuNyBjLTAuMywwLjMtMC42LDAuNS0wLjksMC43Yy0wLjMsMC4xLTAuNywwLjItMS4xLDAuMmMtMC4zLDAtMC41LDAtMC43LTAuMWMtMC4yLTAuMS0wLjQtMC4yLTAuNi0wLjNjLTAuMi0wLjEtMC4zLTAuMy0wLjQtMC41IGMtMC4xLTAuMi0wLjEtMC40LTAuMS0wLjdjMC0wLjMsMC4xLTAuNiwwLjItMC44YzAuMS0wLjIsMC4zLTAuNCwwLjQtMC41QzEyLDcsMTIuMiw2LjksMTIuNSw2LjhjMC4yLTAuMSwwLjUtMC4xLDAuNy0wLjIgYzAuMy0wLjEsMC41LTAuMSwwLjctMC4xYzAuMiwwLDAuNC0wLjEsMC42LTAuMWMwLjIsMCwwLjMtMC4xLDAuNC0wLjJjMC4xLTAuMSwwLjItMC4yLDAuMi0wLjRjMC0xLTEuMS0xLTEuMy0xIGMtMC40LDAtMS40LDAtMS40LDEuMmgtMC45YzAtMC40LDAuMS0wLjcsMC4yLTFjMC4xLTAuMiwwLjMtMC40LDAuNS0wLjZjMC4yLTAuMiwwLjUtMC4zLDAuOC0wLjNDMTMuMyw0LDEzLjYsNCwxMy45LDQgYzAuMywwLDAuNSwwLDAuOCwwLjFjMC4zLDAsMC41LDAuMSwwLjcsMC4yYzAuMiwwLjEsMC40LDAuMywwLjUsMC41QzE2LDUsMTYsNS4yLDE2LDUuNnYyLjljMCwwLjIsMCwwLjQsMCwwLjUgYzAsMC4xLDAuMSwwLjIsMC4zLDAuMmMwLjEsMCwwLjIsMCwwLjMsMFY5Ljh6IE0xNS4yLDYuOWMtMS4yLDAuNi0zLjEsMC4yLTMuMSwxLjRjMCwxLjQsMy4xLDEsMy4xLTAuNVY2Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-circle-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-circle: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-clear: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8bWFzayBpZD0iZG9udXRIb2xlIj4KICAgIDxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiIC8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSJibGFjayIvPgogIDwvbWFzaz4KCiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxyZWN0IGhlaWdodD0iMTgiIHdpZHRoPSIyIiB4PSIxMSIgeT0iMyIgdHJhbnNmb3JtPSJyb3RhdGUoMzE1LCAxMiwgMTIpIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgbWFzaz0idXJsKCNkb251dEhvbGUpIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-close: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1ub25lIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIGpwLWljb24zLWhvdmVyIiBmaWxsPSJub25lIj4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjExIi8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIGpwLWljb24tYWNjZW50Mi1ob3ZlciIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogIDwvZz4KCiAgPGcgY2xhc3M9ImpwLWljb24tbm9uZSBqcC1pY29uLWJ1c3kiIGZpbGw9Im5vbmUiPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICA8cGF0aCBkPSJNNi41OSwzLjQxTDIsOEw2LjU5LDEyLjZMOCwxMS4xOEw0LjgyLDhMOCw0LjgyTDYuNTksMy40MU0xMi40MSwzLjQxTDExLDQuODJMMTQuMTgsOEwxMSwxMS4xOEwxMi40MSwxMi42TDE3LDhMMTIuNDEsMy40MU0yMS41OSwxMS41OUwxMy41LDE5LjY4TDkuODMsMTZMOC40MiwxNy40MUwxMy41LDIyLjVMMjMsMTNMMjEuNTksMTEuNTlaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTExLjQgMTguNkw2LjggMTRMMTEuNCA5LjRMMTAgOEw0IDE0TDEwIDIwTDExLjQgMTguNlpNMTYuNiAxOC42TDIxLjIgMTRMMTYuNiA5LjRMMTggOEwyNCAxNEwxOCAyMEwxNi42IDE4LjZWMTguNloiLz4KCTwvZz4KPC9zdmc+Cg==);
  --jp-icon-collapse-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNNiAxM3YyaDh2LTJ6IiAvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-console: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwMCAyMDAiPgogIDxnIGNsYXNzPSJqcC1jb25zb2xlLWljb24tYmFja2dyb3VuZC1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMjg4RDEiPgogICAgPHBhdGggZD0iTTIwIDE5LjhoMTYwdjE1OS45SDIweiIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtY29uc29sZS1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIj4KICAgIDxwYXRoIGQ9Ik0xMDUgMTI3LjNoNDB2MTIuOGgtNDB6TTUxLjEgNzdMNzQgOTkuOWwtMjMuMyAyMy4zIDEwLjUgMTAuNSAyMy4zLTIzLjNMOTUgOTkuOSA4NC41IDg5LjQgNjEuNiA2Ni41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copy: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTExLjksMUgzLjJDMi40LDEsMS43LDEuNywxLjcsMi41djEwLjJoMS41VjIuNWg4LjdWMXogTTE0LjEsMy45aC04Yy0wLjgsMC0xLjUsMC43LTEuNSwxLjV2MTAuMmMwLDAuOCwwLjcsMS41LDEuNSwxLjVoOCBjMC44LDAsMS41LTAuNywxLjUtMS41VjUuNEMxNS41LDQuNiwxNC45LDMuOSwxNC4xLDMuOXogTTE0LjEsMTUuNWgtOFY1LjRoOFYxNS41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copyright: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCI+CiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0xMS44OCw5LjE0YzEuMjgsMC4wNiwxLjYxLDEuMTUsMS42MywxLjY2aDEuNzljLTAuMDgtMS45OC0xLjQ5LTMuMTktMy40NS0zLjE5QzkuNjQsNy42MSw4LDksOCwxMi4xNCBjMCwxLjk0LDAuOTMsNC4yNCwzLjg0LDQuMjRjMi4yMiwwLDMuNDEtMS42NSwzLjQ0LTIuOTVoLTEuNzljLTAuMDMsMC41OS0wLjQ1LDEuMzgtMS42MywxLjQ0QzEwLjU1LDE0LjgzLDEwLDEzLjgxLDEwLDEyLjE0IEMxMCw5LjI1LDExLjI4LDkuMTYsMTEuODgsOS4xNHogTTEyLDJDNi40OCwyLDIsNi40OCwyLDEyczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMFMxNy41MiwyLDEyLDJ6IE0xMiwyMGMtNC40MSwwLTgtMy41OS04LTggczMuNTktOCw4LThzOCwzLjU5LDgsOFMxNi40MSwyMCwxMiwyMHoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-cut: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkuNjQgNy42NGMuMjMtLjUuMzYtMS4wNS4zNi0xLjY0IDAtMi4yMS0xLjc5LTQtNC00UzIgMy43OSAyIDZzMS43OSA0IDQgNGMuNTkgMCAxLjE0LS4xMyAxLjY0LS4zNkwxMCAxMmwtMi4zNiAyLjM2QzcuMTQgMTQuMTMgNi41OSAxNCA2IDE0Yy0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRjMC0uNTktLjEzLTEuMTQtLjM2LTEuNjRMMTIgMTRsNyA3aDN2LTFMOS42NCA3LjY0ek02IDhjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTAgMTJjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTYtNy41Yy0uMjggMC0uNS0uMjItLjUtLjVzLjIyLS41LjUtLjUuNS4yMi41LjUtLjIyLjUtLjUuNXpNMTkgM2wtNiA2IDIgMiA3LTdWM3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-delete: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjI2MjYyIiBkPSJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-download: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDloLTRWM0g5djZINWw3IDcgNy03ek01IDE4djJoMTR2LTJINXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-duplicate: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNzk5OTggMC44NzVIOC44OTU4MkM5LjIwMDYxIDAuODc1IDkuNDQ5OTggMS4xMzkxNCA5LjQ0OTk4IDEuNDYxOThDOS40NDk5OCAxLjc4NDgyIDkuMjAwNjEgMi4wNDg5NiA4Ljg5NTgyIDIuMDQ4OTZIMy4zNTQxNUMzLjA0OTM2IDIuMDQ4OTYgMi43OTk5OCAyLjMxMzEgMi43OTk5OCAyLjYzNTk0VjkuNjc5NjlDMi43OTk5OCAxMC4wMDI1IDIuNTUwNjEgMTAuMjY2NyAyLjI0NTgyIDEwLjI2NjdDMS45NDEwMyAxMC4yNjY3IDEuNjkxNjUgMTAuMDAyNSAxLjY5MTY1IDkuNjc5NjlWMi4wNDg5NkMxLjY5MTY1IDEuNDAzMjggMi4xOTA0IDAuODc1IDIuNzk5OTggMC44NzVaTTUuMzY2NjUgMTEuOVY0LjU1SDExLjA4MzNWMTEuOUg1LjM2NjY1Wk00LjE0MTY1IDQuMTQxNjdDNC4xNDE2NSAzLjY5MDYzIDQuNTA3MjggMy4zMjUgNC45NTgzMiAzLjMyNUgxMS40OTE3QzExLjk0MjcgMy4zMjUgMTIuMzA4MyAzLjY5MDYzIDEyLjMwODMgNC4xNDE2N1YxMi4zMDgzQzEyLjMwODMgMTIuNzU5NCAxMS45NDI3IDEzLjEyNSAxMS40OTE3IDEzLjEyNUg0Ljk1ODMyQzQuNTA3MjggMTMuMTI1IDQuMTQxNjUgMTIuNzU5NCA0LjE0MTY1IDEyLjMwODNWNC4xNDE2N1oiIGZpbGw9IiM2MTYxNjEiLz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNOS40MzU3NCA4LjI2NTA3SDguMzY0MzFWOS4zMzY1QzguMzY0MzEgOS40NTQzNSA4LjI2Nzg4IDkuNTUwNzggOC4xNTAwMiA5LjU1MDc4QzguMDMyMTcgOS41NTA3OCA3LjkzNTc0IDkuNDU0MzUgNy45MzU3NCA5LjMzNjVWOC4yNjUwN0g2Ljg2NDMxQzYuNzQ2NDUgOC4yNjUwNyA2LjY1MDAyIDguMTY4NjQgNi42NTAwMiA4LjA1MDc4QzYuNjUwMDIgNy45MzI5MiA2Ljc0NjQ1IDcuODM2NSA2Ljg2NDMxIDcuODM2NUg3LjkzNTc0VjYuNzY1MDdDNy45MzU3NCA2LjY0NzIxIDguMDMyMTcgNi41NTA3OCA4LjE1MDAyIDYuNTUwNzhDOC4yNjc4OCA2LjU1MDc4IDguMzY0MzEgNi42NDcyMSA4LjM2NDMxIDYuNzY1MDdWNy44MzY1SDkuNDM1NzRDOS41NTM2IDcuODM2NSA5LjY1MDAyIDcuOTMyOTIgOS42NTAwMiA4LjA1MDc4QzkuNjUwMDIgOC4xNjg2NCA5LjU1MzYgOC4yNjUwNyA5LjQzNTc0IDguMjY1MDdaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC41Ii8+Cjwvc3ZnPgo=);
  --jp-icon-edit: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-ellipses: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxOSIgY3k9IjEyIiByPSIyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-error: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIyIi8+PHBhdGggZD0iTTEwIDNoNHYxMmgtNHoiLz48L2c+CjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMHoiLz4KPC9zdmc+Cg==);
  --jp-icon-expand-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNMTEgMTBIOXYzSDZ2MmgzdjNoMnYtM2gzdi0yaC0zeiIgLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-extension: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwLjUgMTFIMTlWN2MwLTEuMS0uOS0yLTItMmgtNFYzLjVDMTMgMi4xMiAxMS44OCAxIDEwLjUgMVM4IDIuMTIgOCAzLjVWNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAydjMuOEgzLjVjMS40OSAwIDIuNyAxLjIxIDIuNyAyLjdzLTEuMjEgMi43LTIuNyAyLjdIMlYyMGMwIDEuMS45IDIgMiAyaDMuOHYtMS41YzAtMS40OSAxLjIxLTIuNyAyLjctMi43IDEuNDkgMCAyLjcgMS4yMSAyLjcgMi43VjIySDE3YzEuMSAwIDItLjkgMi0ydi00aDEuNWMxLjM4IDAgMi41LTEuMTIgMi41LTIuNVMyMS44OCAxMSAyMC41IDExeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-fast-forward: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTQgMThsOC41LTZMNCA2djEyem05LTEydjEybDguNS02TDEzIDZ6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-file-upload: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkgMTZoNnYtNmg0bC03LTctNyA3aDR6bS00IDJoMTR2Mkg1eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-file: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuMyA4LjJsLTUuNS01LjVjLS4zLS4zLS43LS41LTEuMi0uNUgzLjljLS44LjEtMS42LjktMS42IDEuOHYxNC4xYzAgLjkuNyAxLjYgMS42IDEuNmgxNC4yYy45IDAgMS42LS43IDEuNi0xLjZWOS40Yy4xLS41LS4xLS45LS40LTEuMnptLTUuOC0zLjNsMy40IDMuNmgtMy40VjQuOXptMy45IDEyLjdINC43Yy0uMSAwLS4yIDAtLjItLjJWNC43YzAtLjIuMS0uMy4yLS4zaDcuMnY0LjRzMCAuOC4zIDEuMWMuMy4zIDEuMS4zIDEuMS4zaDQuM3Y3LjJzLS4xLjItLjIuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-filter-dot: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWRvdCIgZmlsbD0iI0ZGRiI+CiAgICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE3IiByPSIzIj48L2NpcmNsZT4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-filter-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEwIDE4aDR2LTJoLTR2MnpNMyA2djJoMThWNkgzem0zIDdoMTJ2LTJINnYyeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-filter: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-folder-favorite: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggY2xhc3M9ImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxNjE2MSIgZD0iTTIwIDZoLThsLTItMkg0Yy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjhjMC0xLjEtLjktMi0yLTJ6bS0yLjA2IDExTDE1IDE1LjI4IDEyLjA2IDE3bC43OC0zLjMzLTIuNTktMi4yNCAzLjQxLS4yOUwxNSA4bDEuMzQgMy4xNCAzLjQxLjI5LTIuNTkgMi4yNC43OCAzLjMzeiIvPgo8L3N2Zz4K);
  --jp-icon-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY4YzAtMS4xLS45LTItMi0yaC04bC0yLTJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-home: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xMCAyMHYtNmg0djZoNXYtOGgzTDEyIDMgMiAxMmgzdjh6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-html5: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uMCBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMDAiIGQ9Ik0xMDguNCAwaDIzdjIyLjhoMjEuMlYwaDIzdjY5aC0yM1Y0NmgtMjF2MjNoLTIzLjJNMjA2IDIzaC0yMC4zVjBoNjMuN3YyM0gyMjl2NDZoLTIzbTUzLjUtNjloMjQuMWwxNC44IDI0LjNMMzEzLjIgMGgyNC4xdjY5aC0yM1YzNC44bC0xNi4xIDI0LjgtMTYuMS0yNC44VjY5aC0yMi42bTg5LjItNjloMjN2NDYuMmgzMi42VjY5aC01NS42Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2U0NGQyNiIgZD0iTTEwNy42IDQ3MWwtMzMtMzcwLjRoMzYyLjhsLTMzIDM3MC4yTDI1NS43IDUxMiIvPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNmMTY1MjkiIGQ9Ik0yNTYgNDgwLjVWMTMxaDE0OC4zTDM3NiA0NDciLz4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNlYmViZWIiIGQ9Ik0xNDIgMTc2LjNoMTE0djQ1LjRoLTY0LjJsNC4yIDQ2LjVoNjB2NDUuM0gxNTQuNG0yIDIyLjhIMjAybDMuMiAzNi4zIDUwLjggMTMuNnY0Ny40bC05My4yLTI2Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIiBkPSJNMzY5LjYgMTc2LjNIMjU1Ljh2NDUuNGgxMDkuNm0tNC4xIDQ2LjVIMjU1Ljh2NDUuNGg1NmwtNS4zIDU5LTUwLjcgMTMuNnY0Ny4ybDkzLTI1LjgiLz4KPC9zdmc+Cg==);
  --jp-icon-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1icmFuZDQganAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNGRkYiIGQ9Ik0yLjIgMi4yaDE3LjV2MTcuNUgyLjJ6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzNGNTFCNSIgZD0iTTIuMiAyLjJ2MTcuNWgxNy41bC4xLTE3LjVIMi4yem0xMi4xIDIuMmMxLjIgMCAyLjIgMSAyLjIgMi4ycy0xIDIuMi0yLjIgMi4yLTIuMi0xLTIuMi0yLjIgMS0yLjIgMi4yLTIuMnpNNC40IDE3LjZsMy4zLTguOCAzLjMgNi42IDIuMi0zLjIgNC40IDUuNEg0LjR6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-info: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUwLjk3OCA1MC45NzgiPgoJPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KCQk8cGF0aCBkPSJNNDMuNTIsNy40NThDMzguNzExLDIuNjQ4LDMyLjMwNywwLDI1LjQ4OSwwQzE4LjY3LDAsMTIuMjY2LDIuNjQ4LDcuNDU4LDcuNDU4CgkJCWMtOS45NDMsOS45NDEtOS45NDMsMjYuMTE5LDAsMzYuMDYyYzQuODA5LDQuODA5LDExLjIxMiw3LjQ1NiwxOC4wMzEsNy40NThjMCwwLDAuMDAxLDAsMC4wMDIsMAoJCQljNi44MTYsMCwxMy4yMjEtMi42NDgsMTguMDI5LTcuNDU4YzQuODA5LTQuODA5LDcuNDU3LTExLjIxMiw3LjQ1Ny0xOC4wM0M1MC45NzcsMTguNjcsNDguMzI4LDEyLjI2Niw0My41Miw3LjQ1OHoKCQkJIE00Mi4xMDYsNDIuMTA1Yy00LjQzMiw0LjQzMS0xMC4zMzIsNi44NzItMTYuNjE1LDYuODcyaC0wLjAwMmMtNi4yODUtMC4wMDEtMTIuMTg3LTIuNDQxLTE2LjYxNy02Ljg3MgoJCQljLTkuMTYyLTkuMTYzLTkuMTYyLTI0LjA3MSwwLTMzLjIzM0MxMy4zMDMsNC40NCwxOS4yMDQsMiwyNS40ODksMmM2LjI4NCwwLDEyLjE4NiwyLjQ0LDE2LjYxNyw2Ljg3MgoJCQljNC40MzEsNC40MzEsNi44NzEsMTAuMzMyLDYuODcxLDE2LjYxN0M0OC45NzcsMzEuNzcyLDQ2LjUzNiwzNy42NzUsNDIuMTA2LDQyLjEwNXoiLz4KCQk8cGF0aCBkPSJNMjMuNTc4LDMyLjIxOGMtMC4wMjMtMS43MzQsMC4xNDMtMy4wNTksMC40OTYtMy45NzJjMC4zNTMtMC45MTMsMS4xMS0xLjk5NywyLjI3Mi0zLjI1MwoJCQljMC40NjgtMC41MzYsMC45MjMtMS4wNjIsMS4zNjctMS41NzVjMC42MjYtMC43NTMsMS4xMDQtMS40NzgsMS40MzYtMi4xNzVjMC4zMzEtMC43MDcsMC40OTUtMS41NDEsMC40OTUtMi41CgkJCWMwLTEuMDk2LTAuMjYtMi4wODgtMC43NzktMi45NzljLTAuNTY1LTAuODc5LTEuNTAxLTEuMzM2LTIuODA2LTEuMzY5Yy0xLjgwMiwwLjA1Ny0yLjk4NSwwLjY2Ny0zLjU1LDEuODMyCgkJCWMtMC4zMDEsMC41MzUtMC41MDMsMS4xNDEtMC42MDcsMS44MTRjLTAuMTM5LDAuNzA3LTAuMjA3LDEuNDMyLTAuMjA3LDIuMTc0aC0yLjkzN2MtMC4wOTEtMi4yMDgsMC40MDctNC4xMTQsMS40OTMtNS43MTkKCQkJYzEuMDYyLTEuNjQsMi44NTUtMi40ODEsNS4zNzgtMi41MjdjMi4xNiwwLjAyMywzLjg3NCwwLjYwOCw1LjE0MSwxLjc1OGMxLjI3OCwxLjE2LDEuOTI5LDIuNzY0LDEuOTUsNC44MTEKCQkJYzAsMS4xNDItMC4xMzcsMi4xMTEtMC40MSwyLjkxMWMtMC4zMDksMC44NDUtMC43MzEsMS41OTMtMS4yNjgsMi4yNDNjLTAuNDkyLDAuNjUtMS4wNjgsMS4zMTgtMS43MywyLjAwMgoJCQljLTAuNjUsMC42OTctMS4zMTMsMS40NzktMS45ODcsMi4zNDZjLTAuMjM5LDAuMzc3LTAuNDI5LDAuNzc3LTAuNTY1LDEuMTk5Yy0wLjE2LDAuOTU5LTAuMjE3LDEuOTUxLTAuMTcxLDIuOTc5CgkJCUMyNi41ODksMzIuMjE4LDIzLjU3OCwzMi4yMTgsMjMuNTc4LDMyLjIxOHogTTIzLjU3OCwzOC4yMnYtMy40ODRoMy4wNzZ2My40ODRIMjMuNTc4eiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-inspector: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaW5zcGVjdG9yLWljb24tY29sb3IganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0tNSAxNEg0di00aDExdjR6bTAtNUg0VjloMTF2NHptNSA1aC00VjloNHY5eiIvPgo8L3N2Zz4K);
  --jp-icon-json: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtanNvbi1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0Y5QTgyNSI+CiAgICA8cGF0aCBkPSJNMjAuMiAxMS44Yy0xLjYgMC0xLjcuNS0xLjcgMSAwIC40LjEuOS4xIDEuMy4xLjUuMS45LjEgMS4zIDAgMS43LTEuNCAyLjMtMy41IDIuM2gtLjl2LTEuOWguNWMxLjEgMCAxLjQgMCAxLjQtLjggMC0uMyAwLS42LS4xLTEgMC0uNC0uMS0uOC0uMS0xLjIgMC0xLjMgMC0xLjggMS4zLTItMS4zLS4yLTEuMy0uNy0xLjMtMiAwLS40LjEtLjguMS0xLjIuMS0uNC4xLS43LjEtMSAwLS44LS40LS43LTEuNC0uOGgtLjVWNC4xaC45YzIuMiAwIDMuNS43IDMuNSAyLjMgMCAuNC0uMS45LS4xIDEuMy0uMS41LS4xLjktLjEgMS4zIDAgLjUuMiAxIDEuNyAxdjEuOHpNMS44IDEwLjFjMS42IDAgMS43LS41IDEuNy0xIDAtLjQtLjEtLjktLjEtMS4zLS4xLS41LS4xLS45LS4xLTEuMyAwLTEuNiAxLjQtMi4zIDMuNS0yLjNoLjl2MS45aC0uNWMtMSAwLTEuNCAwLTEuNC44IDAgLjMgMCAuNi4xIDEgMCAuMi4xLjYuMSAxIDAgMS4zIDAgMS44LTEuMyAyQzYgMTEuMiA2IDExLjcgNiAxM2MwIC40LS4xLjgtLjEgMS4yLS4xLjMtLjEuNy0uMSAxIDAgLjguMy44IDEuNC44aC41djEuOWgtLjljLTIuMSAwLTMuNS0uNi0zLjUtMi4zIDAtLjQuMS0uOS4xLTEuMy4xLS41LjEtLjkuMS0xLjMgMC0uNS0uMi0xLTEuNy0xdi0xLjl6Ii8+CiAgICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjEzLjgiIHI9IjIuMSIvPgogICAgPGNpcmNsZSBjeD0iMTEiIGN5PSI4LjIiIHI9IjIuMSIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-julia: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDMyNSAzMDAiPgogIDxnIGNsYXNzPSJqcC1icmFuZDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjY2IzYzMzIj4KICAgIDxwYXRoIGQ9Ik0gMTUwLjg5ODQzOCAyMjUgQyAxNTAuODk4NDM4IDI2Ni40MjE4NzUgMTE3LjMyMDMxMiAzMDAgNzUuODk4NDM4IDMwMCBDIDM0LjQ3NjU2MiAzMDAgMC44OTg0MzggMjY2LjQyMTg3NSAwLjg5ODQzOCAyMjUgQyAwLjg5ODQzOCAxODMuNTc4MTI1IDM0LjQ3NjU2MiAxNTAgNzUuODk4NDM4IDE1MCBDIDExNy4zMjAzMTIgMTUwIDE1MC44OTg0MzggMTgzLjU3ODEyNSAxNTAuODk4NDM4IDIyNSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzM4OTgyNiI+CiAgICA8cGF0aCBkPSJNIDIzNy41IDc1IEMgMjM3LjUgMTE2LjQyMTg3NSAyMDMuOTIxODc1IDE1MCAxNjIuNSAxNTAgQyAxMjEuMDc4MTI1IDE1MCA4Ny41IDExNi40MjE4NzUgODcuNSA3NSBDIDg3LjUgMzMuNTc4MTI1IDEyMS4wNzgxMjUgMCAxNjIuNSAwIEMgMjAzLjkyMTg3NSAwIDIzNy41IDMzLjU3ODEyNSAyMzcuNSA3NSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzk1NThiMiI+CiAgICA8cGF0aCBkPSJNIDMyNC4xMDE1NjIgMjI1IEMgMzI0LjEwMTU2MiAyNjYuNDIxODc1IDI5MC41MjM0MzggMzAwIDI0OS4xMDE1NjIgMzAwIEMgMjA3LjY3OTY4OCAzMDAgMTc0LjEwMTU2MiAyNjYuNDIxODc1IDE3NC4xMDE1NjIgMjI1IEMgMTc0LjEwMTU2MiAxODMuNTc4MTI1IDIwNy42Nzk2ODggMTUwIDI0OS4xMDE1NjIgMTUwIEMgMjkwLjUyMzQzOCAxNTAgMzI0LjEwMTU2MiAxODMuNTc4MTI1IDMyNC4xMDE1NjIgMjI1Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-jupyter-favicon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUyIiBoZWlnaHQ9IjE2NSIgdmlld0JveD0iMCAwIDE1MiAxNjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgPGcgY2xhc3M9ImpwLWp1cHl0ZXItaWNvbi1jb2xvciIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA3ODk0NywgMTEwLjU4MjkyNykiIGQ9Ik03NS45NDIyODQyLDI5LjU4MDQ1NjEgQzQzLjMwMjM5NDcsMjkuNTgwNDU2MSAxNC43OTY3ODMyLDE3LjY1MzQ2MzQgMCwwIEM1LjUxMDgzMjExLDE1Ljg0MDY4MjkgMTUuNzgxNTM4OSwyOS41NjY3NzMyIDI5LjM5MDQ5NDcsMzkuMjc4NDE3MSBDNDIuOTk5Nyw0OC45ODk4NTM3IDU5LjI3MzcsNTQuMjA2NzgwNSA3NS45NjA1Nzg5LDU0LjIwNjc4MDUgQzkyLjY0NzQ1NzksNTQuMjA2NzgwNSAxMDguOTIxNDU4LDQ4Ljk4OTg1MzcgMTIyLjUzMDY2MywzOS4yNzg0MTcxIEMxMzYuMTM5NDUzLDI5LjU2Njc3MzIgMTQ2LjQxMDI4NCwxNS44NDA2ODI5IDE1MS45MjExNTgsMCBDMTM3LjA4Nzg2OCwxNy42NTM0NjM0IDEwOC41ODI1ODksMjkuNTgwNDU2MSA3NS45NDIyODQyLDI5LjU4MDQ1NjEgTDc1Ljk0MjI4NDIsMjkuNTgwNDU2MSBaIiAvPgogICAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMzczNjgsIDAuNzA0ODc4KSIgZD0iTTc1Ljk3ODQ1NzksMjQuNjI2NDA3MyBDMTA4LjYxODc2MywyNC42MjY0MDczIDEzNy4xMjQ0NTgsMzYuNTUzNDQxNSAxNTEuOTIxMTU4LDU0LjIwNjc4MDUgQzE0Ni40MTAyODQsMzguMzY2MjIyIDEzNi4xMzk0NTMsMjQuNjQwMTMxNyAxMjIuNTMwNjYzLDE0LjkyODQ4NzggQzEwOC45MjE0NTgsNS4yMTY4NDM5IDkyLjY0NzQ1NzksMCA3NS45NjA1Nzg5LDAgQzU5LjI3MzcsMCA0Mi45OTk3LDUuMjE2ODQzOSAyOS4zOTA0OTQ3LDE0LjkyODQ4NzggQzE1Ljc4MTUzODksMjQuNjQwMTMxNyA1LjUxMDgzMjExLDM4LjM2NjIyMiAwLDU0LjIwNjc4MDUgQzE0LjgzMzA4MTYsMzYuNTg5OTI5MyA0My4zMzg1Njg0LDI0LjYyNjQwNzMgNzUuOTc4NDU3OSwyNC42MjY0MDczIEw3NS45Nzg0NTc5LDI0LjYyNjQwNzMgWiIgLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-jupyter: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCAzOSA1MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzOCAtMjI4MSkiPgogICAgIDxnIGNsYXNzPSJqcC1qdXB5dGVyLWljb24tY29sb3IiIGZpbGw9IiNGMzc3MjYiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5Ljc0IDIzMTEuOTgpIiBkPSJNIDE4LjI2NDYgNy4xMzQxMUMgMTAuNDE0NSA3LjEzNDExIDMuNTU4NzIgNC4yNTc2IDAgMEMgMS4zMjUzOSAzLjgyMDQgMy43OTU1NiA3LjEzMDgxIDcuMDY4NiA5LjQ3MzAzQyAxMC4zNDE3IDExLjgxNTIgMTQuMjU1NyAxMy4wNzM0IDE4LjI2OSAxMy4wNzM0QyAyMi4yODIzIDEzLjA3MzQgMjYuMTk2MyAxMS44MTUyIDI5LjQ2OTQgOS40NzMwM0MgMzIuNzQyNCA3LjEzMDgxIDM1LjIxMjYgMy44MjA0IDM2LjUzOCAwQyAzMi45NzA1IDQuMjU3NiAyNi4xMTQ4IDcuMTM0MTEgMTguMjY0NiA3LjEzNDExWiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5LjczIDIyODUuNDgpIiBkPSJNIDE4LjI3MzMgNS45MzkzMUMgMjYuMTIzNSA1LjkzOTMxIDMyLjk3OTMgOC44MTU4MyAzNi41MzggMTMuMDczNEMgMzUuMjEyNiA5LjI1MzAzIDMyLjc0MjQgNS45NDI2MiAyOS40Njk0IDMuNjAwNEMgMjYuMTk2MyAxLjI1ODE4IDIyLjI4MjMgMCAxOC4yNjkgMEMgMTQuMjU1NyAwIDEwLjM0MTcgMS4yNTgxOCA3LjA2ODYgMy42MDA0QyAzLjc5NTU2IDUuOTQyNjIgMS4zMjUzOSA5LjI1MzAzIDAgMTMuMDczNEMgMy41Njc0NSA4LjgyNDYzIDEwLjQyMzIgNS45MzkzMSAxOC4yNzMzIDUuOTM5MzFaIi8+CiAgICA8L2c+CiAgICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjY5LjMgMjI4MS4zMSkiIGQ9Ik0gNS44OTM1MyAyLjg0NEMgNS45MTg4OSAzLjQzMTY1IDUuNzcwODUgNC4wMTM2NyA1LjQ2ODE1IDQuNTE2NDVDIDUuMTY1NDUgNS4wMTkyMiA0LjcyMTY4IDUuNDIwMTUgNC4xOTI5OSA1LjY2ODUxQyAzLjY2NDMgNS45MTY4OCAzLjA3NDQ0IDYuMDAxNTEgMi40OTgwNSA1LjkxMTcxQyAxLjkyMTY2IDUuODIxOSAxLjM4NDYzIDUuNTYxNyAwLjk1NDg5OCA1LjE2NDAxQyAwLjUyNTE3IDQuNzY2MzMgMC4yMjIwNTYgNC4yNDkwMyAwLjA4MzkwMzcgMy42Nzc1N0MgLTAuMDU0MjQ4MyAzLjEwNjExIC0wLjAyMTIzIDIuNTA2MTcgMC4xNzg3ODEgMS45NTM2NEMgMC4zNzg3OTMgMS40MDExIDAuNzM2ODA5IDAuOTIwODE3IDEuMjA3NTQgMC41NzM1MzhDIDEuNjc4MjYgMC4yMjYyNTkgMi4yNDA1NSAwLjAyNzU5MTkgMi44MjMyNiAwLjAwMjY3MjI5QyAzLjYwMzg5IC0wLjAzMDcxMTUgNC4zNjU3MyAwLjI0OTc4OSA0Ljk0MTQyIDAuNzgyNTUxQyA1LjUxNzExIDEuMzE1MzEgNS44NTk1NiAyLjA1Njc2IDUuODkzNTMgMi44NDRaIi8+CiAgICAgIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MzkuOCAyMzIzLjgxKSIgZD0iTSA3LjQyNzg5IDMuNTgzMzhDIDcuNDYwMDggNC4zMjQzIDcuMjczNTUgNS4wNTgxOSA2Ljg5MTkzIDUuNjkyMTNDIDYuNTEwMzEgNi4zMjYwNyA1Ljk1MDc1IDYuODMxNTYgNS4yODQxMSA3LjE0NDZDIDQuNjE3NDcgNy40NTc2MyAzLjg3MzcxIDcuNTY0MTQgMy4xNDcwMiA3LjQ1MDYzQyAyLjQyMDMyIDcuMzM3MTIgMS43NDMzNiA3LjAwODcgMS4yMDE4NCA2LjUwNjk1QyAwLjY2MDMyOCA2LjAwNTIgMC4yNzg2MSA1LjM1MjY4IDAuMTA1MDE3IDQuNjMyMDJDIC0wLjA2ODU3NTcgMy45MTEzNSAtMC4wMjYyMzYxIDMuMTU0OTQgMC4yMjY2NzUgMi40NTg1NkMgMC40Nzk1ODcgMS43NjIxNyAwLjkzMTY5NyAxLjE1NzEzIDEuNTI1NzYgMC43MjAwMzNDIDIuMTE5ODMgMC4yODI5MzUgMi44MjkxNCAwLjAzMzQzOTUgMy41NjM4OSAwLjAwMzEzMzQ0QyA0LjU0NjY3IC0wLjAzNzQwMzMgNS41MDUyOSAwLjMxNjcwNiA2LjIyOTYxIDAuOTg3ODM1QyA2Ljk1MzkzIDEuNjU4OTYgNy4zODQ4NCAyLjU5MjM1IDcuNDI3ODkgMy41ODMzOEwgNy40Mjc4OSAzLjU4MzM4WiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM4LjM2IDIyODYuMDYpIiBkPSJNIDIuMjc0NzEgNC4zOTYyOUMgMS44NDM2MyA0LjQxNTA4IDEuNDE2NzEgNC4zMDQ0NSAxLjA0Nzk5IDQuMDc4NDNDIDAuNjc5MjY4IDMuODUyNCAwLjM4NTMyOCAzLjUyMTE0IDAuMjAzMzcxIDMuMTI2NTZDIDAuMDIxNDEzNiAyLjczMTk4IC0wLjA0MDM3OTggMi4yOTE4MyAwLjAyNTgxMTYgMS44NjE4MUMgMC4wOTIwMDMxIDEuNDMxOCAwLjI4MzIwNCAxLjAzMTI2IDAuNTc1MjEzIDAuNzEwODgzQyAwLjg2NzIyMiAwLjM5MDUxIDEuMjQ2OTEgMC4xNjQ3MDggMS42NjYyMiAwLjA2MjA1OTJDIDIuMDg1NTMgLTAuMDQwNTg5NyAyLjUyNTYxIC0wLjAxNTQ3MTQgMi45MzA3NiAwLjEzNDIzNUMgMy4zMzU5MSAwLjI4Mzk0MSAzLjY4NzkyIDAuNTUxNTA1IDMuOTQyMjIgMC45MDMwNkMgNC4xOTY1MiAxLjI1NDYyIDQuMzQxNjkgMS42NzQzNiA0LjM1OTM1IDIuMTA5MTZDIDQuMzgyOTkgMi42OTEwNyA0LjE3Njc4IDMuMjU4NjkgMy43ODU5NyAzLjY4NzQ2QyAzLjM5NTE2IDQuMTE2MjQgMi44NTE2NiA0LjM3MTE2IDIuMjc0NzEgNC4zOTYyOUwgMi4yNzQ3MSA0LjM5NjI5WiIvPgogICAgPC9nPgogIDwvZz4+Cjwvc3ZnPgo=);
  --jp-icon-jupyterlab-wordmark: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIHZpZXdCb3g9IjAgMCAxODYwLjggNDc1Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0RTRFNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4MC4xMzY0MDEsIDY0LjI3MTQ5MykiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDU4Ljg3NTU2NikiPgogICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA4NzYwMywgMC4xNDAyOTQpIj4KICAgICAgICA8cGF0aCBkPSJNLTQyNi45LDE2OS44YzAsNDguNy0zLjcsNjQuNy0xMy42LDc2LjRjLTEwLjgsMTAtMjUsMTUuNS0zOS43LDE1LjVsMy43LDI5IGMyMi44LDAuMyw0NC44LTcuOSw2MS45LTIzLjFjMTcuOC0xOC41LDI0LTQ0LjEsMjQtODMuM1YwSC00Mjd2MTcwLjFMLTQyNi45LDE2OS44TC00MjYuOSwxNjkuOHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU1LjA0NTI5NiwgNTYuODM3MTA0KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuNTYyNDUzLCAxLjc5OTg0MikiPgogICAgICAgIDxwYXRoIGQ9Ik0tMzEyLDE0OGMwLDIxLDAsMzkuNSwxLjcsNTUuNGgtMzEuOGwtMi4xLTMzLjNoLTAuOGMtNi43LDExLjYtMTYuNCwyMS4zLTI4LDI3LjkgYy0xMS42LDYuNi0yNC44LDEwLTM4LjIsOS44Yy0zMS40LDAtNjktMTcuNy02OS04OVYwaDM2LjR2MTEyLjdjMCwzOC43LDExLjYsNjQuNyw0NC42LDY0LjdjMTAuMy0wLjIsMjAuNC0zLjUsMjguOS05LjQgYzguNS01LjksMTUuMS0xNC4zLDE4LjktMjMuOWMyLjItNi4xLDMuMy0xMi41LDMuMy0xOC45VjAuMmgzNi40VjE0OEgtMzEyTC0zMTIsMTQ4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTAuMDEzMzIyLCA1My40Nzk2MzgpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS43MDY0NTgsIDAuMjMxNDI1KSI+CiAgICAgICAgPHBhdGggZD0iTS00NzguNiw3MS40YzAtMjYtMC44LTQ3LTEuNy02Ni43aDMyLjdsMS43LDM0LjhoMC44YzcuMS0xMi41LDE3LjUtMjIuOCwzMC4xLTI5LjcgYzEyLjUtNywyNi43LTEwLjMsNDEtOS44YzQ4LjMsMCw4NC43LDQxLjcsODQuNywxMDMuM2MwLDczLjEtNDMuNywxMDkuMi05MSwxMDkuMmMtMTIuMSwwLjUtMjQuMi0yLjItMzUtNy44IGMtMTAuOC01LjYtMTkuOS0xMy45LTI2LjYtMjQuMmgtMC44VjI5MWgtMzZ2LTIyMEwtNDc4LjYsNzEuNEwtNDc4LjYsNzEuNHogTS00NDIuNiwxMjUuNmMwLjEsNS4xLDAuNiwxMC4xLDEuNywxNS4xIGMzLDEyLjMsOS45LDIzLjMsMTkuOCwzMS4xYzkuOSw3LjgsMjIuMSwxMi4xLDM0LjcsMTIuMWMzOC41LDAsNjAuNy0zMS45LDYwLjctNzguNWMwLTQwLjctMjEuMS03NS42LTU5LjUtNzUuNiBjLTEyLjksMC40LTI1LjMsNS4xLTM1LjMsMTMuNGMtOS45LDguMy0xNi45LDE5LjctMTkuNiwzMi40Yy0xLjUsNC45LTIuMywxMC0yLjUsMTUuMVYxMjUuNkwtNDQyLjYsMTI1LjZMLTQ0Mi42LDEyNS42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDYuNzQwNzI2LCA1Ni44MzcxMDQpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC43NTEyMjYsIDEuOTg5Mjk5KSI+CiAgICAgICAgPHBhdGggZD0iTS00NDAuOCwwbDQzLjcsMTIwLjFjNC41LDEzLjQsOS41LDI5LjQsMTIuOCw0MS43aDAuOGMzLjctMTIuMiw3LjktMjcuNywxMi44LTQyLjQgbDM5LjctMTE5LjJoMzguNUwtMzQ2LjksMTQ1Yy0yNiw2OS43LTQzLjcsMTA1LjQtNjguNiwxMjcuMmMtMTIuNSwxMS43LTI3LjksMjAtNDQuNiwyMy45bC05LjEtMzEuMSBjMTEuNy0zLjksMjIuNS0xMC4xLDMxLjgtMTguMWMxMy4yLTExLjEsMjMuNy0yNS4yLDMwLjYtNDEuMmMxLjUtMi44LDIuNS01LjcsMi45LTguOGMtMC4zLTMuMy0xLjItNi42LTIuNS05LjdMLTQ4MC4yLDAuMSBoMzkuN0wtNDQwLjgsMEwtNDQwLjgsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODIyLjc0ODEwNCwgMC4wMDAwMDApIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40NjQwNTAsIDAuMzc4OTE0KSI+CiAgICAgICAgPHBhdGggZD0iTS00MTMuNywwdjU4LjNoNTJ2MjguMmgtNTJWMTk2YzAsMjUsNywzOS41LDI3LjMsMzkuNWM3LjEsMC4xLDE0LjItMC43LDIxLjEtMi41IGwxLjcsMjcuN2MtMTAuMywzLjctMjEuMyw1LjQtMzIuMiw1Yy03LjMsMC40LTE0LjYtMC43LTIxLjMtMy40Yy02LjgtMi43LTEyLjktNi44LTE3LjktMTIuMWMtMTAuMy0xMC45LTE0LjEtMjktMTQuMS01Mi45IFY4Ni41aC0zMVY1OC4zaDMxVjkuNkwtNDEzLjcsMEwtNDEzLjcsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTc0LjQzMzI4NiwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuOTkwMDM0LCAwLjYxMDMzOSkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDQ1LjgsMTEzYzAuOCw1MCwzMi4yLDcwLjYsNjguNiw3MC42YzE5LDAuNiwzNy45LTMsNTUuMy0xMC41bDYuMiwyNi40IGMtMjAuOSw4LjktNDMuNSwxMy4xLTY2LjIsMTIuNmMtNjEuNSwwLTk4LjMtNDEuMi05OC4zLTEwMi41Qy00ODAuMiw0OC4yLTQ0NC43LDAtMzg2LjUsMGM2NS4yLDAsODIuNyw1OC4zLDgyLjcsOTUuNyBjLTAuMSw1LjgtMC41LDExLjUtMS4yLDE3LjJoLTE0MC42SC00NDUuOEwtNDQ1LjgsMTEzeiBNLTMzOS4yLDg2LjZjMC40LTIzLjUtOS41LTYwLjEtNTAuNC02MC4xIGMtMzYuOCwwLTUyLjgsMzQuNC01NS43LDYwLjFILTMzOS4yTC0zMzkuMiw4Ni42TC0zMzkuMiw4Ni42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAxLjk2MTA1OCwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuMTc5NjQwLCAwLjcwNTA2OCkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDc4LjYsNjhjMC0yMy45LTAuNC00NC41LTEuNy02My40aDMxLjhsMS4yLDM5LjloMS43YzkuMS0yNy4zLDMxLTQ0LjUsNTUuMy00NC41IGMzLjUtMC4xLDcsMC40LDEwLjMsMS4ydjM0LjhjLTQuMS0wLjktOC4yLTEuMy0xMi40LTEuMmMtMjUuNiwwLTQzLjcsMTkuNy00OC43LDQ3LjRjLTEsNS43LTEuNiwxMS41LTEuNywxNy4ydjEwOC4zaC0zNlY2OCBMLTQ3OC42LDY4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi13YXJuMCIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCBkPSJNMTM1Mi4zLDMyNi4yaDM3VjI4aC0zN1YzMjYuMnogTTE2MDQuOCwzMjYuMmMtMi41LTEzLjktMy40LTMxLjEtMy40LTQ4Ljd2LTc2IGMwLTQwLjctMTUuMS04My4xLTc3LjMtODMuMWMtMjUuNiwwLTUwLDcuMS02Ni44LDE4LjFsOC40LDI0LjRjMTQuMy05LjIsMzQtMTUuMSw1My0xNS4xYzQxLjYsMCw0Ni4yLDMwLjIsNDYuMiw0N3Y0LjIgYy03OC42LTAuNC0xMjIuMywyNi41LTEyMi4zLDc1LjZjMCwyOS40LDIxLDU4LjQsNjIuMiw1OC40YzI5LDAsNTAuOS0xNC4zLDYyLjItMzAuMmgxLjNsMi45LDI1LjZIMTYwNC44eiBNMTU2NS43LDI1Ny43IGMwLDMuOC0wLjgsOC0yLjEsMTEuOGMtNS45LDE3LjItMjIuNywzNC00OS4yLDM0Yy0xOC45LDAtMzQuOS0xMS4zLTM0LjktMzUuM2MwLTM5LjUsNDUuOC00Ni42LDg2LjItNDUuOFYyNTcuN3ogTTE2OTguNSwzMjYuMiBsMS43LTMzLjZoMS4zYzE1LjEsMjYuOSwzOC43LDM4LjIsNjguMSwzOC4yYzQ1LjQsMCw5MS4yLTM2LjEsOTEuMi0xMDguOGMwLjQtNjEuNy0zNS4zLTEwMy43LTg1LjctMTAzLjcgYy0zMi44LDAtNTYuMywxNC43LTY5LjMsMzcuNGgtMC44VjI4aC0zNi42djI0NS43YzAsMTguMS0wLjgsMzguNi0xLjcsNTIuNUgxNjk4LjV6IE0xNzA0LjgsMjA4LjJjMC01LjksMS4zLTEwLjksMi4xLTE1LjEgYzcuNi0yOC4xLDMxLjEtNDUuNCw1Ni4zLTQ1LjRjMzkuNSwwLDYwLjUsMzQuOSw2MC41LDc1LjZjMCw0Ni42LTIzLjEsNzguMS02MS44LDc4LjFjLTI2LjksMC00OC4zLTE3LjYtNTUuNS00My4zIGMtMC44LTQuMi0xLjctOC44LTEuNy0xMy40VjIwOC4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzYxNjE2MSIgZD0iTTE1IDlIOXY2aDZWOXptLTIgNGgtMnYtMmgydjJ6bTgtMlY5aC0yVjdjMC0xLjEtLjktMi0yLTJoLTJWM2gtMnYyaC0yVjNIOXYySDdjLTEuMSAwLTIgLjktMiAydjJIM3YyaDJ2MkgzdjJoMnYyYzAgMS4xLjkgMiAyIDJoMnYyaDJ2LTJoMnYyaDJ2LTJoMmMxLjEgMCAyLS45IDItMnYtMmgydi0yaC0ydi0yaDJ6bS00IDZIN1Y3aDEwdjEweiIvPgo8L3N2Zz4K);
  --jp-icon-keyboard: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMTdjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0yem0tOSAzaDJ2MmgtMlY4em0wIDNoMnYyaC0ydi0yek04IDhoMnYySDhWOHptMCAzaDJ2Mkg4di0yem0tMSAySDV2LTJoMnYyem0wLTNINVY4aDJ2MnptOSA3SDh2LTJoOHYyem0wLTRoLTJ2LTJoMnYyem0wLTNoLTJWOGgydjJ6bTMgM2gtMnYtMmgydjJ6bTAtM2gtMlY4aDJ2MnoiLz4KPC9zdmc+Cg==);
  --jp-icon-launch: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yNiwyOEg2YTIuMDAyNywyLjAwMjcsMCwwLDEtMi0yVjZBMi4wMDI3LDIuMDAyNywwLDAsMSw2LDRIMTZWNkg2VjI2SDI2VjE2aDJWMjZBMi4wMDI3LDIuMDAyNywwLDAsMSwyNiwyOFoiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjAgMiAyMCA0IDI2LjU4NiA0IDE4IDEyLjU4NiAxOS40MTQgMTQgMjggNS40MTQgMjggMTIgMzAgMTIgMzAgMiAyMCAyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-launcher: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkgMTlINVY1aDdWM0g1YTIgMiAwIDAwLTIgMnYxNGEyIDIgMCAwMDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3oiLz4KPC9zdmc+Cg==);
  --jp-icon-line-form: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IndoaXRlIiBkPSJNNS44OCA0LjEyTDEzLjc2IDEybC03Ljg4IDcuODhMOCAyMmwxMC0xMEw4IDJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-link: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xOSA1djE0SDVWNWgxNG0xLjEtMkgzLjljLS41IDAtLjkuNC0uOS45djE2LjJjMCAuNC40LjkuOS45aDE2LjJjLjQgMCAuOS0uNS45LS45VjMuOWMwLS41LS41LS45LS45LS45ek0xMSA3aDZ2MmgtNlY3em0wIDRoNnYyaC02di0yem0wIDRoNnYyaC02ek03IDdoMnYySDd6bTAgNGgydjJIN3ptMCA0aDJ2Mkg3eiIvPgo8L3N2Zz4K);
  --jp-icon-markdown: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjN0IxRkEyIiBkPSJNNSAxNC45aDEybC02LjEgNnptOS40LTYuOGMwLTEuMy0uMS0yLjktLjEtNC41LS40IDEuNC0uOSAyLjktMS4zIDQuM2wtMS4zIDQuM2gtMkw4LjUgNy45Yy0uNC0xLjMtLjctMi45LTEtNC4zLS4xIDEuNi0uMSAzLjItLjIgNC42TDcgMTIuNEg0LjhsLjctMTFoMy4zTDEwIDVjLjQgMS4yLjcgMi43IDEgMy45LjMtMS4yLjctMi42IDEtMy45bDEuMi0zLjdoMy4zbC42IDExaC0yLjRsLS4zLTQuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-move-down: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMTIuNDcxIDcuNTI4OTlDMTIuNzYzMiA3LjIzNjg0IDEyLjc2MzIgNi43NjMxNiAxMi40NzEgNi40NzEwMVY2LjQ3MTAxQzEyLjE3OSA2LjE3OTA1IDExLjcwNTcgNi4xNzg4NCAxMS40MTM1IDYuNDcwNTRMNy43NSAxMC4xMjc1VjEuNzVDNy43NSAxLjMzNTc5IDcuNDE0MjEgMSA3IDFWMUM2LjU4NTc5IDEgNi4yNSAxLjMzNTc5IDYuMjUgMS43NVYxMC4xMjc1TDIuNTk3MjYgNi40NjgyMkMyLjMwMzM4IDYuMTczODEgMS44MjY0MSA2LjE3MzU5IDEuNTMyMjYgNi40Njc3NFY2LjQ2Nzc0QzEuMjM4MyA2Ljc2MTcgMS4yMzgzIDcuMjM4MyAxLjUzMjI2IDcuNTMyMjZMNi4yOTI4OSAxMi4yOTI5QzYuNjgzNDIgMTIuNjgzNCA3LjMxNjU4IDEyLjY4MzQgNy43MDcxMSAxMi4yOTI5TDEyLjQ3MSA3LjUyODk5WiIgZmlsbD0iIzYxNjE2MSIvPgo8L3N2Zz4K);
  --jp-icon-move-up: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMS41Mjg5OSA2LjQ3MTAxQzEuMjM2ODQgNi43NjMxNiAxLjIzNjg0IDcuMjM2ODQgMS41Mjg5OSA3LjUyODk5VjcuNTI4OTlDMS44MjA5NSA3LjgyMDk1IDIuMjk0MjYgNy44MjExNiAyLjU4NjQ5IDcuNTI5NDZMNi4yNSAzLjg3MjVWMTIuMjVDNi4yNSAxMi42NjQyIDYuNTg1NzkgMTMgNyAxM1YxM0M3LjQxNDIxIDEzIDcuNzUgMTIuNjY0MiA3Ljc1IDEyLjI1VjMuODcyNUwxMS40MDI3IDcuNTMxNzhDMTEuNjk2NiA3LjgyNjE5IDEyLjE3MzYgNy44MjY0MSAxMi40Njc3IDcuNTMyMjZWNy41MzIyNkMxMi43NjE3IDcuMjM4MyAxMi43NjE3IDYuNzYxNyAxMi40Njc3IDYuNDY3NzRMNy43MDcxMSAxLjcwNzExQzcuMzE2NTggMS4zMTY1OCA2LjY4MzQyIDEuMzE2NTggNi4yOTI4OSAxLjcwNzExTDEuNTI4OTkgNi40NzEwMVoiIGZpbGw9IiM2MTYxNjEiLz4KPC9zdmc+Cg==);
  --jp-icon-new-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwIDZoLThsLTItMkg0Yy0xLjExIDAtMS45OS44OS0xLjk5IDJMMiAxOGMwIDEuMTEuODkgMiAyIDJoMTZjMS4xMSAwIDItLjg5IDItMlY4YzAtMS4xMS0uODktMi0yLTJ6bS0xIDhoLTN2M2gtMnYtM2gtM3YtMmgzVjloMnYzaDN2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-not-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI1IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMTkgMTcuMTg0NCAyLjk2OTY4IDE0LjMwMzIgMS44NjA5NCAxMS40NDA5WiIvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24yIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4zMTU5MiA5LjMyMDMxKSIgZD0iTTcuMzY4NDIgMEwwIDcuMzY0NzkiLz4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMzE1OTIgMTYuNjgzNikgc2NhbGUoMSAtMSkiIGQ9Ik03LjM2ODQyIDBMMCA3LjM2NDc5Ii8+Cjwvc3ZnPgo=);
  --jp-icon-notebook: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtbm90ZWJvb2staWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNFRjZDMDAiPgogICAgPHBhdGggZD0iTTE4LjcgMy4zdjE1LjRIMy4zVjMuM2gxNS40bTEuNS0xLjVIMS44djE4LjNoMTguM2wuMS0xOC4zeiIvPgogICAgPHBhdGggZD0iTTE2LjUgMTYuNWwtNS40LTQuMy01LjYgNC4zdi0xMWgxMXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-numbering: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTQgMTlINlYxOS41SDVWMjAuNUg2VjIxSDRWMjJIN1YxOEg0VjE5Wk01IDEwSDZWNkg0VjdINVYxMFpNNCAxM0g1LjhMNCAxNS4xVjE2SDdWMTVINS4yTDcgMTIuOVYxMkg0VjEzWk05IDdWOUgyM1Y3SDlaTTkgMjFIMjNWMTlIOVYyMVpNOSAxNUgyM1YxM0g5VjE1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-offline-bolt: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDIuMDJjLTUuNTEgMC05Ljk4IDQuNDctOS45OCA5Ljk4czQuNDcgOS45OCA5Ljk4IDkuOTggOS45OC00LjQ3IDkuOTgtOS45OFMxNy41MSAyLjAyIDEyIDIuMDJ6TTExLjQ4IDIwdi02LjI2SDhMMTMgNHY2LjI2aDMuMzVMMTEuNDggMjB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-palette: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE4IDEzVjIwSDRWNkg5LjAyQzkuMDcgNS4yOSA5LjI0IDQuNjIgOS41IDRINEMyLjkgNCAyIDQuOSAyIDZWMjBDMiAyMS4xIDIuOSAyMiA0IDIySDE4QzE5LjEgMjIgMjAgMjEuMSAyMCAyMFYxNUwxOCAxM1pNMTkuMyA4Ljg5QzE5Ljc0IDguMTkgMjAgNy4zOCAyMCA2LjVDMjAgNC4wMSAxNy45OSAyIDE1LjUgMkMxMy4wMSAyIDExIDQuMDEgMTEgNi41QzExIDguOTkgMTMuMDEgMTEgMTUuNDkgMTFDMTYuMzcgMTEgMTcuMTkgMTAuNzQgMTcuODggMTAuM0wyMSAxMy40MkwyMi40MiAxMkwxOS4zIDguODlaTTE1LjUgOUMxNC4xMiA5IDEzIDcuODggMTMgNi41QzEzIDUuMTIgMTQuMTIgNCAxNS41IDRDMTYuODggNCAxOCA1LjEyIDE4IDYuNUMxOCA3Ljg4IDE2Ljg4IDkgMTUuNSA5WiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDZIOS4wMTg5NEM5LjAwNjM5IDYuMTY1MDIgOSA2LjMzMTc2IDkgNi41QzkgOC44MTU3NyAxMC4yMTEgMTAuODQ4NyAxMi4wMzQzIDEySDlWMTRIMTZWMTIuOTgxMUMxNi41NzAzIDEyLjkzNzcgMTcuMTIgMTIuODIwNyAxNy42Mzk2IDEyLjYzOTZMMTggMTNWMjBINFY2Wk04IDhINlYxMEg4VjhaTTYgMTJIOFYxNEg2VjEyWk04IDE2SDZWMThIOFYxNlpNOSAxNkgxNlYxOEg5VjE2WiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-paste: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE5IDJoLTQuMThDMTQuNC44NCAxMy4zIDAgMTIgMGMtMS4zIDAtMi40Ljg0LTIuODIgMkg1Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS03IDBjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXptNyAxOEg1VjRoMnYzaDEwVjRoMnYxNnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-pdf: url(data:image/svg+xml;base64,PHN2ZwogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiIgd2lkdGg9IjE2Ij4KICAgIDxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDQ1KSIgY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0ZGMkEyQSIKICAgICAgIGQ9Im0gMjIuMzQ0MzY5LC0zLjAxNjM2NDIgaCA1LjYzODYwNCB2IDEuNTc5MjQzMyBoIC0zLjU0OTIyNyB2IDEuNTA4NjkyOTkgaCAzLjMzNzU3NiBWIDEuNjUwODE1NCBoIC0zLjMzNzU3NiB2IDMuNDM1MjYxMyBoIC0yLjA4OTM3NyB6IG0gLTcuMTM2NDQ0LDEuNTc5MjQzMyB2IDQuOTQzOTU0MyBoIDAuNzQ4OTIgcSAxLjI4MDc2MSwwIDEuOTUzNzAzLC0wLjYzNDk1MzUgMC42NzgzNjksLTAuNjM0OTUzNSAwLjY3ODM2OSwtMS44NDUxNjQxIDAsLTEuMjA0NzgzNTUgLTAuNjcyOTQyLC0xLjgzNDMxMDExIC0wLjY3Mjk0MiwtMC42Mjk1MjY1OSAtMS45NTkxMywtMC42Mjk1MjY1OSB6IG0gLTIuMDg5Mzc3LC0xLjU3OTI0MzMgaCAyLjIwMzM0MyBxIDEuODQ1MTY0LDAgMi43NDYwMzksMC4yNjU5MjA3IDAuOTA2MzAxLDAuMjYwNDkzNyAxLjU1MjEwOCwwLjg5MDAyMDMgMC41Njk4MywwLjU0ODEyMjMgMC44NDY2MDUsMS4yNjQ0ODAwNiAwLjI3Njc3NCwwLjcxNjM1NzgxIDAuMjc2Nzc0LDEuNjIyNjU4OTQgMCwwLjkxNzE1NTEgLTAuMjc2Nzc0LDEuNjM4OTM5OSAtMC4yNzY3NzUsMC43MTYzNTc4IC0wLjg0NjYwNSwxLjI2NDQ4IC0wLjY1MTIzNCwwLjYyOTUyNjYgLTEuNTYyOTYyLDAuODk1NDQ3MyAtMC45MTE3MjgsMC4yNjA0OTM3IC0yLjczNTE4NSwwLjI2MDQ5MzcgaCAtMi4yMDMzNDMgeiBtIC04LjE0NTg1NjUsMCBoIDMuNDY3ODIzIHEgMS41NDY2ODE2LDAgMi4zNzE1Nzg1LDAuNjg5MjIzIDAuODMwMzI0LDAuNjgzNzk2MSAwLjgzMDMyNCwxLjk1MzcwMzE0IDAsMS4yNzUzMzM5NyAtMC44MzAzMjQsMS45NjQ1NTcwNiBRIDkuOTg3MTk2MSwyLjI3NDkxNSA4LjQ0MDUxNDUsMi4yNzQ5MTUgSCA3LjA2MjA2ODQgViA1LjA4NjA3NjcgSCA0Ljk3MjY5MTUgWiBtIDIuMDg5Mzc2OSwxLjUxNDExOTkgdiAyLjI2MzAzOTQzIGggMS4xNTU5NDEgcSAwLjYwNzgxODgsMCAwLjkzODg2MjksLTAuMjkzMDU1NDcgMC4zMzEwNDQxLC0wLjI5ODQ4MjQxIDAuMzMxMDQ0MSwtMC44NDExNzc3MiAwLC0wLjU0MjY5NTMxIC0wLjMzMTA0NDEsLTAuODM1NzUwNzQgLTAuMzMxMDQ0MSwtMC4yOTMwNTU1IC0wLjkzODg2MjksLTAuMjkzMDU1NSB6IgovPgo8L3N2Zz4K);
  --jp-icon-python: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iLTEwIC0xMCAxMzEuMTYxMzYxNjk0MzM1OTQgMTMyLjM4ODk5OTkzODk2NDg0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzA2OTk4IiBkPSJNIDU0LjkxODc4NSw5LjE5Mjc0MjFlLTQgQyA1MC4zMzUxMzIsMC4wMjIyMTcyNyA0NS45NTc4NDYsMC40MTMxMzY5NyA0Mi4xMDYyODUsMS4wOTQ2NjkzIDMwLjc2MDA2OSwzLjA5OTE3MzEgMjguNzAwMDM2LDcuMjk0NzcxNCAyOC43MDAwMzUsMTUuMDMyMTY5IHYgMTAuMjE4NzUgaCAyNi44MTI1IHYgMy40MDYyNSBoIC0yNi44MTI1IC0xMC4wNjI1IGMgLTcuNzkyNDU5LDAgLTE0LjYxNTc1ODgsNC42ODM3MTcgLTE2Ljc0OTk5OTgsMTMuNTkzNzUgLTIuNDYxODE5OTgsMTAuMjEyOTY2IC0yLjU3MTAxNTA4LDE2LjU4NjAyMyAwLDI3LjI1IDEuOTA1OTI4Myw3LjkzNzg1MiA2LjQ1NzU0MzIsMTMuNTkzNzQ4IDE0LjI0OTk5OTgsMTMuNTkzNzUgaCA5LjIxODc1IHYgLTEyLjI1IGMgMCwtOC44NDk5MDIgNy42NTcxNDQsLTE2LjY1NjI0OCAxNi43NSwtMTYuNjU2MjUgaCAyNi43ODEyNSBjIDcuNDU0OTUxLDAgMTMuNDA2MjUzLC02LjEzODE2NCAxMy40MDYyNSwtMTMuNjI1IHYgLTI1LjUzMTI1IGMgMCwtNy4yNjYzMzg2IC02LjEyOTk4LC0xMi43MjQ3NzcxIC0xMy40MDYyNSwtMTMuOTM3NDk5NyBDIDY0LjI4MTU0OCwwLjMyNzk0Mzk3IDU5LjUwMjQzOCwtMC4wMjAzNzkwMyA1NC45MTg3ODUsOS4xOTI3NDIxZS00IFogbSAtMTQuNSw4LjIxODc1MDEyNTc5IGMgMi43Njk1NDcsMCA1LjAzMTI1LDIuMjk4NjQ1NiA1LjAzMTI1LDUuMTI0OTk5NiAtMmUtNiwyLjgxNjMzNiAtMi4yNjE3MDMsNS4wOTM3NSAtNS4wMzEyNSw1LjA5Mzc1IC0yLjc3OTQ3NiwtMWUtNiAtNS4wMzEyNSwtMi4yNzc0MTUgLTUuMDMxMjUsLTUuMDkzNzUgLTEwZS03LC0yLjgyNjM1MyAyLjI1MTc3NCwtNS4xMjQ5OTk2IDUuMDMxMjUsLTUuMTI0OTk5NiB6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2ZmZDQzYiIgZD0ibSA4NS42Mzc1MzUsMjguNjU3MTY5IHYgMTEuOTA2MjUgYyAwLDkuMjMwNzU1IC03LjgyNTg5NSwxNi45OTk5OTkgLTE2Ljc1LDE3IGggLTI2Ljc4MTI1IGMgLTcuMzM1ODMzLDAgLTEzLjQwNjI0OSw2LjI3ODQ4MyAtMTMuNDA2MjUsMTMuNjI1IHYgMjUuNTMxMjQ3IGMgMCw3LjI2NjM0NCA2LjMxODU4OCwxMS41NDAzMjQgMTMuNDA2MjUsMTMuNjI1MDA0IDguNDg3MzMxLDIuNDk1NjEgMTYuNjI2MjM3LDIuOTQ2NjMgMjYuNzgxMjUsMCA2Ljc1MDE1NSwtMS45NTQzOSAxMy40MDYyNTMsLTUuODg3NjEgMTMuNDA2MjUsLTEzLjYyNTAwNCBWIDg2LjUwMDkxOSBoIC0yNi43ODEyNSB2IC0zLjQwNjI1IGggMjYuNzgxMjUgMTMuNDA2MjU0IGMgNy43OTI0NjEsMCAxMC42OTYyNTEsLTUuNDM1NDA4IDEzLjQwNjI0MSwtMTMuNTkzNzUgMi43OTkzMywtOC4zOTg4ODYgMi42ODAyMiwtMTYuNDc1Nzc2IDAsLTI3LjI1IC0xLjkyNTc4LC03Ljc1NzQ0MSAtNS42MDM4NywtMTMuNTkzNzUgLTEzLjQwNjI0MSwtMTMuNTkzNzUgeiBtIC0xNS4wNjI1LDY0LjY1NjI1IGMgMi43Nzk0NzgsM2UtNiA1LjAzMTI1LDIuMjc3NDE3IDUuMDMxMjUsNS4wOTM3NDcgLTJlLTYsMi44MjYzNTQgLTIuMjUxNzc1LDUuMTI1MDA0IC01LjAzMTI1LDUuMTI1MDA0IC0yLjc2OTU1LDAgLTUuMDMxMjUsLTIuMjk4NjUgLTUuMDMxMjUsLTUuMTI1MDA0IDJlLTYsLTIuODE2MzMgMi4yNjE2OTcsLTUuMDkzNzQ3IDUuMDMxMjUsLTUuMDkzNzQ3IHoiLz4KPC9zdmc+Cg==);
  --jp-icon-r-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjE5NkYzIiBkPSJNNC40IDIuNWMxLjItLjEgMi45LS4zIDQuOS0uMyAyLjUgMCA0LjEuNCA1LjIgMS4zIDEgLjcgMS41IDEuOSAxLjUgMy41IDAgMi0xLjQgMy41LTIuOSA0LjEgMS4yLjQgMS43IDEuNiAyLjIgMyAuNiAxLjkgMSAzLjkgMS4zIDQuNmgtMy44Yy0uMy0uNC0uOC0xLjctMS4yLTMuN3MtMS4yLTIuNi0yLjYtMi42aC0uOXY2LjRINC40VjIuNXptMy43IDYuOWgxLjRjMS45IDAgMi45LS45IDIuOS0yLjNzLTEtMi4zLTIuOC0yLjNjLS43IDAtMS4zIDAtMS42LjJ2NC41aC4xdi0uMXoiLz4KPC9zdmc+Cg==);
  --jp-icon-react: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMTUwIDE1MCA1NDEuOSAyOTUuMyI+CiAgPGcgY2xhc3M9ImpwLWljb24tYnJhbmQyIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxREFGQiI+CiAgICA8cGF0aCBkPSJNNjY2LjMgMjk2LjVjMC0zMi41LTQwLjctNjMuMy0xMDMuMS04Mi40IDE0LjQtNjMuNiA4LTExNC4yLTIwLjItMTMwLjQtNi41LTMuOC0xNC4xLTUuNi0yMi40LTUuNnYyMi4zYzQuNiAwIDguMy45IDExLjQgMi42IDEzLjYgNy44IDE5LjUgMzcuNSAxNC45IDc1LjctMS4xIDkuNC0yLjkgMTkuMy01LjEgMjkuNC0xOS42LTQuOC00MS04LjUtNjMuNS0xMC45LTEzLjUtMTguNS0yNy41LTM1LjMtNDEuNi01MCAzMi42LTMwLjMgNjMuMi00Ni45IDg0LTQ2LjlWNzhjLTI3LjUgMC02My41IDE5LjYtOTkuOSA1My42LTM2LjQtMzMuOC03Mi40LTUzLjItOTkuOS01My4ydjIyLjNjMjAuNyAwIDUxLjQgMTYuNSA4NCA0Ni42LTE0IDE0LjctMjggMzEuNC00MS4zIDQ5LjktMjIuNiAyLjQtNDQgNi4xLTYzLjYgMTEtMi4zLTEwLTQtMTkuNy01LjItMjktNC43LTM4LjIgMS4xLTY3LjkgMTQuNi03NS44IDMtMS44IDYuOS0yLjYgMTEuNS0yLjZWNzguNWMtOC40IDAtMTYgMS44LTIyLjYgNS42LTI4LjEgMTYuMi0zNC40IDY2LjctMTkuOSAxMzAuMS02Mi4yIDE5LjItMTAyLjcgNDkuOS0xMDIuNyA4Mi4zIDAgMzIuNSA0MC43IDYzLjMgMTAzLjEgODIuNC0xNC40IDYzLjYtOCAxMTQuMiAyMC4yIDEzMC40IDYuNSAzLjggMTQuMSA1LjYgMjIuNSA1LjYgMjcuNSAwIDYzLjUtMTkuNiA5OS45LTUzLjYgMzYuNCAzMy44IDcyLjQgNTMuMiA5OS45IDUzLjIgOC40IDAgMTYtMS44IDIyLjYtNS42IDI4LjEtMTYuMiAzNC40LTY2LjcgMTkuOS0xMzAuMSA2Mi0xOS4xIDEwMi41LTQ5LjkgMTAyLjUtODIuM3ptLTEzMC4yLTY2LjdjLTMuNyAxMi45LTguMyAyNi4yLTEzLjUgMzkuNS00LjEtOC04LjQtMTYtMTMuMS0yNC00LjYtOC05LjUtMTUuOC0xNC40LTIzLjQgMTQuMiAyLjEgMjcuOSA0LjcgNDEgNy45em0tNDUuOCAxMDYuNWMtNy44IDEzLjUtMTUuOCAyNi4zLTI0LjEgMzguMi0xNC45IDEuMy0zMCAyLTQ1LjIgMi0xNS4xIDAtMzAuMi0uNy00NS0xLjktOC4zLTExLjktMTYuNC0yNC42LTI0LjItMzgtNy42LTEzLjEtMTQuNS0yNi40LTIwLjgtMzkuOCA2LjItMTMuNCAxMy4yLTI2LjggMjAuNy0zOS45IDcuOC0xMy41IDE1LjgtMjYuMyAyNC4xLTM4LjIgMTQuOS0xLjMgMzAtMiA0NS4yLTIgMTUuMSAwIDMwLjIuNyA0NSAxLjkgOC4zIDExLjkgMTYuNCAyNC42IDI0LjIgMzggNy42IDEzLjEgMTQuNSAyNi40IDIwLjggMzkuOC02LjMgMTMuNC0xMy4yIDI2LjgtMjAuNyAzOS45em0zMi4zLTEzYzUuNCAxMy40IDEwIDI2LjggMTMuOCAzOS44LTEzLjEgMy4yLTI2LjkgNS45LTQxLjIgOCA0LjktNy43IDkuOC0xNS42IDE0LjQtMjMuNyA0LjYtOCA4LjktMTYuMSAxMy0yNC4xek00MjEuMiA0MzBjLTkuMy05LjYtMTguNi0yMC4zLTI3LjgtMzIgOSAuNCAxOC4yLjcgMjcuNS43IDkuNCAwIDE4LjctLjIgMjcuOC0uNy05IDExLjctMTguMyAyMi40LTI3LjUgMzJ6bS03NC40LTU4LjljLTE0LjItMi4xLTI3LjktNC43LTQxLTcuOSAzLjctMTIuOSA4LjMtMjYuMiAxMy41LTM5LjUgNC4xIDggOC40IDE2IDEzLjEgMjQgNC43IDggOS41IDE1LjggMTQuNCAyMy40ek00MjAuNyAxNjNjOS4zIDkuNiAxOC42IDIwLjMgMjcuOCAzMi05LS40LTE4LjItLjctMjcuNS0uNy05LjQgMC0xOC43LjItMjcuOC43IDktMTEuNyAxOC4zLTIyLjQgMjcuNS0zMnptLTc0IDU4LjljLTQuOSA3LjctOS44IDE1LjYtMTQuNCAyMy43LTQuNiA4LTguOSAxNi0xMyAyNC01LjQtMTMuNC0xMC0yNi44LTEzLjgtMzkuOCAxMy4xLTMuMSAyNi45LTUuOCA0MS4yLTcuOXptLTkwLjUgMTI1LjJjLTM1LjQtMTUuMS01OC4zLTM0LjktNTguMy01MC42IDAtMTUuNyAyMi45LTM1LjYgNTguMy01MC42IDguNi0zLjcgMTgtNyAyNy43LTEwLjEgNS43IDE5LjYgMTMuMiA0MCAyMi41IDYwLjktOS4yIDIwLjgtMTYuNiA0MS4xLTIyLjIgNjAuNi05LjktMy4xLTE5LjMtNi41LTI4LTEwLjJ6TTMxMCA0OTBjLTEzLjYtNy44LTE5LjUtMzcuNS0xNC45LTc1LjcgMS4xLTkuNCAyLjktMTkuMyA1LjEtMjkuNCAxOS42IDQuOCA0MSA4LjUgNjMuNSAxMC45IDEzLjUgMTguNSAyNy41IDM1LjMgNDEuNiA1MC0zMi42IDMwLjMtNjMuMiA0Ni45LTg0IDQ2LjktNC41LS4xLTguMy0xLTExLjMtMi43em0yMzcuMi03Ni4yYzQuNyAzOC4yLTEuMSA2Ny45LTE0LjYgNzUuOC0zIDEuOC02LjkgMi42LTExLjUgMi42LTIwLjcgMC01MS40LTE2LjUtODQtNDYuNiAxNC0xNC43IDI4LTMxLjQgNDEuMy00OS45IDIyLjYtMi40IDQ0LTYuMSA2My42LTExIDIuMyAxMC4xIDQuMSAxOS44IDUuMiAyOS4xem0zOC41LTY2LjdjLTguNiAzLjctMTggNy0yNy43IDEwLjEtNS43LTE5LjYtMTMuMi00MC0yMi41LTYwLjkgOS4yLTIwLjggMTYuNi00MS4xIDIyLjItNjAuNiA5LjkgMy4xIDE5LjMgNi41IDI4LjEgMTAuMiAzNS40IDE1LjEgNTguMyAzNC45IDU4LjMgNTAuNi0uMSAxNS43LTIzIDM1LjYtNTguNCA1MC42ek0zMjAuOCA3OC40eiIvPgogICAgPGNpcmNsZSBjeD0iNDIwLjkiIGN5PSIyOTYuNSIgcj0iNDUuNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-redo: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4LjQgMTAuNkMxNi41NSA4Ljk5IDE0LjE1IDggMTEuNSA4Yy00LjY1IDAtOC41OCAzLjAzLTkuOTYgNy4yMkwzLjkgMTZjMS4wNS0zLjE5IDQuMDUtNS41IDcuNi01LjUgMS45NSAwIDMuNzMuNzIgNS4xMiAxLjg4TDEzIDE2aDlWN2wtMy42IDMuNnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-refresh: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTkgMTMuNWMtMi40OSAwLTQuNS0yLjAxLTQuNS00LjVTNi41MSA0LjUgOSA0LjVjMS4yNCAwIDIuMzYuNTIgMy4xNyAxLjMzTDEwIDhoNVYzbC0xLjc2IDEuNzZDMTIuMTUgMy42OCAxMC42NiAzIDkgMyA1LjY5IDMgMy4wMSA1LjY5IDMuMDEgOVM1LjY5IDE1IDkgMTVjMi45NyAwIDUuNDMtMi4xNiA1LjktNWgtMS41MmMtLjQ2IDItMi4yNCAzLjUtNC4zOCAzLjV6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-regex: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiBmaWxsPSIjRkZGIj4KICAgIDxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjUuNSIgY3k9IjE0LjUiIHI9IjEuNSIvPgogICAgPHJlY3QgeD0iMTIiIHk9IjQiIGNsYXNzPSJzdDIiIHdpZHRoPSIxIiBoZWlnaHQ9IjgiLz4KICAgIDxyZWN0IHg9IjguNSIgeT0iNy41IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg2NiAtMC41IDAuNSAwLjg2NiAtMi4zMjU1IDcuMzIxOSkiIGNsYXNzPSJzdDIiIHdpZHRoPSI4IiBoZWlnaHQ9IjEiLz4KICAgIDxyZWN0IHg9IjEyIiB5PSI0IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjUgLTAuODY2IDAuODY2IDAuNSAtMC42Nzc5IDE0LjgyNTIpIiBjbGFzcz0ic3QyIiB3aWR0aD0iMSIgaGVpZ2h0PSI4Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-run: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTggNXYxNGwxMS03eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-running: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMjU2IDhDMTE5IDggOCAxMTkgOCAyNTZzMTExIDI0OCAyNDggMjQ4IDI0OC0xMTEgMjQ4LTI0OFMzOTMgOCAyNTYgOHptOTYgMzI4YzAgOC44LTcuMiAxNi0xNiAxNkgxNzZjLTguOCAwLTE2LTcuMi0xNi0xNlYxNzZjMC04LjggNy4yLTE2IDE2LTE2aDE2MGM4LjggMCAxNiA3LjIgMTYgMTZ2MTYweiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-save: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE3IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjdsLTQtNHptLTUgMTZjLTEuNjYgMC0zLTEuMzQtMy0zczEuMzQtMyAzLTMgMyAxLjM0IDMgMy0xLjM0IDMtMyAzem0zLTEwSDVWNWgxMHY0eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-search: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjEsMTAuOWgtMC43bC0wLjItMC4yYzAuOC0wLjksMS4zLTIuMiwxLjMtMy41YzAtMy0yLjQtNS40LTUuNC01LjRTMS44LDQuMiwxLjgsNy4xczIuNCw1LjQsNS40LDUuNCBjMS4zLDAsMi41LTAuNSwzLjUtMS4zbDAuMiwwLjJ2MC43bDQuMSw0LjFsMS4yLTEuMkwxMi4xLDEwLjl6IE03LjEsMTAuOWMtMi4xLDAtMy43LTEuNy0zLjctMy43czEuNy0zLjcsMy43LTMuN3MzLjcsMS43LDMuNywzLjcgUzkuMiwxMC45LDcuMSwxMC45eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-settings: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVBLjQ4OC40ODggMCAwMDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==);
  --jp-icon-share: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTSAxOCAyIEMgMTYuMzU0OTkgMiAxNSAzLjM1NDk5MDQgMTUgNSBDIDE1IDUuMTkwOTUyOSAxNS4wMjE3OTEgNS4zNzcxMjI0IDE1LjA1NjY0MSA1LjU1ODU5MzggTCA3LjkyMTg3NSA5LjcyMDcwMzEgQyA3LjM5ODUzOTkgOS4yNzc4NTM5IDYuNzMyMDc3MSA5IDYgOSBDIDQuMzU0OTkwNCA5IDMgMTAuMzU0OTkgMyAxMiBDIDMgMTMuNjQ1MDEgNC4zNTQ5OTA0IDE1IDYgMTUgQyA2LjczMjA3NzEgMTUgNy4zOTg1Mzk5IDE0LjcyMjE0NiA3LjkyMTg3NSAxNC4yNzkyOTcgTCAxNS4wNTY2NDEgMTguNDM5NDUzIEMgMTUuMDIxNTU1IDE4LjYyMTUxNCAxNSAxOC44MDgzODYgMTUgMTkgQyAxNSAyMC42NDUwMSAxNi4zNTQ5OSAyMiAxOCAyMiBDIDE5LjY0NTAxIDIyIDIxIDIwLjY0NTAxIDIxIDE5IEMgMjEgMTcuMzU0OTkgMTkuNjQ1MDEgMTYgMTggMTYgQyAxNy4yNjc0OCAxNiAxNi42MDE1OTMgMTYuMjc5MzI4IDE2LjA3ODEyNSAxNi43MjI2NTYgTCA4Ljk0MzM1OTQgMTIuNTU4NTk0IEMgOC45NzgyMDk1IDEyLjM3NzEyMiA5IDEyLjE5MDk1MyA5IDEyIEMgOSAxMS44MDkwNDcgOC45NzgyMDk1IDExLjYyMjg3OCA4Ljk0MzM1OTQgMTEuNDQxNDA2IEwgMTYuMDc4MTI1IDcuMjc5Mjk2OSBDIDE2LjYwMTQ2IDcuNzIyMTQ2MSAxNy4yNjc5MjMgOCAxOCA4IEMgMTkuNjQ1MDEgOCAyMSA2LjY0NTAwOTYgMjEgNSBDIDIxIDMuMzU0OTkwNCAxOS42NDUwMSAyIDE4IDIgeiBNIDE4IDQgQyAxOC41NjQxMjkgNCAxOSA0LjQzNTg3MDYgMTkgNSBDIDE5IDUuNTY0MTI5NCAxOC41NjQxMjkgNiAxOCA2IEMgMTcuNDM1ODcxIDYgMTcgNS41NjQxMjk0IDE3IDUgQyAxNyA0LjQzNTg3MDYgMTcuNDM1ODcxIDQgMTggNCB6IE0gNiAxMSBDIDYuNTY0MTI5NCAxMSA3IDExLjQzNTg3MSA3IDEyIEMgNyAxMi41NjQxMjkgNi41NjQxMjk0IDEzIDYgMTMgQyA1LjQzNTg3MDYgMTMgNSAxMi41NjQxMjkgNSAxMiBDIDUgMTEuNDM1ODcxIDUuNDM1ODcwNiAxMSA2IDExIHogTSAxOCAxOCBDIDE4LjU2NDEyOSAxOCAxOSAxOC40MzU4NzEgMTkgMTkgQyAxOSAxOS41NjQxMjkgMTguNTY0MTI5IDIwIDE4IDIwIEMgMTcuNDM1ODcxIDIwIDE3IDE5LjU2NDEyOSAxNyAxOSBDIDE3IDE4LjQzNTg3MSAxNy40MzU4NzEgMTggMTggMTggeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-spreadsheet: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNENBRjUwIiBkPSJNMi4yIDIuMnYxNy42aDE3LjZWMi4ySDIuMnptMTUuNCA3LjdoLTUuNVY0LjRoNS41djUuNXpNOS45IDQuNHY1LjVINC40VjQuNGg1LjV6bS01LjUgNy43aDUuNXY1LjVINC40di01LjV6bTcuNyA1LjV2LTUuNWg1LjV2NS41aC01LjV6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-stop: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik02IDZoMTJ2MTJINnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tab: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIxIDNIM2MtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxOGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE2SDNWNWgxMHY0aDh2MTB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-table-rows: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMSw4SDNWNGgxOFY4eiBNMjEsMTBIM3Y0aDE4VjEweiBNMjEsMTZIM3Y0aDE4VjE2eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-tag: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCA0MyAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTI4LjgzMzIgMTIuMzM0TDMyLjk5OTggMTYuNTAwN0wzNy4xNjY1IDEyLjMzNEgyOC44MzMyWiIvPgoJCTxwYXRoIGQ9Ik0xNi4yMDk1IDIxLjYxMDRDMTUuNjg3MyAyMi4xMjk5IDE0Ljg0NDMgMjIuMTI5OSAxNC4zMjQ4IDIxLjYxMDRMNi45ODI5IDE0LjcyNDVDNi41NzI0IDE0LjMzOTQgNi4wODMxMyAxMy42MDk4IDYuMDQ3ODYgMTMuMDQ4MkM1Ljk1MzQ3IDExLjUyODggNi4wMjAwMiA4LjYxOTQ0IDYuMDY2MjEgNy4wNzY5NUM2LjA4MjgxIDYuNTE0NzcgNi41NTU0OCA2LjA0MzQ3IDcuMTE4MDQgNi4wMzA1NUM5LjA4ODYzIDUuOTg0NzMgMTMuMjYzOCA1LjkzNTc5IDEzLjY1MTggNi4zMjQyNUwyMS43MzY5IDEzLjYzOUMyMi4yNTYgMTQuMTU4NSAyMS43ODUxIDE1LjQ3MjQgMjEuMjYyIDE1Ljk5NDZMMTYuMjA5NSAyMS42MTA0Wk05Ljc3NTg1IDguMjY1QzkuMzM1NTEgNy44MjU2NiA4LjYyMzUxIDcuODI1NjYgOC4xODI4IDguMjY1QzcuNzQzNDYgOC43MDU3MSA3Ljc0MzQ2IDkuNDE3MzMgOC4xODI4IDkuODU2NjdDOC42MjM4MiAxMC4yOTY0IDkuMzM1ODIgMTAuMjk2NCA5Ljc3NTg1IDkuODU2NjdDMTAuMjE1NiA5LjQxNzMzIDEwLjIxNTYgOC43MDUzMyA5Ljc3NTg1IDguMjY1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-terminal: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiA+CiAgICA8cmVjdCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1iYWNrZ3JvdW5kLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDIpIiBmaWxsPSIjMzMzMzMzIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZSIgZD0iTTUuMDU2NjQgOC43NjE3MkM1LjA1NjY0IDguNTk3NjYgNS4wMzEyNSA4LjQ1MzEyIDQuOTgwNDcgOC4zMjgxMkM0LjkzMzU5IDguMTk5MjIgNC44NTU0NyA4LjA4MjAzIDQuNzQ2MDkgNy45NzY1NkM0LjY0MDYyIDcuODcxMDkgNC41IDcuNzc1MzkgNC4zMjQyMiA3LjY4OTQ1QzQuMTUyMzQgNy41OTk2MSAzLjk0MzM2IDcuNTExNzIgMy42OTcyNyA3LjQyNTc4QzMuMzAyNzMgNy4yODUxNiAyLjk0MzM2IDcuMTM2NzIgMi42MTkxNCA2Ljk4MDQ3QzIuMjk0OTIgNi44MjQyMiAyLjAxNzU4IDYuNjQyNTggMS43ODcxMSA2LjQzNTU1QzEuNTYwNTUgNi4yMjg1MiAxLjM4NDc3IDUuOTg4MjggMS4yNTk3NyA1LjcxNDg0QzEuMTM0NzcgNS40Mzc1IDEuMDcyMjcgNS4xMDkzOCAxLjA3MjI3IDQuNzMwNDdDMS4wNzIyNyA0LjM5ODQ0IDEuMTI4OTEgNC4wOTU3IDEuMjQyMTkgMy44MjIyN0MxLjM1NTQ3IDMuNTQ0OTIgMS41MTU2MiAzLjMwNDY5IDEuNzIyNjYgMy4xMDE1NkMxLjkyOTY5IDIuODk4NDQgMi4xNzk2OSAyLjczNDM3IDIuNDcyNjYgMi42MDkzOEMyLjc2NTYyIDIuNDg0MzggMy4wOTE4IDIuNDA0MyAzLjQ1MTE3IDIuMzY5MTRWMS4xMDkzOEg0LjM4ODY3VjIuMzgwODZDNC43NDAyMyAyLjQyNzczIDUuMDU2NjQgMi41MjM0NCA1LjMzNzg5IDIuNjY3OTdDNS42MTkxNCAyLjgxMjUgNS44NTc0MiAzLjAwMTk1IDYuMDUyNzMgMy4yMzYzM0M2LjI1MTk1IDMuNDY2OCA2LjQwNDMgMy43NDAyMyA2LjUwOTc3IDQuMDU2NjRDNi42MTkxNCA0LjM2OTE0IDYuNjczODMgNC43MjA3IDYuNjczODMgNS4xMTEzM0g1LjA0NDkyQzUuMDQ0OTIgNC42Mzg2NyA0LjkzNzUgNC4yODEyNSA0LjcyMjY2IDQuMDM5MDZDNC41MDc4MSAzLjc5Mjk3IDQuMjE2OCAzLjY2OTkyIDMuODQ5NjEgMy42Njk5MkMzLjY1MDM5IDMuNjY5OTIgMy40NzY1NiAzLjY5NzI3IDMuMzI4MTIgMy43NTE5NUMzLjE4MzU5IDMuODAyNzMgMy4wNjQ0NSAzLjg3Njk1IDIuOTcwNyAzLjk3NDYxQzIuODc2OTUgNC4wNjgzNiAyLjgwNjY0IDQuMTc5NjkgMi43NTk3NyA0LjMwODU5QzIuNzE2OCA0LjQzNzUgMi42OTUzMSA0LjU3ODEyIDIuNjk1MzEgNC43MzA0N0MyLjY5NTMxIDQuODgyODEgMi43MTY4IDUuMDE5NTMgMi43NTk3NyA1LjE0MDYyQzIuODA2NjQgNS4yNTc4MSAyLjg4MjgxIDUuMzY3MTkgMi45ODgyOCA1LjQ2ODc1QzMuMDk3NjYgNS41NzAzMSAzLjI0MDIzIDUuNjY3OTcgMy40MTYwMiA1Ljc2MTcyQzMuNTkxOCA1Ljg1MTU2IDMuODEwNTUgNS45NDMzNiA0LjA3MjI3IDYuMDM3MTFDNC40NjY4IDYuMTg1NTUgNC44MjQyMiA2LjMzOTg0IDUuMTQ0NTMgNi41QzUuNDY0ODQgNi42NTYyNSA1LjczODI4IDYuODM5ODQgNS45NjQ4NCA3LjA1MDc4QzYuMTk1MzEgNy4yNTc4MSA2LjM3MTA5IDcuNSA2LjQ5MjE5IDcuNzc3MzRDNi42MTcxOSA4LjA1MDc4IDYuNjc5NjkgOC4zNzUgNi42Nzk2OSA4Ljc1QzYuNjc5NjkgOS4wOTM3NSA2LjYyMzA1IDkuNDA0MyA2LjUwOTc3IDkuNjgxNjRDNi4zOTY0OCA5Ljk1NTA4IDYuMjM0MzggMTAuMTkxNCA2LjAyMzQ0IDEwLjM5MDZDNS44MTI1IDEwLjU4OTggNS41NTg1OSAxMC43NSA1LjI2MTcyIDEwLjg3MTFDNC45NjQ4NCAxMC45ODgzIDQuNjMyODEgMTEuMDY0NSA0LjI2NTYyIDExLjA5OTZWMTIuMjQ4SDMuMzMzOThWMTEuMDk5NkMzLjAwMTk1IDExLjA2ODQgMi42Nzk2OSAxMC45OTYxIDIuMzY3MTkgMTAuODgyOEMyLjA1NDY5IDEwLjc2NTYgMS43NzczNCAxMC41OTc3IDEuNTM1MTYgMTAuMzc4OUMxLjI5Njg4IDEwLjE2MDIgMS4xMDU0NyA5Ljg4NDc3IDAuOTYwOTM4IDkuNTUyNzNDMC44MTY0MDYgOS4yMTY4IDAuNzQ0MTQxIDguODE0NDUgMC43NDQxNDEgOC4zNDU3SDIuMzc4OTFDMi4zNzg5MSA4LjYyNjk1IDIuNDE5OTIgOC44NjMyOCAyLjUwMTk1IDkuMDU0NjlDMi41ODM5OCA5LjI0MjE5IDIuNjg5NDUgOS4zOTI1OCAyLjgxODM2IDkuNTA1ODZDMi45NTExNyA5LjYxNTIzIDMuMTAxNTYgOS42OTMzNiAzLjI2OTUzIDkuNzQwMjNDMy40Mzc1IDkuNzg3MTEgMy42MDkzOCA5LjgxMDU1IDMuNzg1MTYgOS44MTA1NUM0LjIwMzEyIDkuODEwNTUgNC41MTk1MyA5LjcxMjg5IDQuNzM0MzggOS41MTc1OEM0Ljk0OTIyIDkuMzIyMjcgNS4wNTY2NCA5LjA3MDMxIDUuMDU2NjQgOC43NjE3MlpNMTMuNDE4IDEyLjI3MTVIOC4wNzQyMlYxMUgxMy40MThWMTIuMjcxNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuOTUyNjQgNikiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);
  --jp-icon-text-editor: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtdGV4dC1lZGl0b3ItaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xNSAxNUgzdjJoMTJ2LTJ6bTAtOEgzdjJoMTJWN3pNMyAxM2gxOHYtMkgzdjJ6bTAgOGgxOHYtMkgzdjJ6TTMgM3YyaDE4VjNIM3oiLz4KPC9zdmc+Cg==);
  --jp-icon-toc: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik03LDVIMjFWN0g3VjVNNywxM1YxMUgyMVYxM0g3TTQsNC41QTEuNSwxLjUgMCAwLDEgNS41LDZBMS41LDEuNSAwIDAsMSA0LDcuNUExLjUsMS41IDAgMCwxIDIuNSw2QTEuNSwxLjUgMCAwLDEgNCw0LjVNNCwxMC41QTEuNSwxLjUgMCAwLDEgNS41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMy41QTEuNSwxLjUgMCAwLDEgMi41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMC41TTcsMTlWMTdIMjFWMTlIN000LDE2LjVBMS41LDEuNSAwIDAsMSA1LjUsMThBMS41LDEuNSAwIDAsMSA0LDE5LjVBMS41LDEuNSAwIDAsMSAyLjUsMThBMS41LDEuNSAwIDAsMSA0LDE2LjVaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tree-view: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMiAxMVYzaC03djNIOVYzSDJ2OGg3VjhoMnYxMGg0djNoN3YtOGgtN3YzaC0yVjhoMnYzeiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMiAxNy4xODQ0IDIuOTY5NjggMTQuMzAzMiAxLjg2MDk0IDExLjQ0MDlaIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiMzMzMzMzMiIHN0cm9rZT0iIzMzMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCA5Ljg2NzE5KSIgZD0iTTIuODYwMTUgNC44NjUzNUwwLjcyNjU0OSAyLjk5OTU5TDAgMy42MzA0NUwyLjg2MDE1IDYuMTMxNTdMOCAwLjYzMDg3Mkw3LjI3ODU3IDBMMi44NjAxNSA0Ljg2NTM1WiIvPgo8L3N2Zz4K);
  --jp-icon-undo: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjUgOGMtMi42NSAwLTUuMDUuOTktNi45IDIuNkwyIDd2OWg5bC0zLjYyLTMuNjJjMS4zOS0xLjE2IDMuMTYtMS44OCA1LjEyLTEuODggMy41NCAwIDYuNTUgMi4zMSA3LjYgNS41bDIuMzctLjc4QzIxLjA4IDExLjAzIDE3LjE1IDggMTIuNSA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-user: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-users: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM2IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPGcgY2xhc3M9ImpwLWljb24zIiB0cmFuc2Zvcm09Im1hdHJpeCgxLjczMjcgMCAwIDEuNzMyNyAtMy42MjgyIC4wOTk1NzcpIiBmaWxsPSIjNjE2MTYxIj4KICA8cGF0aCB0cmFuc2Zvcm09Im1hdHJpeCgxLjUsMCwwLDEuNSwwLC02KSIgZD0ibTEyLjE4NiA3LjUwOThjLTEuMDUzNSAwLTEuOTc1NyAwLjU2NjUtMi40Nzg1IDEuNDEwMiAwLjc1MDYxIDAuMzEyNzcgMS4zOTc0IDAuODI2NDggMS44NzMgMS40NzI3aDMuNDg2M2MwLTEuNTkyLTEuMjg4OS0yLjg4MjgtMi44ODA5LTIuODgyOHoiLz4KICA8cGF0aCBkPSJtMjAuNDY1IDIuMzg5NWEyLjE4ODUgMi4xODg1IDAgMCAxLTIuMTg4NCAyLjE4ODUgMi4xODg1IDIuMTg4NSAwIDAgMS0yLjE4ODUtMi4xODg1IDIuMTg4NSAyLjE4ODUgMCAwIDEgMi4xODg1LTIuMTg4NSAyLjE4ODUgMi4xODg1IDAgMCAxIDIuMTg4NCAyLjE4ODV6Ii8+CiAgPHBhdGggdHJhbnNmb3JtPSJtYXRyaXgoMS41LDAsMCwxLjUsMCwtNikiIGQ9Im0zLjU4OTggOC40MjE5Yy0xLjExMjYgMC0yLjAxMzcgMC45MDExMS0yLjAxMzcgMi4wMTM3aDIuODE0NWMwLjI2Nzk3LTAuMzczMDkgMC41OTA3LTAuNzA0MzUgMC45NTg5OC0wLjk3ODUyLTAuMzQ0MzMtMC42MTY4OC0xLjAwMzEtMS4wMzUyLTEuNzU5OC0xLjAzNTJ6Ii8+CiAgPHBhdGggZD0ibTYuOTE1NCA0LjYyM2ExLjUyOTQgMS41Mjk0IDAgMCAxLTEuNTI5NCAxLjUyOTQgMS41Mjk0IDEuNTI5NCAwIDAgMS0xLjUyOTQtMS41Mjk0IDEuNTI5NCAxLjUyOTQgMCAwIDEgMS41Mjk0LTEuNTI5NCAxLjUyOTQgMS41Mjk0IDAgMCAxIDEuNTI5NCAxLjUyOTR6Ii8+CiAgPHBhdGggZD0ibTYuMTM1IDEzLjUzNWMwLTMuMjM5MiAyLjYyNTktNS44NjUgNS44NjUtNS44NjUgMy4yMzkyIDAgNS44NjUgMi42MjU5IDUuODY1IDUuODY1eiIvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMy43Njg1IiByPSIyLjk2ODUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-vega: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbjEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjEyMTIxIj4KICAgIDxwYXRoIGQ9Ik0xMC42IDUuNGwyLjItMy4ySDIuMnY3LjNsNC02LjZ6Ii8+CiAgICA8cGF0aCBkPSJNMTUuOCAyLjJsLTQuNCA2LjZMNyA2LjNsLTQuOCA4djUuNWgxNy42VjIuMmgtNHptLTcgMTUuNEg1LjV2LTQuNGgzLjN2NC40em00LjQgMEg5LjhWOS44aDMuNHY3Ljh6bTQuNCAwaC0zLjRWNi41aDMuNHYxMS4xeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-word: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KIDxnIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzQxNDE0MSI+CiAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiA8L2c+CiA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguNDMgLjA0MDEpIiBmaWxsPSIjZmZmIj4KICA8cGF0aCBkPSJtNC4xNCA4Ljc2cTAuMDY4Mi0xLjg5IDIuNDItMS44OSAxLjE2IDAgMS42OCAwLjQyIDAuNTY3IDAuNDEgMC41NjcgMS4xNnYzLjQ3cTAgMC40NjIgMC41MTQgMC40NjIgMC4xMDMgMCAwLjItMC4wMjMxdjAuNzE0cS0wLjM5OSAwLjEwMy0wLjY1MSAwLjEwMy0wLjQ1MiAwLTAuNjkzLTAuMjItMC4yMzEtMC4yLTAuMjg0LTAuNjYyLTAuOTU2IDAuODcyLTIgMC44NzItMC45MDMgMC0xLjQ3LTAuNDcyLTAuNTI1LTAuNDcyLTAuNTI1LTEuMjYgMC0wLjI2MiAwLjA0NTItMC40NzIgMC4wNTY3LTAuMjIgMC4xMTYtMC4zNzggMC4wNjgyLTAuMTY4IDAuMjMxLTAuMzA0IDAuMTU4LTAuMTQ3IDAuMjYyLTAuMjQyIDAuMTE2LTAuMDkxNCAwLjM2OC0wLjE2OCAwLjI2Mi0wLjA5MTQgMC4zOTktMC4xMjYgMC4xMzYtMC4wNDUyIDAuNDcyLTAuMTAzIDAuMzM2LTAuMDU3OCAwLjUwNC0wLjA3OTggMC4xNTgtMC4wMjMxIDAuNTY3LTAuMDc5OCAwLjU1Ni0wLjA2ODIgMC43NzctMC4yMjEgMC4yMi0wLjE1MiAwLjIyLTAuNDQxdi0wLjI1MnEwLTAuNDMtMC4zNTctMC42NjItMC4zMzYtMC4yMzEtMC45NzYtMC4yMzEtMC42NjIgMC0wLjk5OCAwLjI2Mi0wLjMzNiAwLjI1Mi0wLjM5OSAwLjc5OHptMS44OSAzLjY4cTAuNzg4IDAgMS4yNi0wLjQxIDAuNTA0LTAuNDIgMC41MDQtMC45MDN2LTEuMDVxLTAuMjg0IDAuMTM2LTAuODYxIDAuMjMxLTAuNTY3IDAuMDkxNC0wLjk4NyAwLjE1OC0wLjQyIDAuMDY4Mi0wLjc2NiAwLjMyNi0wLjMzNiAwLjI1Mi0wLjMzNiAwLjcwNHQwLjMwNCAwLjcwNCAwLjg2MSAwLjI1MnoiIHN0cm9rZS13aWR0aD0iMS4wNSIvPgogIDxwYXRoIGQ9Im0xMCA0LjU2aDAuOTQ1djMuMTVxMC42NTEtMC45NzYgMS44OS0wLjk3NiAxLjE2IDAgMS44OSAwLjg0IDAuNjgyIDAuODQgMC42ODIgMi4zMSAwIDEuNDctMC43MDQgMi40Mi0wLjcwNCAwLjg4Mi0xLjg5IDAuODgyLTEuMjYgMC0xLjg5LTEuMDJ2MC43NjZoLTAuODV6bTIuNjIgMy4wNHEtMC43NDYgMC0xLjE2IDAuNjQtMC40NTIgMC42My0wLjQ1MiAxLjY4IDAgMS4wNSAwLjQ1MiAxLjY4dDEuMTYgMC42M3EwLjc3NyAwIDEuMjYtMC42MyAwLjQ5NC0wLjY0IDAuNDk0LTEuNjggMC0xLjA1LTAuNDcyLTEuNjgtMC40NjItMC42NC0xLjI2LTAuNjR6IiBzdHJva2Utd2lkdGg9IjEuMDUiLz4KICA8cGF0aCBkPSJtMi43MyAxNS44IDEzLjYgMC4wMDgxYzAuMDA2OSAwIDAtMi42IDAtMi42IDAtMC4wMDc4LTEuMTUgMC0xLjE1IDAtMC4wMDY5IDAtMC4wMDgzIDEuNS0wLjAwODMgMS41LTJlLTMgLTAuMDAxNC0xMS4zLTAuMDAxNC0xMS4zLTAuMDAxNGwtMC4wMDU5Mi0xLjVjMC0wLjAwNzgtMS4xNyAwLjAwMTMtMS4xNyAwLjAwMTN6IiBzdHJva2Utd2lkdGg9Ii45NzUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-yaml: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1jb250cmFzdDIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjRDgxQjYwIj4KICAgIDxwYXRoIGQ9Ik03LjIgMTguNnYtNS40TDMgNS42aDMuM2wxLjQgMy4xYy4zLjkuNiAxLjYgMSAyLjUuMy0uOC42LTEuNiAxLTIuNWwxLjQtMy4xaDMuNGwtNC40IDcuNnY1LjVsLTIuOS0uMXoiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxNi41IiByPSIyLjEiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxMSIgcj0iMi4xIi8+CiAgPC9nPgo8L3N2Zz4K);
}

/* Icon CSS class declarations */

.jp-AddAboveIcon {
  background-image: var(--jp-icon-add-above);
}

.jp-AddBelowIcon {
  background-image: var(--jp-icon-add-below);
}

.jp-AddIcon {
  background-image: var(--jp-icon-add);
}

.jp-BellIcon {
  background-image: var(--jp-icon-bell);
}

.jp-BugDotIcon {
  background-image: var(--jp-icon-bug-dot);
}

.jp-BugIcon {
  background-image: var(--jp-icon-bug);
}

.jp-BuildIcon {
  background-image: var(--jp-icon-build);
}

.jp-CaretDownEmptyIcon {
  background-image: var(--jp-icon-caret-down-empty);
}

.jp-CaretDownEmptyThinIcon {
  background-image: var(--jp-icon-caret-down-empty-thin);
}

.jp-CaretDownIcon {
  background-image: var(--jp-icon-caret-down);
}

.jp-CaretLeftIcon {
  background-image: var(--jp-icon-caret-left);
}

.jp-CaretRightIcon {
  background-image: var(--jp-icon-caret-right);
}

.jp-CaretUpEmptyThinIcon {
  background-image: var(--jp-icon-caret-up-empty-thin);
}

.jp-CaretUpIcon {
  background-image: var(--jp-icon-caret-up);
}

.jp-CaseSensitiveIcon {
  background-image: var(--jp-icon-case-sensitive);
}

.jp-CheckIcon {
  background-image: var(--jp-icon-check);
}

.jp-CircleEmptyIcon {
  background-image: var(--jp-icon-circle-empty);
}

.jp-CircleIcon {
  background-image: var(--jp-icon-circle);
}

.jp-ClearIcon {
  background-image: var(--jp-icon-clear);
}

.jp-CloseIcon {
  background-image: var(--jp-icon-close);
}

.jp-CodeCheckIcon {
  background-image: var(--jp-icon-code-check);
}

.jp-CodeIcon {
  background-image: var(--jp-icon-code);
}

.jp-CollapseAllIcon {
  background-image: var(--jp-icon-collapse-all);
}

.jp-ConsoleIcon {
  background-image: var(--jp-icon-console);
}

.jp-CopyIcon {
  background-image: var(--jp-icon-copy);
}

.jp-CopyrightIcon {
  background-image: var(--jp-icon-copyright);
}

.jp-CutIcon {
  background-image: var(--jp-icon-cut);
}

.jp-DeleteIcon {
  background-image: var(--jp-icon-delete);
}

.jp-DownloadIcon {
  background-image: var(--jp-icon-download);
}

.jp-DuplicateIcon {
  background-image: var(--jp-icon-duplicate);
}

.jp-EditIcon {
  background-image: var(--jp-icon-edit);
}

.jp-EllipsesIcon {
  background-image: var(--jp-icon-ellipses);
}

.jp-ErrorIcon {
  background-image: var(--jp-icon-error);
}

.jp-ExpandAllIcon {
  background-image: var(--jp-icon-expand-all);
}

.jp-ExtensionIcon {
  background-image: var(--jp-icon-extension);
}

.jp-FastForwardIcon {
  background-image: var(--jp-icon-fast-forward);
}

.jp-FileIcon {
  background-image: var(--jp-icon-file);
}

.jp-FileUploadIcon {
  background-image: var(--jp-icon-file-upload);
}

.jp-FilterDotIcon {
  background-image: var(--jp-icon-filter-dot);
}

.jp-FilterIcon {
  background-image: var(--jp-icon-filter);
}

.jp-FilterListIcon {
  background-image: var(--jp-icon-filter-list);
}

.jp-FolderFavoriteIcon {
  background-image: var(--jp-icon-folder-favorite);
}

.jp-FolderIcon {
  background-image: var(--jp-icon-folder);
}

.jp-HomeIcon {
  background-image: var(--jp-icon-home);
}

.jp-Html5Icon {
  background-image: var(--jp-icon-html5);
}

.jp-ImageIcon {
  background-image: var(--jp-icon-image);
}

.jp-InfoIcon {
  background-image: var(--jp-icon-info);
}

.jp-InspectorIcon {
  background-image: var(--jp-icon-inspector);
}

.jp-JsonIcon {
  background-image: var(--jp-icon-json);
}

.jp-JuliaIcon {
  background-image: var(--jp-icon-julia);
}

.jp-JupyterFaviconIcon {
  background-image: var(--jp-icon-jupyter-favicon);
}

.jp-JupyterIcon {
  background-image: var(--jp-icon-jupyter);
}

.jp-JupyterlabWordmarkIcon {
  background-image: var(--jp-icon-jupyterlab-wordmark);
}

.jp-KernelIcon {
  background-image: var(--jp-icon-kernel);
}

.jp-KeyboardIcon {
  background-image: var(--jp-icon-keyboard);
}

.jp-LaunchIcon {
  background-image: var(--jp-icon-launch);
}

.jp-LauncherIcon {
  background-image: var(--jp-icon-launcher);
}

.jp-LineFormIcon {
  background-image: var(--jp-icon-line-form);
}

.jp-LinkIcon {
  background-image: var(--jp-icon-link);
}

.jp-ListIcon {
  background-image: var(--jp-icon-list);
}

.jp-MarkdownIcon {
  background-image: var(--jp-icon-markdown);
}

.jp-MoveDownIcon {
  background-image: var(--jp-icon-move-down);
}

.jp-MoveUpIcon {
  background-image: var(--jp-icon-move-up);
}

.jp-NewFolderIcon {
  background-image: var(--jp-icon-new-folder);
}

.jp-NotTrustedIcon {
  background-image: var(--jp-icon-not-trusted);
}

.jp-NotebookIcon {
  background-image: var(--jp-icon-notebook);
}

.jp-NumberingIcon {
  background-image: var(--jp-icon-numbering);
}

.jp-OfflineBoltIcon {
  background-image: var(--jp-icon-offline-bolt);
}

.jp-PaletteIcon {
  background-image: var(--jp-icon-palette);
}

.jp-PasteIcon {
  background-image: var(--jp-icon-paste);
}

.jp-PdfIcon {
  background-image: var(--jp-icon-pdf);
}

.jp-PythonIcon {
  background-image: var(--jp-icon-python);
}

.jp-RKernelIcon {
  background-image: var(--jp-icon-r-kernel);
}

.jp-ReactIcon {
  background-image: var(--jp-icon-react);
}

.jp-RedoIcon {
  background-image: var(--jp-icon-redo);
}

.jp-RefreshIcon {
  background-image: var(--jp-icon-refresh);
}

.jp-RegexIcon {
  background-image: var(--jp-icon-regex);
}

.jp-RunIcon {
  background-image: var(--jp-icon-run);
}

.jp-RunningIcon {
  background-image: var(--jp-icon-running);
}

.jp-SaveIcon {
  background-image: var(--jp-icon-save);
}

.jp-SearchIcon {
  background-image: var(--jp-icon-search);
}

.jp-SettingsIcon {
  background-image: var(--jp-icon-settings);
}

.jp-ShareIcon {
  background-image: var(--jp-icon-share);
}

.jp-SpreadsheetIcon {
  background-image: var(--jp-icon-spreadsheet);
}

.jp-StopIcon {
  background-image: var(--jp-icon-stop);
}

.jp-TabIcon {
  background-image: var(--jp-icon-tab);
}

.jp-TableRowsIcon {
  background-image: var(--jp-icon-table-rows);
}

.jp-TagIcon {
  background-image: var(--jp-icon-tag);
}

.jp-TerminalIcon {
  background-image: var(--jp-icon-terminal);
}

.jp-TextEditorIcon {
  background-image: var(--jp-icon-text-editor);
}

.jp-TocIcon {
  background-image: var(--jp-icon-toc);
}

.jp-TreeViewIcon {
  background-image: var(--jp-icon-tree-view);
}

.jp-TrustedIcon {
  background-image: var(--jp-icon-trusted);
}

.jp-UndoIcon {
  background-image: var(--jp-icon-undo);
}

.jp-UserIcon {
  background-image: var(--jp-icon-user);
}

.jp-UsersIcon {
  background-image: var(--jp-icon-users);
}

.jp-VegaIcon {
  background-image: var(--jp-icon-vega);
}

.jp-WordIcon {
  background-image: var(--jp-icon-word);
}

.jp-YamlIcon {
  background-image: var(--jp-icon-yaml);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

.jp-Icon,
.jp-MaterialIcon {
  background-position: center;
  background-repeat: no-repeat;
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-cover {
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/**
 * (DEPRECATED) Support for specific CSS icon sizes
 */

.jp-Icon-16 {
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-18 {
  background-size: 18px;
  min-width: 18px;
  min-height: 18px;
}

.jp-Icon-20 {
  background-size: 20px;
  min-width: 20px;
  min-height: 20px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.lm-TabBar .lm-TabBar-addButton {
  align-items: center;
  display: flex;
  padding: 4px;
  padding-bottom: 5px;
  margin-right: 1px;
  background-color: var(--jp-layout-color2);
}

.lm-TabBar .lm-TabBar-addButton:hover {
  background-color: var(--jp-layout-color1);
}

.lm-DockPanel-tabBar .lm-TabBar-tab {
  width: var(--jp-private-horizontal-tab-width);
}

.lm-DockPanel-tabBar .lm-TabBar-content {
  flex: unset;
}

.lm-DockPanel-tabBar[data-orientation='horizontal'] {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for icons as inline SVG HTMLElements
 */

/* recolor the primary elements of an icon */
.jp-icon0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-accent0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-accent1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-accent2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-accent3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-accent4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-accent0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-accent1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-accent2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-accent3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-accent4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-none[fill] {
  fill: none;
}

.jp-icon-none[stroke] {
  stroke: none;
}

/* brand icon colors. Same for light and dark */
.jp-icon-brand0[fill] {
  fill: var(--jp-brand-color0);
}

.jp-icon-brand1[fill] {
  fill: var(--jp-brand-color1);
}

.jp-icon-brand2[fill] {
  fill: var(--jp-brand-color2);
}

.jp-icon-brand3[fill] {
  fill: var(--jp-brand-color3);
}

.jp-icon-brand4[fill] {
  fill: var(--jp-brand-color4);
}

.jp-icon-brand0[stroke] {
  stroke: var(--jp-brand-color0);
}

.jp-icon-brand1[stroke] {
  stroke: var(--jp-brand-color1);
}

.jp-icon-brand2[stroke] {
  stroke: var(--jp-brand-color2);
}

.jp-icon-brand3[stroke] {
  stroke: var(--jp-brand-color3);
}

.jp-icon-brand4[stroke] {
  stroke: var(--jp-brand-color4);
}

/* warn icon colors. Same for light and dark */
.jp-icon-warn0[fill] {
  fill: var(--jp-warn-color0);
}

.jp-icon-warn1[fill] {
  fill: var(--jp-warn-color1);
}

.jp-icon-warn2[fill] {
  fill: var(--jp-warn-color2);
}

.jp-icon-warn3[fill] {
  fill: var(--jp-warn-color3);
}

.jp-icon-warn0[stroke] {
  stroke: var(--jp-warn-color0);
}

.jp-icon-warn1[stroke] {
  stroke: var(--jp-warn-color1);
}

.jp-icon-warn2[stroke] {
  stroke: var(--jp-warn-color2);
}

.jp-icon-warn3[stroke] {
  stroke: var(--jp-warn-color3);
}

/* icon colors that contrast well with each other and most backgrounds */
.jp-icon-contrast0[fill] {
  fill: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[fill] {
  fill: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[fill] {
  fill: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[fill] {
  fill: var(--jp-icon-contrast-color3);
}

.jp-icon-contrast0[stroke] {
  stroke: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[stroke] {
  stroke: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[stroke] {
  stroke: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[stroke] {
  stroke: var(--jp-icon-contrast-color3);
}

.jp-icon-dot[fill] {
  fill: var(--jp-warn-color0);
}

.jp-jupyter-icon-color[fill] {
  fill: var(--jp-jupyter-icon-color, var(--jp-warn-color0));
}

.jp-notebook-icon-color[fill] {
  fill: var(--jp-notebook-icon-color, var(--jp-warn-color0));
}

.jp-json-icon-color[fill] {
  fill: var(--jp-json-icon-color, var(--jp-warn-color1));
}

.jp-console-icon-color[fill] {
  fill: var(--jp-console-icon-color, white);
}

.jp-console-icon-background-color[fill] {
  fill: var(--jp-console-icon-background-color, var(--jp-brand-color1));
}

.jp-terminal-icon-color[fill] {
  fill: var(--jp-terminal-icon-color, var(--jp-layout-color2));
}

.jp-terminal-icon-background-color[fill] {
  fill: var(
    --jp-terminal-icon-background-color,
    var(--jp-inverse-layout-color2)
  );
}

.jp-text-editor-icon-color[fill] {
  fill: var(--jp-text-editor-icon-color, var(--jp-inverse-layout-color3));
}

.jp-inspector-icon-color[fill] {
  fill: var(--jp-inspector-icon-color, var(--jp-inverse-layout-color3));
}

/* CSS for icons in selected filebrowser listing items */
.jp-DirListing-item.jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

.jp-DirListing-item.jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* stylelint-disable selector-max-class, selector-max-compound-selectors */

/**
* TODO: come up with non css-hack solution for showing the busy icon on top
*  of the close icon
* CSS for complex behavior of close icon of tabs in the main area tabbar
*/
.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon3[fill] {
  fill: none;
}

.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon-busy[fill] {
  fill: var(--jp-inverse-layout-color3);
}

/* stylelint-enable selector-max-class, selector-max-compound-selectors */

/* CSS for icons in status bar */
#jp-main-statusbar .jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

#jp-main-statusbar .jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* special handling for splash icon CSS. While the theme CSS reloads during
   splash, the splash icon can loose theming. To prevent that, we set a
   default for its color variable */
:root {
  --jp-warn-color0: var(--md-orange-700);
}

/* not sure what to do with this one, used in filebrowser listing */
.jp-DragIcon {
  margin-right: 4px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for alt colors for icons as inline SVG HTMLElements
 */

/* alt recolor the primary elements of an icon */
.jp-icon-alt .jp-icon0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-alt .jp-icon0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* alt recolor the accent elements of an icon */
.jp-icon-alt .jp-icon-accent0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-alt .jp-icon-accent0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-icon-hoverShow:not(:hover) .jp-icon-hoverShow-content {
  display: none !important;
}

/**
 * Support for hover colors for icons as inline SVG HTMLElements
 */

/**
 * regular colors
 */

/* recolor the primary elements of an icon */
.jp-icon-hover :hover .jp-icon0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-hover :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-hover :hover .jp-icon-none-hover[fill] {
  fill: none;
}

.jp-icon-hover :hover .jp-icon-none-hover[stroke] {
  stroke: none;
}

/**
 * inverse colors
 */

/* inverse recolor the primary elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* inverse recolor the accent elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-IFrame {
  width: 100%;
  height: 100%;
}

.jp-IFrame > iframe {
  border: none;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-IFrame {
  position: relative;
}

body.lm-mod-override-cursor .jp-IFrame::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-HoverBox {
  position: fixed;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FormGroup-content fieldset {
  border: none;
  padding: 0;
  min-width: 0;
  width: 100%;
}

/* stylelint-disable selector-max-type */

.jp-FormGroup-content fieldset .jp-inputFieldWrapper input,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper select,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper textarea {
  font-size: var(--jp-content-font-size2);
  border-color: var(--jp-input-border-color);
  border-style: solid;
  border-radius: var(--jp-border-radius);
  border-width: 1px;
  padding: 6px 8px;
  background: none;
  color: var(--jp-ui-font-color0);
  height: inherit;
}

.jp-FormGroup-content fieldset input[type='checkbox'] {
  position: relative;
  top: 2px;
  margin-left: 0;
}

.jp-FormGroup-content button.jp-mod-styled {
  cursor: pointer;
}

.jp-FormGroup-content .checkbox label {
  cursor: pointer;
  font-size: var(--jp-content-font-size1);
}

.jp-FormGroup-content .jp-root > fieldset > legend {
  display: none;
}

.jp-FormGroup-content .jp-root > fieldset > p {
  display: none;
}

/** copy of `input.jp-mod-styled:focus` style */
.jp-FormGroup-content fieldset input:focus,
.jp-FormGroup-content fieldset select:focus {
  -moz-outline-radius: unset;
  outline: var(--jp-border-width) solid var(--md-blue-500);
  outline-offset: -1px;
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-FormGroup-content fieldset input:hover:not(:focus),
.jp-FormGroup-content fieldset select:hover:not(:focus) {
  background-color: var(--jp-border-color2);
}

/* stylelint-enable selector-max-type */

.jp-FormGroup-content .checkbox .field-description {
  /* Disable default description field for checkbox:
   because other widgets do not have description fields,
   we add descriptions to each widget on the field level.
  */
  display: none;
}

.jp-FormGroup-content #root__description {
  display: none;
}

.jp-FormGroup-content .jp-modifiedIndicator {
  width: 5px;
  background-color: var(--jp-brand-color2);
  margin-top: 0;
  margin-left: calc(var(--jp-private-settingeditor-modifier-indent) * -1);
  flex-shrink: 0;
}

.jp-FormGroup-content .jp-modifiedIndicator.jp-errorIndicator {
  background-color: var(--jp-error-color0);
  margin-right: 0.5em;
}

/* RJSF ARRAY style */

.jp-arrayFieldWrapper legend {
  font-size: var(--jp-content-font-size2);
  color: var(--jp-ui-font-color0);
  flex-basis: 100%;
  padding: 4px 0;
  font-weight: var(--jp-content-heading-font-weight);
  border-bottom: 1px solid var(--jp-border-color2);
}

.jp-arrayFieldWrapper .field-description {
  padding: 4px 0;
  white-space: pre-wrap;
}

.jp-arrayFieldWrapper .array-item {
  width: 100%;
  border: 1px solid var(--jp-border-color2);
  border-radius: 4px;
  margin: 4px;
}

.jp-ArrayOperations {
  display: flex;
  margin-left: 8px;
}

.jp-ArrayOperationsButton {
  margin: 2px;
}

.jp-ArrayOperationsButton .jp-icon3[fill] {
  fill: var(--jp-ui-font-color0);
}

button.jp-ArrayOperationsButton.jp-mod-styled:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* RJSF form validation error */

.jp-FormGroup-content .validationErrors {
  color: var(--jp-error-color0);
}

/* Hide panel level error as duplicated the field level error */
.jp-FormGroup-content .panel.errors {
  display: none;
}

/* RJSF normal content (settings-editor) */

.jp-FormGroup-contentNormal {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-FormGroup-contentItem {
  margin-left: 7px;
  color: var(--jp-ui-font-color0);
}

.jp-FormGroup-contentNormal .jp-FormGroup-description {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-default {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-fieldLabel {
  font-size: var(--jp-content-font-size1);
  font-weight: normal;
  min-width: 120px;
}

.jp-FormGroup-contentNormal fieldset:not(:first-child) {
  margin-left: 7px;
}

.jp-FormGroup-contentNormal .field-array-of-string .array-item {
  /* Display `jp-ArrayOperations` buttons side-by-side with content except
    for small screens where flex-wrap will place them one below the other.
  */
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-objectFieldWrapper .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

/* RJSF compact content (metadata-form) */

.jp-FormGroup-content.jp-FormGroup-contentCompact {
  width: 100%;
}

.jp-FormGroup-contentCompact .form-group {
  display: flex;
  padding: 0.5em 0.2em 0.5em 0;
}

.jp-FormGroup-contentCompact
  .jp-FormGroup-compactTitle
  .jp-FormGroup-description {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color2);
}

.jp-FormGroup-contentCompact .jp-FormGroup-fieldLabel {
  padding-bottom: 0.3em;
}

.jp-FormGroup-contentCompact .jp-inputFieldWrapper .form-control {
  width: 100%;
  box-sizing: border-box;
}

.jp-FormGroup-contentCompact .jp-arrayFieldWrapper .jp-FormGroup-compactTitle {
  padding-bottom: 7px;
}

.jp-FormGroup-contentCompact
  .jp-objectFieldWrapper
  .jp-objectFieldWrapper
  .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

.jp-FormGroup-contentCompact ul.error-detail {
  margin-block-start: 0.5em;
  margin-block-end: 0.5em;
  padding-inline-start: 1em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-SidePanel {
  display: flex;
  flex-direction: column;
  min-width: var(--jp-sidebar-min-width);
  overflow-y: auto;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);
  font-size: var(--jp-ui-font-size1);
}

.jp-SidePanel-header {
  flex: 0 0 auto;
  display: flex;
  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin: 0;
  padding: 2px;
  text-transform: uppercase;
}

.jp-SidePanel-toolbar {
  flex: 0 0 auto;
}

.jp-SidePanel-content {
  flex: 1 1 auto;
}

.jp-SidePanel-toolbar,
.jp-AccordionPanel-toolbar {
  height: var(--jp-private-toolbar-height);
}

.jp-SidePanel-toolbar.jp-Toolbar-micro {
  display: none;
}

.lm-AccordionPanel .jp-AccordionPanel-title {
  box-sizing: border-box;
  line-height: 25px;
  margin: 0;
  display: flex;
  align-items: center;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  font-size: var(--jp-ui-font-size0);
}

.jp-AccordionPanel-title {
  cursor: pointer;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  text-transform: uppercase;
}

.lm-AccordionPanel[data-orientation='horizontal'] > .jp-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleLabel {
  user-select: none;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleCollapser {
  transform: rotate(-90deg);
  margin: auto 0;
  height: 16px;
}

.jp-AccordionPanel-title.lm-mod-expanded .lm-AccordionPanel-titleCollapser {
  transform: rotate(0deg);
}

.lm-AccordionPanel .jp-AccordionPanel-toolbar {
  background: none;
  box-shadow: none;
  border: none;
  margin-left: auto;
}

.lm-AccordionPanel .lm-SplitPanel-handle:hover {
  background: var(--jp-layout-color3);
}

.jp-text-truncated {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Spinner {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-layout-color0);
  outline: none;
}

.jp-SpinnerContent {
  font-size: 10px;
  margin: 50px auto;
  text-indent: -9999em;
  width: 3em;
  height: 3em;
  border-radius: 50%;
  background: var(--jp-brand-color3);
  background: linear-gradient(
    to right,
    #f37626 10%,
    rgba(255, 255, 255, 0) 42%
  );
  position: relative;
  animation: load3 1s infinite linear, fadeIn 1s;
}

.jp-SpinnerContent::before {
  width: 50%;
  height: 50%;
  background: #f37626;
  border-radius: 100% 0 0;
  position: absolute;
  top: 0;
  left: 0;
  content: '';
}

.jp-SpinnerContent::after {
  background: var(--jp-layout-color0);
  width: 75%;
  height: 75%;
  border-radius: 50%;
  content: '';
  margin: auto;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes load3 {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

button.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: none;
  box-sizing: border-box;
  text-align: center;
  line-height: 32px;
  height: 32px;
  padding: 0 12px;
  letter-spacing: 0.8px;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input.jp-mod-styled {
  background: var(--jp-input-background);
  height: 28px;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color1);
  padding-left: 7px;
  padding-right: 7px;
  font-size: var(--jp-ui-font-size2);
  color: var(--jp-ui-font-color0);
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input[type='checkbox'].jp-mod-styled {
  appearance: checkbox;
  -webkit-appearance: checkbox;
  -moz-appearance: checkbox;
  height: auto;
}

input.jp-mod-styled:focus {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-select-wrapper {
  display: flex;
  position: relative;
  flex-direction: column;
  padding: 1px;
  background-color: var(--jp-layout-color1);
  box-sizing: border-box;
  margin-bottom: 12px;
}

.jp-select-wrapper:not(.multiple) {
  height: 28px;
}

.jp-select-wrapper.jp-mod-focused select.jp-mod-styled {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-input-active-background);
}

select.jp-mod-styled:hover {
  cursor: pointer;
  color: var(--jp-ui-font-color0);
  background-color: var(--jp-input-hover-background);
  box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.5);
}

select.jp-mod-styled {
  flex: 1 1 auto;
  width: 100%;
  font-size: var(--jp-ui-font-size2);
  background: var(--jp-input-background);
  color: var(--jp-ui-font-color0);
  padding: 0 25px 0 8px;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

select.jp-mod-styled:not([multiple]) {
  height: 32px;
}

select.jp-mod-styled[multiple] {
  max-height: 200px;
  overflow-y: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-switch {
  display: flex;
  align-items: center;
  padding-left: 4px;
  padding-right: 4px;
  font-size: var(--jp-ui-font-size1);
  background-color: transparent;
  color: var(--jp-ui-font-color1);
  border: none;
  height: 20px;
}

.jp-switch:hover {
  background-color: var(--jp-layout-color2);
}

.jp-switch-label {
  margin-right: 5px;
  font-family: var(--jp-ui-font-family);
}

.jp-switch-track {
  cursor: pointer;
  background-color: var(--jp-switch-color, var(--jp-border-color1));
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 34px;
  height: 16px;
  width: 35px;
  position: relative;
}

.jp-switch-track::before {
  content: '';
  position: absolute;
  height: 10px;
  width: 10px;
  margin: 3px;
  left: 0;
  background-color: var(--jp-ui-inverse-font-color1);
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 50%;
}

.jp-switch[aria-checked='true'] .jp-switch-track {
  background-color: var(--jp-switch-true-position-color, var(--jp-warn-color0));
}

.jp-switch[aria-checked='true'] .jp-switch-track::before {
  /* track width (35) - margins (3 + 3) - thumb width (10) */
  left: 19px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toolbar-height: calc(
    28px + var(--jp-border-width)
  ); /* leave 28px for content */
}

.jp-Toolbar {
  color: var(--jp-ui-font-color1);
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: 2px;
  z-index: 8;
  overflow-x: hidden;
}

/* Toolbar items */

.jp-Toolbar > .jp-Toolbar-item.jp-Toolbar-spacer {
  flex-grow: 1;
  flex-shrink: 1;
}

.jp-Toolbar-item.jp-Toolbar-kernelStatus {
  display: inline-block;
  width: 32px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px;
}

.jp-Toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  display: flex;
  padding-left: 1px;
  padding-right: 1px;
  font-size: var(--jp-ui-font-size1);
  line-height: var(--jp-private-toolbar-height);
  height: 100%;
}

/* Toolbar buttons */

/* This is the div we use to wrap the react component into a Widget */
div.jp-ToolbarButton {
  color: transparent;
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0;
  margin: 0;
}

button.jp-ToolbarButtonComponent {
  background: var(--jp-layout-color1);
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0 6px;
  margin: 0;
  height: 24px;
  border-radius: var(--jp-border-radius);
  display: flex;
  align-items: center;
  text-align: center;
  font-size: 14px;
  min-width: unset;
  min-height: unset;
}

button.jp-ToolbarButtonComponent:disabled {
  opacity: 0.4;
}

button.jp-ToolbarButtonComponent > span {
  padding: 0;
  flex: 0 0 auto;
}

button.jp-ToolbarButtonComponent .jp-ToolbarButtonComponent-label {
  font-size: var(--jp-ui-font-size1);
  line-height: 100%;
  padding-left: 2px;
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar.jp-Toolbar-micro {
  padding: 0;
  min-height: 0;
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar {
  border: none;
  box-shadow: none;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-WindowedPanel-outer {
  position: relative;
  overflow-y: auto;
}

.jp-WindowedPanel-inner {
  position: relative;
}

.jp-WindowedPanel-window {
  position: absolute;
  left: 0;
  right: 0;
  overflow: visible;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* Sibling imports */

body {
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
}

/* Disable native link decoration styles everywhere outside of dialog boxes */
a {
  text-decoration: unset;
  color: unset;
}

a:hover {
  text-decoration: unset;
  color: unset;
}

/* Accessibility for links inside dialog box text */
.jp-Dialog-content a {
  text-decoration: revert;
  color: var(--jp-content-link-color);
}

.jp-Dialog-content a:hover {
  text-decoration: revert;
}

/* Styles for ui-components */
.jp-Button {
  color: var(--jp-ui-font-color2);
  border-radius: var(--jp-border-radius);
  padding: 0 12px;
  font-size: var(--jp-ui-font-size1);

  /* Copy from blueprint 3 */
  display: inline-flex;
  flex-direction: row;
  border: none;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  text-align: left;
  vertical-align: middle;
  min-height: 30px;
  min-width: 30px;
}

.jp-Button:disabled {
  cursor: not-allowed;
}

.jp-Button:empty {
  padding: 0 !important;
}

.jp-Button.jp-mod-small {
  min-height: 24px;
  min-width: 24px;
  font-size: 12px;
  padding: 0 7px;
}

/* Use our own theme for hover styles */
.jp-Button.jp-mod-minimal:hover {
  background-color: var(--jp-layout-color2);
}

.jp-Button.jp-mod-minimal {
  background: none;
}

.jp-InputGroup {
  display: block;
  position: relative;
}

.jp-InputGroup input {
  box-sizing: border-box;
  border: none;
  border-radius: 0;
  background-color: transparent;
  color: var(--jp-ui-font-color0);
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
  padding-bottom: 0;
  padding-top: 0;
  padding-left: 10px;
  padding-right: 28px;
  position: relative;
  width: 100%;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  font-size: 14px;
  font-weight: 400;
  height: 30px;
  line-height: 30px;
  outline: none;
  vertical-align: middle;
}

.jp-InputGroup input:focus {
  box-shadow: inset 0 0 0 var(--jp-border-width)
      var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-InputGroup input:disabled {
  cursor: not-allowed;
  resize: block;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input:disabled ~ span {
  cursor: not-allowed;
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input::placeholder,
input::placeholder {
  color: var(--jp-ui-font-color2);
}

.jp-InputGroupAction {
  position: absolute;
  bottom: 1px;
  right: 0;
  padding: 6px;
}

.jp-HTMLSelect.jp-DefaultStyle select {
  background-color: initial;
  border: none;
  border-radius: 0;
  box-shadow: none;
  color: var(--jp-ui-font-color0);
  display: block;
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  height: 24px;
  line-height: 14px;
  padding: 0 25px 0 10px;
  text-align: left;
  -moz-appearance: none;
  -webkit-appearance: none;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
  cursor: not-allowed;
  resize: block;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled ~ span {
  cursor: not-allowed;
}

/* Use our own theme for hover and option styles */
/* stylelint-disable-next-line selector-max-type */
.jp-HTMLSelect.jp-DefaultStyle select:hover,
.jp-HTMLSelect.jp-DefaultStyle select > option {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color0);
}

select {
  box-sizing: border-box;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-StatusBar-Widget {
  display: flex;
  align-items: center;
  background: var(--jp-layout-color2);
  min-height: var(--jp-statusbar-height);
  justify-content: space-between;
  padding: 0 10px;
}

.jp-StatusBar-Left {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-StatusBar-Middle {
  display: flex;
  align-items: center;
}

.jp-StatusBar-Right {
  display: flex;
  align-items: center;
  flex-direction: row-reverse;
}

.jp-StatusBar-Item {
  max-height: var(--jp-statusbar-height);
  margin: 0 2px;
  height: var(--jp-statusbar-height);
  white-space: nowrap;
  text-overflow: ellipsis;
  color: var(--jp-ui-font-color1);
  padding: 0 6px;
}

.jp-mod-highlighted:hover {
  background-color: var(--jp-layout-color3);
}

.jp-mod-clicked {
  background-color: var(--jp-brand-color1);
}

.jp-mod-clicked:hover {
  background-color: var(--jp-brand-color0);
}

.jp-mod-clicked .jp-StatusBar-TextItem {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-StatusBar-HoverItem {
  box-shadow: '0px 4px 4px rgba(0, 0, 0, 0.25)';
}

.jp-StatusBar-TextItem {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  line-height: 24px;
  color: var(--jp-ui-font-color1);
}

.jp-StatusBar-GroupItem {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-Statusbar-ProgressCircle svg {
  display: block;
  margin: 0 auto;
  width: 16px;
  height: 24px;
  align-self: normal;
}

.jp-Statusbar-ProgressCircle path {
  fill: var(--jp-inverse-layout-color3);
}

.jp-Statusbar-ProgressBar-progress-bar {
  height: 10px;
  width: 100px;
  border: solid 0.25px var(--jp-brand-color2);
  border-radius: 3px;
  overflow: hidden;
  align-self: center;
}

.jp-Statusbar-ProgressBar-progress-bar > div {
  background-color: var(--jp-brand-color2);
  background-image: linear-gradient(
    -45deg,
    rgba(255, 255, 255, 0.2) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.2) 75%,
    transparent 75%,
    transparent
  );
  background-size: 40px 40px;
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 14px;
  color: #fff;
  text-align: center;
  animation: jp-Statusbar-ExecutionTime-progress-bar 2s linear infinite;
}

.jp-Statusbar-ProgressBar-progress-bar p {
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
  font-size: var(--jp-ui-font-size1);
  line-height: 10px;
  width: 100px;
}

@keyframes jp-Statusbar-ExecutionTime-progress-bar {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 40px 40px;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-commandpalette-search-height: 28px;
}

/*-----------------------------------------------------------------------------
| Overall styles
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  padding-bottom: 0;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Modal variant
|----------------------------------------------------------------------------*/

.jp-ModalCommandPalette {
  position: absolute;
  z-index: 10000;
  top: 38px;
  left: 30%;
  margin: 0;
  padding: 4px;
  width: 40%;
  box-shadow: var(--jp-elevation-z4);
  border-radius: 4px;
  background: var(--jp-layout-color0);
}

.jp-ModalCommandPalette .lm-CommandPalette {
  max-height: 40vh;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-close-icon::after {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-header {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-item {
  margin-left: 4px;
  margin-right: 4px;
}

.jp-ModalCommandPalette
  .lm-CommandPalette
  .lm-CommandPalette-item.lm-mod-disabled {
  display: none;
}

/*-----------------------------------------------------------------------------
| Search
|----------------------------------------------------------------------------*/

.lm-CommandPalette-search {
  padding: 4px;
  background-color: var(--jp-layout-color1);
  z-index: 2;
}

.lm-CommandPalette-wrapper {
  overflow: overlay;
  padding: 0 9px;
  background-color: var(--jp-input-active-background);
  height: 30px;
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
}

.lm-CommandPalette.lm-mod-focused .lm-CommandPalette-wrapper {
  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-SearchIconGroup {
  color: white;
  background-color: var(--jp-brand-color1);
  position: absolute;
  top: 4px;
  right: 4px;
  padding: 5px 5px 1px;
}

.jp-SearchIconGroup svg {
  height: 20px;
  width: 20px;
}

.jp-SearchIconGroup .jp-icon3[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-input {
  background: transparent;
  width: calc(100% - 18px);
  float: left;
  border: none;
  outline: none;
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  line-height: var(--jp-private-commandpalette-search-height);
}

.lm-CommandPalette-input::-webkit-input-placeholder,
.lm-CommandPalette-input::-moz-placeholder,
.lm-CommandPalette-input:-ms-input-placeholder {
  color: var(--jp-ui-font-color2);
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Results
|----------------------------------------------------------------------------*/

.lm-CommandPalette-header:first-child {
  margin-top: 0;
}

.lm-CommandPalette-header {
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin-top: 8px;
  padding: 8px 0 8px 12px;
  text-transform: uppercase;
}

.lm-CommandPalette-header.lm-mod-active {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-header > mark {
  background-color: transparent;
  font-weight: bold;
  color: var(--jp-ui-font-color1);
}

.lm-CommandPalette-item {
  padding: 4px 12px 4px 4px;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  font-weight: 400;
  display: flex;
}

.lm-CommandPalette-item.lm-mod-disabled {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item.lm-mod-active {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item.lm-mod-active .lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-inverse-font-color0);
}

.lm-CommandPalette-item.lm-mod-active .jp-icon-selectable[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-item.lm-mod-active:hover:not(.lm-mod-disabled) {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-itemContent {
  overflow: hidden;
}

.lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item.lm-mod-disabled mark {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item .lm-CommandPalette-itemIcon {
  margin: 0 4px 0 0;
  position: relative;
  width: 16px;
  top: 2px;
  flex: 0 0 auto;
}

.lm-CommandPalette-item.lm-mod-disabled .lm-CommandPalette-itemIcon {
  opacity: 0.6;
}

.lm-CommandPalette-item .lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemCaption {
  display: none;
}

.lm-CommandPalette-content {
  background-color: var(--jp-layout-color1);
}

.lm-CommandPalette-content:empty::after {
  content: 'No results';
  margin: auto;
  margin-top: 20px;
  width: 100px;
  display: block;
  font-size: var(--jp-ui-font-size2);
  font-family: var(--jp-ui-font-family);
  font-weight: lighter;
}

.lm-CommandPalette-emptyMessage {
  text-align: center;
  margin-top: 24px;
  line-height: 1.32;
  padding: 0 8px;
  color: var(--jp-content-font-color3);
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Dialog {
  position: absolute;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-dialog-background);
}

.jp-Dialog-content {
  display: flex;
  flex-direction: column;
  margin-left: auto;
  margin-right: auto;
  background: var(--jp-layout-color1);
  padding: 24px 24px 12px;
  min-width: 300px;
  min-height: 150px;
  max-width: 1000px;
  max-height: 500px;
  box-sizing: border-box;
  box-shadow: var(--jp-elevation-z20);
  word-wrap: break-word;
  border-radius: var(--jp-border-radius);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color1);
  resize: both;
}

.jp-Dialog-content.jp-Dialog-content-small {
  max-width: 500px;
}

.jp-Dialog-button {
  overflow: visible;
}

button.jp-Dialog-button:focus {
  outline: 1px solid var(--jp-brand-color1);
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button:focus::-moz-focus-inner {
  border: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus {
  outline: 1px solid var(--jp-accept-color-normal, var(--jp-brand-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus {
  outline: 1px solid var(--jp-warn-color-normal, var(--jp-error-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline: 1px solid var(--jp-reject-color-normal, var(--md-grey-600));
}

button.jp-Dialog-close-button {
  padding: 0;
  height: 100%;
  min-width: unset;
  min-height: unset;
}

.jp-Dialog-header {
  display: flex;
  justify-content: space-between;
  flex: 0 0 auto;
  padding-bottom: 12px;
  font-size: var(--jp-ui-font-size3);
  font-weight: 400;
  color: var(--jp-ui-font-color1);
}

.jp-Dialog-body {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  font-size: var(--jp-ui-font-size1);
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

.jp-Dialog-footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  flex: 0 0 auto;
  margin-left: -12px;
  margin-right: -12px;
  padding: 12px;
}

.jp-Dialog-checkbox {
  padding-right: 5px;
}

.jp-Dialog-checkbox > input:focus-visible {
  outline: 1px solid var(--jp-input-active-border-color);
  outline-offset: 1px;
}

.jp-Dialog-spacer {
  flex: 1 1 auto;
}

.jp-Dialog-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.jp-Dialog-body > .jp-select-wrapper {
  width: 100%;
}

.jp-Dialog-body > button {
  padding: 0 16px;
}

.jp-Dialog-body > label {
  line-height: 1.4;
  color: var(--jp-ui-font-color0);
}

.jp-Dialog-button.jp-mod-styled:not(:last-child) {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Input-Boolean-Dialog {
  flex-direction: row-reverse;
  align-items: end;
  width: 100%;
}

.jp-Input-Boolean-Dialog > label {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MainAreaWidget > :focus {
  outline: none;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error {
  padding: 6px;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error > pre {
  width: auto;
  padding: 10px;
  background: var(--jp-error-color3);
  border: var(--jp-border-width) solid var(--jp-error-color1);
  border-radius: var(--jp-border-radius);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  white-space: pre-wrap;
  word-wrap: break-word;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/**
 * google-material-color v1.2.6
 * https://github.com/danlevan/google-material-color
 */
:root {
  --md-red-50: #ffebee;
  --md-red-100: #ffcdd2;
  --md-red-200: #ef9a9a;
  --md-red-300: #e57373;
  --md-red-400: #ef5350;
  --md-red-500: #f44336;
  --md-red-600: #e53935;
  --md-red-700: #d32f2f;
  --md-red-800: #c62828;
  --md-red-900: #b71c1c;
  --md-red-A100: #ff8a80;
  --md-red-A200: #ff5252;
  --md-red-A400: #ff1744;
  --md-red-A700: #d50000;
  --md-pink-50: #fce4ec;
  --md-pink-100: #f8bbd0;
  --md-pink-200: #f48fb1;
  --md-pink-300: #f06292;
  --md-pink-400: #ec407a;
  --md-pink-500: #e91e63;
  --md-pink-600: #d81b60;
  --md-pink-700: #c2185b;
  --md-pink-800: #ad1457;
  --md-pink-900: #880e4f;
  --md-pink-A100: #ff80ab;
  --md-pink-A200: #ff4081;
  --md-pink-A400: #f50057;
  --md-pink-A700: #c51162;
  --md-purple-50: #f3e5f5;
  --md-purple-100: #e1bee7;
  --md-purple-200: #ce93d8;
  --md-purple-300: #ba68c8;
  --md-purple-400: #ab47bc;
  --md-purple-500: #9c27b0;
  --md-purple-600: #8e24aa;
  --md-purple-700: #7b1fa2;
  --md-purple-800: #6a1b9a;
  --md-purple-900: #4a148c;
  --md-purple-A100: #ea80fc;
  --md-purple-A200: #e040fb;
  --md-purple-A400: #d500f9;
  --md-purple-A700: #a0f;
  --md-deep-purple-50: #ede7f6;
  --md-deep-purple-100: #d1c4e9;
  --md-deep-purple-200: #b39ddb;
  --md-deep-purple-300: #9575cd;
  --md-deep-purple-400: #7e57c2;
  --md-deep-purple-500: #673ab7;
  --md-deep-purple-600: #5e35b1;
  --md-deep-purple-700: #512da8;
  --md-deep-purple-800: #4527a0;
  --md-deep-purple-900: #311b92;
  --md-deep-purple-A100: #b388ff;
  --md-deep-purple-A200: #7c4dff;
  --md-deep-purple-A400: #651fff;
  --md-deep-purple-A700: #6200ea;
  --md-indigo-50: #e8eaf6;
  --md-indigo-100: #c5cae9;
  --md-indigo-200: #9fa8da;
  --md-indigo-300: #7986cb;
  --md-indigo-400: #5c6bc0;
  --md-indigo-500: #3f51b5;
  --md-indigo-600: #3949ab;
  --md-indigo-700: #303f9f;
  --md-indigo-800: #283593;
  --md-indigo-900: #1a237e;
  --md-indigo-A100: #8c9eff;
  --md-indigo-A200: #536dfe;
  --md-indigo-A400: #3d5afe;
  --md-indigo-A700: #304ffe;
  --md-blue-50: #e3f2fd;
  --md-blue-100: #bbdefb;
  --md-blue-200: #90caf9;
  --md-blue-300: #64b5f6;
  --md-blue-400: #42a5f5;
  --md-blue-500: #2196f3;
  --md-blue-600: #1e88e5;
  --md-blue-700: #1976d2;
  --md-blue-800: #1565c0;
  --md-blue-900: #0d47a1;
  --md-blue-A100: #82b1ff;
  --md-blue-A200: #448aff;
  --md-blue-A400: #2979ff;
  --md-blue-A700: #2962ff;
  --md-light-blue-50: #e1f5fe;
  --md-light-blue-100: #b3e5fc;
  --md-light-blue-200: #81d4fa;
  --md-light-blue-300: #4fc3f7;
  --md-light-blue-400: #29b6f6;
  --md-light-blue-500: #03a9f4;
  --md-light-blue-600: #039be5;
  --md-light-blue-700: #0288d1;
  --md-light-blue-800: #0277bd;
  --md-light-blue-900: #01579b;
  --md-light-blue-A100: #80d8ff;
  --md-light-blue-A200: #40c4ff;
  --md-light-blue-A400: #00b0ff;
  --md-light-blue-A700: #0091ea;
  --md-cyan-50: #e0f7fa;
  --md-cyan-100: #b2ebf2;
  --md-cyan-200: #80deea;
  --md-cyan-300: #4dd0e1;
  --md-cyan-400: #26c6da;
  --md-cyan-500: #00bcd4;
  --md-cyan-600: #00acc1;
  --md-cyan-700: #0097a7;
  --md-cyan-800: #00838f;
  --md-cyan-900: #006064;
  --md-cyan-A100: #84ffff;
  --md-cyan-A200: #18ffff;
  --md-cyan-A400: #00e5ff;
  --md-cyan-A700: #00b8d4;
  --md-teal-50: #e0f2f1;
  --md-teal-100: #b2dfdb;
  --md-teal-200: #80cbc4;
  --md-teal-300: #4db6ac;
  --md-teal-400: #26a69a;
  --md-teal-500: #009688;
  --md-teal-600: #00897b;
  --md-teal-700: #00796b;
  --md-teal-800: #00695c;
  --md-teal-900: #004d40;
  --md-teal-A100: #a7ffeb;
  --md-teal-A200: #64ffda;
  --md-teal-A400: #1de9b6;
  --md-teal-A700: #00bfa5;
  --md-green-50: #e8f5e9;
  --md-green-100: #c8e6c9;
  --md-green-200: #a5d6a7;
  --md-green-300: #81c784;
  --md-green-400: #66bb6a;
  --md-green-500: #4caf50;
  --md-green-600: #43a047;
  --md-green-700: #388e3c;
  --md-green-800: #2e7d32;
  --md-green-900: #1b5e20;
  --md-green-A100: #b9f6ca;
  --md-green-A200: #69f0ae;
  --md-green-A400: #00e676;
  --md-green-A700: #00c853;
  --md-light-green-50: #f1f8e9;
  --md-light-green-100: #dcedc8;
  --md-light-green-200: #c5e1a5;
  --md-light-green-300: #aed581;
  --md-light-green-400: #9ccc65;
  --md-light-green-500: #8bc34a;
  --md-light-green-600: #7cb342;
  --md-light-green-700: #689f38;
  --md-light-green-800: #558b2f;
  --md-light-green-900: #33691e;
  --md-light-green-A100: #ccff90;
  --md-light-green-A200: #b2ff59;
  --md-light-green-A400: #76ff03;
  --md-light-green-A700: #64dd17;
  --md-lime-50: #f9fbe7;
  --md-lime-100: #f0f4c3;
  --md-lime-200: #e6ee9c;
  --md-lime-300: #dce775;
  --md-lime-400: #d4e157;
  --md-lime-500: #cddc39;
  --md-lime-600: #c0ca33;
  --md-lime-700: #afb42b;
  --md-lime-800: #9e9d24;
  --md-lime-900: #827717;
  --md-lime-A100: #f4ff81;
  --md-lime-A200: #eeff41;
  --md-lime-A400: #c6ff00;
  --md-lime-A700: #aeea00;
  --md-yellow-50: #fffde7;
  --md-yellow-100: #fff9c4;
  --md-yellow-200: #fff59d;
  --md-yellow-300: #fff176;
  --md-yellow-400: #ffee58;
  --md-yellow-500: #ffeb3b;
  --md-yellow-600: #fdd835;
  --md-yellow-700: #fbc02d;
  --md-yellow-800: #f9a825;
  --md-yellow-900: #f57f17;
  --md-yellow-A100: #ffff8d;
  --md-yellow-A200: #ff0;
  --md-yellow-A400: #ffea00;
  --md-yellow-A700: #ffd600;
  --md-amber-50: #fff8e1;
  --md-amber-100: #ffecb3;
  --md-amber-200: #ffe082;
  --md-amber-300: #ffd54f;
  --md-amber-400: #ffca28;
  --md-amber-500: #ffc107;
  --md-amber-600: #ffb300;
  --md-amber-700: #ffa000;
  --md-amber-800: #ff8f00;
  --md-amber-900: #ff6f00;
  --md-amber-A100: #ffe57f;
  --md-amber-A200: #ffd740;
  --md-amber-A400: #ffc400;
  --md-amber-A700: #ffab00;
  --md-orange-50: #fff3e0;
  --md-orange-100: #ffe0b2;
  --md-orange-200: #ffcc80;
  --md-orange-300: #ffb74d;
  --md-orange-400: #ffa726;
  --md-orange-500: #ff9800;
  --md-orange-600: #fb8c00;
  --md-orange-700: #f57c00;
  --md-orange-800: #ef6c00;
  --md-orange-900: #e65100;
  --md-orange-A100: #ffd180;
  --md-orange-A200: #ffab40;
  --md-orange-A400: #ff9100;
  --md-orange-A700: #ff6d00;
  --md-deep-orange-50: #fbe9e7;
  --md-deep-orange-100: #ffccbc;
  --md-deep-orange-200: #ffab91;
  --md-deep-orange-300: #ff8a65;
  --md-deep-orange-400: #ff7043;
  --md-deep-orange-500: #ff5722;
  --md-deep-orange-600: #f4511e;
  --md-deep-orange-700: #e64a19;
  --md-deep-orange-800: #d84315;
  --md-deep-orange-900: #bf360c;
  --md-deep-orange-A100: #ff9e80;
  --md-deep-orange-A200: #ff6e40;
  --md-deep-orange-A400: #ff3d00;
  --md-deep-orange-A700: #dd2c00;
  --md-brown-50: #efebe9;
  --md-brown-100: #d7ccc8;
  --md-brown-200: #bcaaa4;
  --md-brown-300: #a1887f;
  --md-brown-400: #8d6e63;
  --md-brown-500: #795548;
  --md-brown-600: #6d4c41;
  --md-brown-700: #5d4037;
  --md-brown-800: #4e342e;
  --md-brown-900: #3e2723;
  --md-grey-50: #fafafa;
  --md-grey-100: #f5f5f5;
  --md-grey-200: #eee;
  --md-grey-300: #e0e0e0;
  --md-grey-400: #bdbdbd;
  --md-grey-500: #9e9e9e;
  --md-grey-600: #757575;
  --md-grey-700: #616161;
  --md-grey-800: #424242;
  --md-grey-900: #212121;
  --md-blue-grey-50: #eceff1;
  --md-blue-grey-100: #cfd8dc;
  --md-blue-grey-200: #b0bec5;
  --md-blue-grey-300: #90a4ae;
  --md-blue-grey-400: #78909c;
  --md-blue-grey-500: #607d8b;
  --md-blue-grey-600: #546e7a;
  --md-blue-grey-700: #455a64;
  --md-blue-grey-800: #37474f;
  --md-blue-grey-900: #263238;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| RenderedText
|----------------------------------------------------------------------------*/

:root {
  /* This is the padding value to fill the gaps between lines containing spans with background color. */
  --jp-private-code-span-padding: calc(
    (var(--jp-code-line-height) - 1) * var(--jp-code-font-size) / 2
  );
}

.jp-RenderedText {
  text-align: left;
  padding-left: var(--jp-code-padding);
  line-height: var(--jp-code-line-height);
  font-family: var(--jp-code-font-family);
}

.jp-RenderedText pre,
.jp-RenderedJavaScript pre,
.jp-RenderedHTMLCommon pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
  border: none;
  margin: 0;
  padding: 0;
}

.jp-RenderedText pre a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* console foregrounds and backgrounds */
.jp-RenderedText pre .ansi-black-fg {
  color: #3e424d;
}

.jp-RenderedText pre .ansi-red-fg {
  color: #e75c58;
}

.jp-RenderedText pre .ansi-green-fg {
  color: #00a250;
}

.jp-RenderedText pre .ansi-yellow-fg {
  color: #ddb62b;
}

.jp-RenderedText pre .ansi-blue-fg {
  color: #208ffb;
}

.jp-RenderedText pre .ansi-magenta-fg {
  color: #d160c4;
}

.jp-RenderedText pre .ansi-cyan-fg {
  color: #60c6c8;
}

.jp-RenderedText pre .ansi-white-fg {
  color: #c5c1b4;
}

.jp-RenderedText pre .ansi-black-bg {
  background-color: #3e424d;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-bg {
  background-color: #e75c58;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-bg {
  background-color: #00a250;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-bg {
  background-color: #ddb62b;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-bg {
  background-color: #208ffb;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-bg {
  background-color: #d160c4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-bg {
  background-color: #60c6c8;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-bg {
  background-color: #c5c1b4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-black-intense-fg {
  color: #282c36;
}

.jp-RenderedText pre .ansi-red-intense-fg {
  color: #b22b31;
}

.jp-RenderedText pre .ansi-green-intense-fg {
  color: #007427;
}

.jp-RenderedText pre .ansi-yellow-intense-fg {
  color: #b27d12;
}

.jp-RenderedText pre .ansi-blue-intense-fg {
  color: #0065ca;
}

.jp-RenderedText pre .ansi-magenta-intense-fg {
  color: #a03196;
}

.jp-RenderedText pre .ansi-cyan-intense-fg {
  color: #258f8f;
}

.jp-RenderedText pre .ansi-white-intense-fg {
  color: #a1a6b2;
}

.jp-RenderedText pre .ansi-black-intense-bg {
  background-color: #282c36;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-intense-bg {
  background-color: #b22b31;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-intense-bg {
  background-color: #007427;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-intense-bg {
  background-color: #b27d12;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-intense-bg {
  background-color: #0065ca;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-intense-bg {
  background-color: #a03196;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-intense-bg {
  background-color: #258f8f;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-intense-bg {
  background-color: #a1a6b2;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-default-inverse-fg {
  color: var(--jp-ui-inverse-font-color0);
}

.jp-RenderedText pre .ansi-default-inverse-bg {
  background-color: var(--jp-inverse-layout-color0);
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-bold {
  font-weight: bold;
}

.jp-RenderedText pre .ansi-underline {
  text-decoration: underline;
}

.jp-RenderedText[data-mime-type='application/vnd.jupyter.stderr'] {
  background: var(--jp-rendermime-error-background);
  padding-top: var(--jp-code-padding);
}

/*-----------------------------------------------------------------------------
| RenderedLatex
|----------------------------------------------------------------------------*/

.jp-RenderedLatex {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);
}

/* Left-justify outputs.*/
.jp-OutputArea-output.jp-RenderedLatex {
  padding: var(--jp-code-padding);
  text-align: left;
}

/*-----------------------------------------------------------------------------
| RenderedHTML
|----------------------------------------------------------------------------*/

.jp-RenderedHTMLCommon {
  color: var(--jp-content-font-color1);
  font-family: var(--jp-content-font-family);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);

  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */
  padding-right: 20px;
}

.jp-RenderedHTMLCommon em {
  font-style: italic;
}

.jp-RenderedHTMLCommon strong {
  font-weight: bold;
}

.jp-RenderedHTMLCommon u {
  text-decoration: underline;
}

.jp-RenderedHTMLCommon a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* Headings */

.jp-RenderedHTMLCommon h1,
.jp-RenderedHTMLCommon h2,
.jp-RenderedHTMLCommon h3,
.jp-RenderedHTMLCommon h4,
.jp-RenderedHTMLCommon h5,
.jp-RenderedHTMLCommon h6 {
  line-height: var(--jp-content-heading-line-height);
  font-weight: var(--jp-content-heading-font-weight);
  font-style: normal;
  margin: var(--jp-content-heading-margin-top) 0
    var(--jp-content-heading-margin-bottom) 0;
}

.jp-RenderedHTMLCommon h1:first-child,
.jp-RenderedHTMLCommon h2:first-child,
.jp-RenderedHTMLCommon h3:first-child,
.jp-RenderedHTMLCommon h4:first-child,
.jp-RenderedHTMLCommon h5:first-child,
.jp-RenderedHTMLCommon h6:first-child {
  margin-top: calc(0.5 * var(--jp-content-heading-margin-top));
}

.jp-RenderedHTMLCommon h1:last-child,
.jp-RenderedHTMLCommon h2:last-child,
.jp-RenderedHTMLCommon h3:last-child,
.jp-RenderedHTMLCommon h4:last-child,
.jp-RenderedHTMLCommon h5:last-child,
.jp-RenderedHTMLCommon h6:last-child {
  margin-bottom: calc(0.5 * var(--jp-content-heading-margin-bottom));
}

.jp-RenderedHTMLCommon h1 {
  font-size: var(--jp-content-font-size5);
}

.jp-RenderedHTMLCommon h2 {
  font-size: var(--jp-content-font-size4);
}

.jp-RenderedHTMLCommon h3 {
  font-size: var(--jp-content-font-size3);
}

.jp-RenderedHTMLCommon h4 {
  font-size: var(--jp-content-font-size2);
}

.jp-RenderedHTMLCommon h5 {
  font-size: var(--jp-content-font-size1);
}

.jp-RenderedHTMLCommon h6 {
  font-size: var(--jp-content-font-size0);
}

/* Lists */

/* stylelint-disable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon ul:not(.list-inline),
.jp-RenderedHTMLCommon ol:not(.list-inline) {
  padding-left: 2em;
}

.jp-RenderedHTMLCommon ul {
  list-style: disc;
}

.jp-RenderedHTMLCommon ul ul {
  list-style: square;
}

.jp-RenderedHTMLCommon ul ul ul {
  list-style: circle;
}

.jp-RenderedHTMLCommon ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol ol {
  list-style: upper-alpha;
}

.jp-RenderedHTMLCommon ol ol ol {
  list-style: lower-alpha;
}

.jp-RenderedHTMLCommon ol ol ol ol {
  list-style: lower-roman;
}

.jp-RenderedHTMLCommon ol ol ol ol ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol,
.jp-RenderedHTMLCommon ul {
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon ul ul,
.jp-RenderedHTMLCommon ul ol,
.jp-RenderedHTMLCommon ol ul,
.jp-RenderedHTMLCommon ol ol {
  margin-bottom: 0;
}

/* stylelint-enable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon hr {
  color: var(--jp-border-color2);
  background-color: var(--jp-border-color1);
  margin-top: 1em;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon > pre {
  margin: 1.5em 2em;
}

.jp-RenderedHTMLCommon pre,
.jp-RenderedHTMLCommon code {
  border: 0;
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  line-height: var(--jp-code-line-height);
  padding: 0;
  white-space: pre-wrap;
}

.jp-RenderedHTMLCommon :not(pre) > code {
  background-color: var(--jp-layout-color2);
  padding: 1px 5px;
}

/* Tables */

.jp-RenderedHTMLCommon table {
  border-collapse: collapse;
  border-spacing: 0;
  border: none;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  table-layout: fixed;
  margin-left: auto;
  margin-bottom: 1em;
  margin-right: auto;
}

.jp-RenderedHTMLCommon thead {
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  vertical-align: bottom;
}

.jp-RenderedHTMLCommon td,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon tr {
  vertical-align: middle;
  padding: 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}

.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,
.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {
  max-width: none;
}

:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon td,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon th,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon tr {
  text-align: right;
}

.jp-RenderedHTMLCommon th {
  font-weight: bold;
}

.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {
  background: var(--jp-layout-color0);
}

.jp-RenderedHTMLCommon tbody tr:nth-child(even) {
  background: var(--jp-rendermime-table-row-background);
}

.jp-RenderedHTMLCommon tbody tr:hover {
  background: var(--jp-rendermime-table-row-hover-background);
}

.jp-RenderedHTMLCommon p {
  text-align: left;
  margin: 0;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon img {
  -moz-force-broken-image-icon: 1;
}

/* Restrict to direct children as other images could be nested in other content. */
.jp-RenderedHTMLCommon > img {
  display: block;
  margin-left: 0;
  margin-right: 0;
  margin-bottom: 1em;
}

/* Change color behind transparent images if they need it... */
[data-jp-theme-light='false'] .jp-RenderedImage img.jp-needs-light-background {
  background-color: var(--jp-inverse-layout-color1);
}

[data-jp-theme-light='true'] .jp-RenderedImage img.jp-needs-dark-background {
  background-color: var(--jp-inverse-layout-color1);
}

.jp-RenderedHTMLCommon img,
.jp-RenderedImage img,
.jp-RenderedHTMLCommon svg,
.jp-RenderedSVG svg {
  max-width: 100%;
  height: auto;
}

.jp-RenderedHTMLCommon img.jp-mod-unconfined,
.jp-RenderedImage img.jp-mod-unconfined,
.jp-RenderedHTMLCommon svg.jp-mod-unconfined,
.jp-RenderedSVG svg.jp-mod-unconfined {
  max-width: none;
}

.jp-RenderedHTMLCommon .alert {
  padding: var(--jp-notebook-padding);
  border: var(--jp-border-width) solid transparent;
  border-radius: var(--jp-border-radius);
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon .alert-info {
  color: var(--jp-info-color0);
  background-color: var(--jp-info-color3);
  border-color: var(--jp-info-color2);
}

.jp-RenderedHTMLCommon .alert-info hr {
  border-color: var(--jp-info-color3);
}

.jp-RenderedHTMLCommon .alert-info > p:last-child,
.jp-RenderedHTMLCommon .alert-info > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-warning {
  color: var(--jp-warn-color0);
  background-color: var(--jp-warn-color3);
  border-color: var(--jp-warn-color2);
}

.jp-RenderedHTMLCommon .alert-warning hr {
  border-color: var(--jp-warn-color3);
}

.jp-RenderedHTMLCommon .alert-warning > p:last-child,
.jp-RenderedHTMLCommon .alert-warning > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-success {
  color: var(--jp-success-color0);
  background-color: var(--jp-success-color3);
  border-color: var(--jp-success-color2);
}

.jp-RenderedHTMLCommon .alert-success hr {
  border-color: var(--jp-success-color3);
}

.jp-RenderedHTMLCommon .alert-success > p:last-child,
.jp-RenderedHTMLCommon .alert-success > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-danger {
  color: var(--jp-error-color0);
  background-color: var(--jp-error-color3);
  border-color: var(--jp-error-color2);
}

.jp-RenderedHTMLCommon .alert-danger hr {
  border-color: var(--jp-error-color3);
}

.jp-RenderedHTMLCommon .alert-danger > p:last-child,
.jp-RenderedHTMLCommon .alert-danger > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon blockquote {
  margin: 1em 2em;
  padding: 0 1em;
  border-left: 5px solid var(--jp-border-color2);
}

a.jp-InternalAnchorLink {
  visibility: hidden;
  margin-left: 8px;
  color: var(--md-blue-800);
}

h1:hover .jp-InternalAnchorLink,
h2:hover .jp-InternalAnchorLink,
h3:hover .jp-InternalAnchorLink,
h4:hover .jp-InternalAnchorLink,
h5:hover .jp-InternalAnchorLink,
h6:hover .jp-InternalAnchorLink {
  visibility: visible;
}

.jp-RenderedHTMLCommon kbd {
  background-color: var(--jp-rendermime-table-row-background);
  border: 1px solid var(--jp-border-color0);
  border-bottom-color: var(--jp-border-color2);
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
  display: inline-block;
  font-size: var(--jp-ui-font-size0);
  line-height: 1em;
  padding: 0.2em 0.5em;
}

/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.
 * At the bottom of cells this is a bit too much as there is also spacing
 * between cells. Going all the way to 0 gets too tight between markdown and
 * code cells.
 */
.jp-RenderedHTMLCommon > *:last-child {
  margin-bottom: 0.5em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-cursor-backdrop {
  position: fixed;
  width: 200px;
  height: 200px;
  margin-top: -100px;
  margin-left: -100px;
  will-change: transform;
  z-index: 100;
}

.lm-mod-drag-image {
  will-change: transform;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-lineFormSearch {
  padding: 4px 12px;
  background-color: var(--jp-layout-color2);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
  font-size: var(--jp-ui-font-size1);
}

.jp-lineFormCaption {
  font-size: var(--jp-ui-font-size0);
  line-height: var(--jp-ui-font-size1);
  margin-top: 4px;
  color: var(--jp-ui-font-color0);
}

.jp-baseLineForm {
  border: none;
  border-radius: 0;
  position: absolute;
  background-size: 16px;
  background-repeat: no-repeat;
  background-position: center;
  outline: none;
}

.jp-lineFormButtonContainer {
  top: 4px;
  right: 8px;
  height: 24px;
  padding: 0 12px;
  width: 12px;
}

.jp-lineFormButtonIcon {
  top: 0;
  right: 0;
  background-color: var(--jp-brand-color1);
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  padding: 4px 6px;
}

.jp-lineFormButton {
  top: 0;
  right: 0;
  background-color: transparent;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
}

.jp-lineFormWrapper {
  overflow: hidden;
  padding: 0 8px;
  border: 1px solid var(--jp-border-color0);
  background-color: var(--jp-input-active-background);
  height: 22px;
}

.jp-lineFormWrapperFocusWithin {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-lineFormInput {
  background: transparent;
  width: 200px;
  height: 100%;
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  line-height: 28px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-JSONEditor {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.jp-JSONEditor-host {
  flex: 1 1 auto;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  background: var(--jp-layout-color0);
  min-height: 50px;
  padding: 1px;
}

.jp-JSONEditor.jp-mod-error .jp-JSONEditor-host {
  border-color: red;
  outline-color: red;
}

.jp-JSONEditor-header {
  display: flex;
  flex: 1 0 auto;
  padding: 0 0 0 12px;
}

.jp-JSONEditor-header label {
  flex: 0 0 auto;
}

.jp-JSONEditor-commitButton {
  height: 16px;
  width: 16px;
  background-size: 18px;
  background-repeat: no-repeat;
  background-position: center;
}

.jp-JSONEditor-host.jp-mod-focused {
  background-color: var(--jp-input-active-background);
  border: 1px solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

.jp-Editor.jp-mod-dropTarget {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
.jp-DocumentSearch-input {
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  font-size: var(--jp-ui-font-size1);
  background-color: var(--jp-layout-color0);
  font-family: var(--jp-ui-font-family);
  padding: 2px 1px;
  resize: none;
}

.jp-DocumentSearch-overlay {
  position: absolute;
  background-color: var(--jp-toolbar-background);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  border-left: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  top: 0;
  right: 0;
  z-index: 7;
  min-width: 405px;
  padding: 2px;
  font-size: var(--jp-ui-font-size1);

  --jp-private-document-search-button-height: 20px;
}

.jp-DocumentSearch-overlay button {
  background-color: var(--jp-toolbar-background);
  outline: 0;
}

.jp-DocumentSearch-overlay button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-overlay button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-overlay-row {
  display: flex;
  align-items: center;
  margin-bottom: 2px;
}

.jp-DocumentSearch-button-content {
  display: inline-block;
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-button-content svg {
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-input-wrapper {
  border: var(--jp-border-width) solid var(--jp-border-color0);
  display: flex;
  background-color: var(--jp-layout-color0);
  margin: 2px;
}

.jp-DocumentSearch-input-wrapper:focus-within {
  border-color: var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper {
  all: initial;
  overflow: hidden;
  display: inline-block;
  border: none;
  box-sizing: border-box;
}

.jp-DocumentSearch-toggle-wrapper {
  width: 14px;
  height: 14px;
}

.jp-DocumentSearch-button-wrapper {
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
}

.jp-DocumentSearch-toggle-wrapper:focus,
.jp-DocumentSearch-button-wrapper:focus {
  outline: var(--jp-border-width) solid
    var(--jp-cell-editor-active-border-color);
  outline-offset: -1px;
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper,
.jp-DocumentSearch-button-content:focus {
  outline: none;
}

.jp-DocumentSearch-toggle-placeholder {
  width: 5px;
}

.jp-DocumentSearch-input-button::before {
  display: block;
  padding-top: 100%;
}

.jp-DocumentSearch-input-button-off {
  opacity: var(--jp-search-toggle-off-opacity);
}

.jp-DocumentSearch-input-button-off:hover {
  opacity: var(--jp-search-toggle-hover-opacity);
}

.jp-DocumentSearch-input-button-on {
  opacity: var(--jp-search-toggle-on-opacity);
}

.jp-DocumentSearch-index-counter {
  padding-left: 10px;
  padding-right: 10px;
  user-select: none;
  min-width: 35px;
  display: inline-block;
}

.jp-DocumentSearch-up-down-wrapper {
  display: inline-block;
  padding-right: 2px;
  margin-left: auto;
  white-space: nowrap;
}

.jp-DocumentSearch-spacer {
  margin-left: auto;
}

.jp-DocumentSearch-up-down-wrapper button {
  outline: 0;
  border: none;
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
  vertical-align: middle;
  margin: 1px 5px 2px;
}

.jp-DocumentSearch-up-down-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-up-down-button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-filter-button {
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-filter-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled:hover {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-search-options {
  padding: 0 8px;
  margin-left: 3px;
  width: 100%;
  display: grid;
  justify-content: start;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  justify-items: stretch;
}

.jp-DocumentSearch-search-filter-disabled {
  color: var(--jp-ui-font-color2);
}

.jp-DocumentSearch-search-filter {
  display: flex;
  align-items: center;
  user-select: none;
}

.jp-DocumentSearch-regex-error {
  color: var(--jp-error-color0);
}

.jp-DocumentSearch-replace-button-wrapper {
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color0);
  margin: auto 2px;
  padding: 1px 4px;
  height: calc(var(--jp-private-document-search-button-height) + 2px);
}

.jp-DocumentSearch-replace-button-wrapper:focus {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-replace-button {
  display: inline-block;
  text-align: center;
  cursor: pointer;
  box-sizing: border-box;
  color: var(--jp-ui-font-color1);

  /* height - 2 * (padding of wrapper) */
  line-height: calc(var(--jp-private-document-search-button-height) - 2px);
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-replace-button:focus {
  outline: none;
}

.jp-DocumentSearch-replace-wrapper-class {
  margin-left: 14px;
  display: flex;
}

.jp-DocumentSearch-replace-toggle {
  border: none;
  background-color: var(--jp-toolbar-background);
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-replace-toggle:hover {
  background-color: var(--jp-layout-color2);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.cm-editor {
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  border: 0;
  border-radius: 0;
  height: auto;

  /* Changed to auto to autogrow */
}

.cm-editor pre {
  padding: 0 var(--jp-code-padding);
}

.jp-CodeMirrorEditor[data-type='inline'] .cm-dialog {
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
}

.jp-CodeMirrorEditor {
  cursor: text;
}

/* When zoomed out 67% and 33% on a screen of 1440 width x 900 height */
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width1) solid
      var(--jp-editor-cursor-color);
  }
}

/* When zoomed out less than 33% */
@media screen and (min-width: 4320px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width2) solid
      var(--jp-editor-cursor-color);
  }
}

.cm-editor.jp-mod-readOnly .cm-cursor {
  display: none;
}

.jp-CollaboratorCursor {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: none;
  border-bottom: 3px solid;
  background-clip: content-box;
  margin-left: -5px;
  margin-right: -5px;
}

.cm-searching,
.cm-searching span {
  /* `.cm-searching span`: we need to override syntax highlighting */
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.cm-searching::selection,
.cm-searching span::selection {
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.jp-current-match > .cm-searching,
.jp-current-match > .cm-searching span,
.cm-searching > .jp-current-match,
.cm-searching > .jp-current-match span {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.jp-current-match > .cm-searching::selection,
.cm-searching > .jp-current-match::selection,
.jp-current-match > .cm-searching span::selection {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.cm-trailingspace {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAsElEQVQIHQGlAFr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7+r3zKmT0/+pk9P/7+r3zAAAAAAAAAAABAAAAAAAAAAA6OPzM+/q9wAAAAAA6OPzMwAAAAAAAAAAAgAAAAAAAAAAGR8NiRQaCgAZIA0AGR8NiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQyoYJ/SY80UAAAAASUVORK5CYII=);
  background-position: center left;
  background-repeat: repeat-x;
}

.jp-CollaboratorCursor-hover {
  position: absolute;
  z-index: 1;
  transform: translateX(-50%);
  color: white;
  border-radius: 3px;
  padding-left: 4px;
  padding-right: 4px;
  padding-top: 1px;
  padding-bottom: 1px;
  text-align: center;
  font-size: var(--jp-ui-font-size1);
  white-space: nowrap;
}

.jp-CodeMirror-ruler {
  border-left: 1px dashed var(--jp-border-color2);
}

/* Styles for shared cursors (remote cursor locations and selected ranges) */
.jp-CodeMirrorEditor .cm-ySelectionCaret {
  position: relative;
  border-left: 1px solid black;
  margin-left: -1px;
  margin-right: -1px;
  box-sizing: border-box;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret > .cm-ySelectionInfo {
  white-space: nowrap;
  position: absolute;
  top: -1.15em;
  padding-bottom: 0.05em;
  left: -1px;
  font-size: 0.95em;
  font-family: var(--jp-ui-font-family);
  font-weight: bold;
  line-height: normal;
  user-select: none;
  color: white;
  padding-left: 2px;
  padding-right: 2px;
  z-index: 101;
  transition: opacity 0.3s ease-in-out;
}

.jp-CodeMirrorEditor .cm-ySelectionInfo {
  transition-delay: 0.7s;
  opacity: 0;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret:hover > .cm-ySelectionInfo {
  opacity: 1;
  transition-delay: 0s;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MimeDocument {
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-filebrowser-button-height: 28px;
  --jp-private-filebrowser-button-width: 48px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FileBrowser .jp-SidePanel-content {
  display: flex;
  flex-direction: column;
}

.jp-FileBrowser-toolbar.jp-Toolbar {
  flex-wrap: wrap;
  row-gap: 12px;
  border-bottom: none;
  height: auto;
  margin: 8px 12px 0;
  box-shadow: none;
  padding: 0;
  justify-content: flex-start;
}

.jp-FileBrowser-Panel {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
}

.jp-BreadCrumbs {
  flex: 0 0 auto;
  margin: 8px 12px;
}

.jp-BreadCrumbs-item {
  margin: 0 2px;
  padding: 0 2px;
  border-radius: var(--jp-border-radius);
  cursor: pointer;
}

.jp-BreadCrumbs-item:hover {
  background-color: var(--jp-layout-color2);
}

.jp-BreadCrumbs-item:first-child {
  margin-left: 0;
}

.jp-BreadCrumbs-item.jp-mod-dropTarget {
  background-color: var(--jp-brand-color2);
  opacity: 0.7;
}

/*-----------------------------------------------------------------------------
| Buttons
|----------------------------------------------------------------------------*/

.jp-FileBrowser-toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  padding-left: 0;
  padding-right: 2px;
  align-items: center;
  height: unset;
}

.jp-FileBrowser-toolbar > .jp-Toolbar-item .jp-ToolbarButtonComponent {
  width: 40px;
}

/*-----------------------------------------------------------------------------
| Other styles
|----------------------------------------------------------------------------*/

.jp-FileDialog.jp-mod-conflict input {
  color: var(--jp-error-color1);
}

.jp-FileDialog .jp-new-name-title {
  margin-top: 12px;
}

.jp-LastModified-hidden {
  display: none;
}

.jp-FileSize-hidden {
  display: none;
}

.jp-FileBrowser .lm-AccordionPanel > h3:first-child {
  display: none;
}

/*-----------------------------------------------------------------------------
| DirListing
|----------------------------------------------------------------------------*/

.jp-DirListing {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  outline: 0;
}

.jp-DirListing-header {
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  align-items: center;
  overflow: hidden;
  border-top: var(--jp-border-width) solid var(--jp-border-color2);
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
}

.jp-DirListing-headerItem {
  padding: 4px 12px 2px;
  font-weight: 500;
}

.jp-DirListing-headerItem:hover {
  background: var(--jp-layout-color2);
}

.jp-DirListing-headerItem.jp-id-name {
  flex: 1 0 84px;
}

.jp-DirListing-headerItem.jp-id-modified {
  flex: 0 0 112px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-DirListing-headerItem.jp-id-filesize {
  flex: 0 0 75px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-id-narrow {
  display: none;
  flex: 0 0 5px;
  padding: 4px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
  color: var(--jp-border-color2);
}

.jp-DirListing-narrow .jp-id-narrow {
  display: block;
}

.jp-DirListing-narrow .jp-id-modified,
.jp-DirListing-narrow .jp-DirListing-itemModified {
  display: none;
}

.jp-DirListing-headerItem.jp-mod-selected {
  font-weight: 600;
}

/* increase specificity to override bundled default */
.jp-DirListing-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  list-style-type: none;
  overflow: auto;
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-content mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.jp-DirListing-content .jp-DirListing-item.jp-mod-selected mark {
  color: var(--jp-ui-inverse-font-color0);
}

/* Style the directory listing content when a user drops a file to upload */
.jp-DirListing.jp-mod-native-drop .jp-DirListing-content {
  outline: 5px dashed rgba(128, 128, 128, 0.5);
  outline-offset: -10px;
  cursor: copy;
}

.jp-DirListing-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 4px 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-DirListing-checkboxWrapper {
  /* Increases hit area of checkbox. */
  padding: 4px;
}

.jp-DirListing-header
  .jp-DirListing-checkboxWrapper
  + .jp-DirListing-headerItem {
  padding-left: 4px;
}

.jp-DirListing-content .jp-DirListing-checkboxWrapper {
  position: relative;
  left: -4px;
  margin: -4px 0 -4px -8px;
}

.jp-DirListing-checkboxWrapper.jp-mod-visible {
  visibility: visible;
}

/* For devices that support hovering, hide checkboxes until hovered, selected...
*/
@media (hover: hover) {
  .jp-DirListing-checkboxWrapper {
    visibility: hidden;
  }

  .jp-DirListing-item:hover .jp-DirListing-checkboxWrapper,
  .jp-DirListing-item.jp-mod-selected .jp-DirListing-checkboxWrapper {
    visibility: visible;
  }
}

.jp-DirListing-item[data-is-dot] {
  opacity: 75%;
}

.jp-DirListing-item.jp-mod-selected {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.jp-DirListing-item.jp-mod-dropTarget {
  background: var(--jp-brand-color3);
}

.jp-DirListing-item:hover:not(.jp-mod-selected) {
  background: var(--jp-layout-color2);
}

.jp-DirListing-itemIcon {
  flex: 0 0 20px;
  margin-right: 4px;
}

.jp-DirListing-itemText {
  flex: 1 0 64px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;
}

.jp-DirListing-itemText:focus {
  outline-width: 2px;
  outline-color: var(--jp-inverse-layout-color1);
  outline-style: solid;
  outline-offset: 1px;
}

.jp-DirListing-item.jp-mod-selected .jp-DirListing-itemText:focus {
  outline-color: var(--jp-layout-color1);
}

.jp-DirListing-itemModified {
  flex: 0 0 125px;
  text-align: right;
}

.jp-DirListing-itemFileSize {
  flex: 0 0 90px;
  text-align: right;
}

.jp-DirListing-editor {
  flex: 1 0 64px;
  outline: none;
  border: none;
  color: var(--jp-ui-font-color1);
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-item.jp-mod-running .jp-DirListing-itemIcon::before {
  color: var(--jp-success-color1);
  content: '\25CF';
  font-size: 8px;
  position: absolute;
  left: -8px;
}

.jp-DirListing-item.jp-mod-running.jp-mod-selected
  .jp-DirListing-itemIcon::before {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-DirListing-item.lm-mod-drag-image,
.jp-DirListing-item.jp-mod-selected.lm-mod-drag-image {
  font-size: var(--jp-ui-font-size1);
  padding-left: 4px;
  margin-left: 4px;
  width: 160px;
  background-color: var(--jp-ui-inverse-font-color2);
  box-shadow: var(--jp-elevation-z2);
  border-radius: 0;
  color: var(--jp-ui-font-color1);
  transform: translateX(-40%) translateY(-58%);
}

.jp-Document {
  min-width: 120px;
  min-height: 120px;
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Main OutputArea
| OutputArea has a list of Outputs
|----------------------------------------------------------------------------*/

.jp-OutputArea {
  overflow-y: auto;
}

.jp-OutputArea-child {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-OutputPrompt {
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-outprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
  opacity: var(--jp-cell-prompt-opacity);

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-OutputArea-prompt {
  display: table-cell;
  vertical-align: top;
}

.jp-OutputArea-output {
  display: table-cell;
  width: 100%;
  height: auto;
  overflow: auto;
  user-select: text;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
}

.jp-OutputArea .jp-RenderedText {
  padding-left: 1ch;
}

/**
 * Prompt overlay.
 */

.jp-OutputArea-promptOverlay {
  position: absolute;
  top: 0;
  width: var(--jp-cell-prompt-width);
  height: 100%;
  opacity: 0.5;
}

.jp-OutputArea-promptOverlay:hover {
  background: var(--jp-layout-color2);
  box-shadow: inset 0 0 1px var(--jp-inverse-layout-color0);
  cursor: zoom-out;
}

.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay:hover {
  cursor: zoom-in;
}

/**
 * Isolated output.
 */
.jp-OutputArea-output.jp-mod-isolated {
  width: 100%;
  display: block;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {
  position: relative;
}

body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/* pre */

.jp-OutputArea-output pre {
  border: none;
  margin: 0;
  padding: 0;
  overflow-x: auto;
  overflow-y: auto;
  word-break: break-all;
  word-wrap: break-word;
  white-space: pre-wrap;
}

/* tables */

.jp-OutputArea-output.jp-RenderedHTMLCommon table {
  margin-left: 0;
  margin-right: 0;
}

/* description lists */

.jp-OutputArea-output dl,
.jp-OutputArea-output dt,
.jp-OutputArea-output dd {
  display: block;
}

.jp-OutputArea-output dl {
  width: 100%;
  overflow: hidden;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dt {
  font-weight: bold;
  float: left;
  width: 20%;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dd {
  float: left;
  width: 80%;
  padding: 0;
  margin: 0;
}

.jp-TrimmedOutputs pre {
  background: var(--jp-layout-color3);
  font-size: calc(var(--jp-code-font-size) * 1.4);
  text-align: center;
  text-transform: uppercase;
}

/* Hide the gutter in case of
 *  - nested output areas (e.g. in the case of output widgets)
 *  - mirrored output areas
 */
.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {
  display: none;
}

/* Hide empty lines in the output area, for instance due to cleared widgets */
.jp-OutputArea-prompt:empty {
  padding: 0;
  border: 0;
}

/*-----------------------------------------------------------------------------
| executeResult is added to any Output-result for the display of the object
| returned by a cell
|----------------------------------------------------------------------------*/

.jp-OutputArea-output.jp-OutputArea-executeResult {
  margin-left: 0;
  width: 100%;
}

/* Text output with the Out[] prompt needs a top padding to match the
 * alignment of the Out[] prompt itself.
 */
.jp-OutputArea-executeResult .jp-RenderedText.jp-OutputArea-output {
  padding-top: var(--jp-code-padding);
  border-top: var(--jp-border-width) solid transparent;
}

/*-----------------------------------------------------------------------------
| The Stdin output
|----------------------------------------------------------------------------*/

.jp-Stdin-prompt {
  color: var(--jp-content-font-color0);
  padding-right: var(--jp-code-padding);
  vertical-align: baseline;
  flex: 0 0 auto;
}

.jp-Stdin-input {
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  color: inherit;
  background-color: inherit;
  width: 42%;
  min-width: 200px;

  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;

  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0 0.25em;
  margin: 0 0.25em;
  flex: 0 0 70%;
}

.jp-Stdin-input::placeholder {
  opacity: 0;
}

.jp-Stdin-input:focus {
  box-shadow: none;
}

.jp-Stdin-input:focus::placeholder {
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Output Area View
|----------------------------------------------------------------------------*/

.jp-LinkedOutputView .jp-OutputArea {
  height: 100%;
  display: block;
}

.jp-LinkedOutputView .jp-OutputArea-output:only-child {
  height: 100%;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

@media print {
  .jp-OutputArea-child {
    break-inside: avoid-page;
  }
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-OutputPrompt {
    display: table-row;
    text-align: left;
  }

  .jp-OutputArea-child .jp-OutputArea-output {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }
}

/* Trimmed outputs warning */
.jp-TrimmedOutputs > a {
  margin: 10px;
  text-decoration: none;
  cursor: pointer;
}

.jp-TrimmedOutputs > a:hover {
  text-decoration: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Table of Contents
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toc-active-width: 4px;
}

.jp-TableOfContents {
  display: flex;
  flex-direction: column;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  height: 100%;
}

.jp-TableOfContents-placeholder {
  text-align: center;
}

.jp-TableOfContents-placeholderContent {
  color: var(--jp-content-font-color2);
  padding: 8px;
}

.jp-TableOfContents-placeholderContent > h3 {
  margin-bottom: var(--jp-content-heading-margin-bottom);
}

.jp-TableOfContents .jp-SidePanel-content {
  overflow-y: auto;
}

.jp-TableOfContents-tree {
  margin: 4px;
}

.jp-TableOfContents ol {
  list-style-type: none;
}

/* stylelint-disable-next-line selector-max-type */
.jp-TableOfContents li > ol {
  /* Align left border with triangle icon center */
  padding-left: 11px;
}

.jp-TableOfContents-content {
  /* left margin for the active heading indicator */
  margin: 0 0 0 var(--jp-private-toc-active-width);
  padding: 0;
  background-color: var(--jp-layout-color1);
}

.jp-tocItem {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-tocItem-heading {
  display: flex;
  cursor: pointer;
}

.jp-tocItem-heading:hover {
  background-color: var(--jp-layout-color2);
}

.jp-tocItem-content {
  display: block;
  padding: 4px 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow-x: hidden;
}

.jp-tocItem-collapser {
  height: 20px;
  margin: 2px 2px 0;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
}

.jp-tocItem-collapser:hover {
  background-color: var(--jp-layout-color3);
}

/* Active heading indicator */

.jp-tocItem-heading::before {
  content: ' ';
  background: transparent;
  width: var(--jp-private-toc-active-width);
  height: 24px;
  position: absolute;
  left: 0;
  border-radius: var(--jp-border-radius);
}

.jp-tocItem-heading.jp-tocItem-active::before {
  background-color: var(--jp-brand-color1);
}

.jp-tocItem-heading:hover.jp-tocItem-active::before {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapser {
  flex: 0 0 var(--jp-cell-collapser-width);
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
  border-radius: var(--jp-border-radius);
  opacity: 1;
}

.jp-Collapser-child {
  display: block;
  width: 100%;
  box-sizing: border-box;

  /* height: 100% doesn't work because the height of its parent is computed from content */
  position: absolute;
  top: 0;
  bottom: 0;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Hiding collapsers in print mode.

Note: input and output wrappers have "display: block" propery in print mode.
*/

@media print {
  .jp-Collapser {
    display: none;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Header/Footer
|----------------------------------------------------------------------------*/

/* Hidden by zero height by default */
.jp-CellHeader,
.jp-CellFooter {
  height: 0;
  width: 100%;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Input
|----------------------------------------------------------------------------*/

/* All input areas */
.jp-InputArea {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-InputArea-editor {
  display: table-cell;
  overflow: hidden;
  vertical-align: top;

  /* This is the non-active, default styling */
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  background: var(--jp-cell-editor-background);
}

.jp-InputPrompt {
  display: table-cell;
  vertical-align: top;
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-inprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  opacity: var(--jp-cell-prompt-opacity);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-InputArea-editor {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }

  .jp-InputPrompt {
    display: table-row;
    text-align: left;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Placeholder {
  display: table;
  table-layout: fixed;
  width: 100%;
}

.jp-Placeholder-prompt {
  display: table-cell;
  box-sizing: border-box;
}

.jp-Placeholder-content {
  display: table-cell;
  padding: 4px 6px;
  border: 1px solid transparent;
  border-radius: 0;
  background: none;
  box-sizing: border-box;
  cursor: pointer;
}

.jp-Placeholder-contentContainer {
  display: flex;
}

.jp-Placeholder-content:hover,
.jp-InputPlaceholder > .jp-Placeholder-content:hover {
  border-color: var(--jp-layout-color3);
}

.jp-Placeholder-content .jp-MoreHorizIcon {
  width: 32px;
  height: 16px;
  border: 1px solid transparent;
  border-radius: var(--jp-border-radius);
}

.jp-Placeholder-content .jp-MoreHorizIcon:hover {
  border: 1px solid var(--jp-border-color1);
  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.25);
  background-color: var(--jp-layout-color0);
}

.jp-PlaceholderText {
  white-space: nowrap;
  overflow-x: hidden;
  color: var(--jp-inverse-layout-color3);
  font-family: var(--jp-code-font-family);
}

.jp-InputPlaceholder > .jp-Placeholder-content {
  border-color: var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Private CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-cell-scrolling-output-offset: 5px;
}

/*-----------------------------------------------------------------------------
| Cell
|----------------------------------------------------------------------------*/

.jp-Cell {
  padding: var(--jp-cell-padding);
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Common input/output
|----------------------------------------------------------------------------*/

.jp-Cell-inputWrapper,
.jp-Cell-outputWrapper {
  display: flex;
  flex-direction: row;
  padding: 0;
  margin: 0;

  /* Added to reveal the box-shadow on the input and output collapsers. */
  overflow: visible;
}

/* Only input/output areas inside cells */
.jp-Cell-inputArea,
.jp-Cell-outputArea {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Collapser
|----------------------------------------------------------------------------*/

/* Make the output collapser disappear when there is not output, but do so
 * in a manner that leaves it in the layout and preserves its width.
 */
.jp-Cell.jp-mod-noOutputs .jp-Cell-outputCollapser {
  border: none !important;
  background: transparent !important;
}

.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputCollapser {
  min-height: var(--jp-cell-collapser-min-height);
}

/*-----------------------------------------------------------------------------
| Output
|----------------------------------------------------------------------------*/

/* Put a space between input and output when there IS output */
.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputWrapper {
  margin-top: 5px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea {
  overflow-y: auto;
  max-height: 24em;
  margin-left: var(--jp-private-cell-scrolling-output-offset);
  resize: vertical;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea[style*='height'] {
  max-height: unset;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea::after {
  content: ' ';
  box-shadow: inset 0 0 6px 2px rgb(0 0 0 / 30%);
  width: 100%;
  height: 100%;
  position: sticky;
  bottom: 0;
  top: 0;
  margin-top: -50%;
  float: left;
  display: block;
  pointer-events: none;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-child {
  padding-top: 6px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-prompt {
  width: calc(
    var(--jp-cell-prompt-width) - var(--jp-private-cell-scrolling-output-offset)
  );
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay {
  left: calc(-1 * var(--jp-private-cell-scrolling-output-offset));
}

/*-----------------------------------------------------------------------------
| CodeCell
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| MarkdownCell
|----------------------------------------------------------------------------*/

.jp-MarkdownOutput {
  display: table-cell;
  width: 100%;
  margin-top: 0;
  margin-bottom: 0;
  padding-left: var(--jp-code-padding);
}

.jp-MarkdownOutput.jp-RenderedHTMLCommon {
  overflow: auto;
}

/* collapseHeadingButton (show always if hiddenCellsButton is _not_ shown) */
.jp-collapseHeadingButton {
  display: flex;
  min-height: var(--jp-cell-collapser-min-height);
  font-size: var(--jp-code-font-size);
  position: absolute;
  background-color: transparent;
  background-size: 25px;
  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: top;
  background-image: var(--jp-icon-caret-down);
  right: 0;
  top: 0;
  bottom: 0;
}

.jp-collapseHeadingButton.jp-mod-collapsed {
  background-image: var(--jp-icon-caret-right);
}

/*
 set the container font size to match that of content
 so that the nested collapse buttons have the right size
*/
.jp-MarkdownCell .jp-InputPrompt {
  font-size: var(--jp-content-font-size1);
}

/*
  Align collapseHeadingButton with cell top header
  The font sizes are identical to the ones in packages/rendermime/style/base.css
*/
.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='1'] {
  font-size: var(--jp-content-font-size5);
  background-position-y: calc(0.3 * var(--jp-content-font-size5));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='2'] {
  font-size: var(--jp-content-font-size4);
  background-position-y: calc(0.3 * var(--jp-content-font-size4));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='3'] {
  font-size: var(--jp-content-font-size3);
  background-position-y: calc(0.3 * var(--jp-content-font-size3));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='4'] {
  font-size: var(--jp-content-font-size2);
  background-position-y: calc(0.3 * var(--jp-content-font-size2));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='5'] {
  font-size: var(--jp-content-font-size1);
  background-position-y: top;
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='6'] {
  font-size: var(--jp-content-font-size0);
  background-position-y: top;
}

/* collapseHeadingButton (show only on (hover,active) if hiddenCellsButton is shown) */
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-collapseHeadingButton {
  display: none;
}

.jp-Notebook.jp-mod-showHiddenCellsButton
  :is(.jp-MarkdownCell:hover, .jp-mod-active)
  .jp-collapseHeadingButton {
  display: flex;
}

/* showHiddenCellsButton (only show if jp-mod-showHiddenCellsButton is set, which
is a consequence of the showHiddenCellsButton option in Notebook Settings)*/
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton {
  margin-left: calc(var(--jp-cell-prompt-width) + 2 * var(--jp-code-padding));
  margin-top: var(--jp-code-padding);
  border: 1px solid var(--jp-border-color2);
  background-color: var(--jp-border-color3) !important;
  color: var(--jp-content-font-color0) !important;
  display: flex;
}

.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton:hover {
  background-color: var(--jp-border-color2) !important;
}

.jp-showHiddenCellsButton {
  display: none;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Using block instead of flex to allow the use of the break-inside CSS property for
cell outputs.
*/

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-notebook-toolbar-padding: 2px 5px 2px 2px;
}

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-NotebookPanel-toolbar {
  padding: var(--jp-notebook-toolbar-padding);

  /* disable paint containment from lumino 2.0 default strict CSS containment */
  contain: style size !important;
}

.jp-Toolbar-item.jp-Notebook-toolbarCellType .jp-select-wrapper.jp-mod-focused {
  border: none;
  box-shadow: none;
}

.jp-Notebook-toolbarCellTypeDropdown select {
  height: 24px;
  font-size: var(--jp-ui-font-size1);
  line-height: 14px;
  border-radius: 0;
  display: block;
}

.jp-Notebook-toolbarCellTypeDropdown span {
  top: 5px !important;
}

.jp-Toolbar-responsive-popup {
  position: absolute;
  height: fit-content;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: var(--jp-notebook-toolbar-padding);
  z-index: 1;
  right: 0;
  top: 0;
}

.jp-Toolbar > .jp-Toolbar-responsive-opener {
  margin-left: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-Notebook-ExecutionIndicator {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 9997;
}

.jp-Notebook-ExecutionIndicator-tooltip {
  visibility: hidden;
  height: auto;
  width: max-content;
  width: -moz-max-content;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color1);
  text-align: justify;
  border-radius: 6px;
  padding: 0 5px;
  position: fixed;
  display: table;
}

.jp-Notebook-ExecutionIndicator-tooltip.up {
  transform: translateX(-50%) translateY(-100%) translateY(-32px);
}

.jp-Notebook-ExecutionIndicator-tooltip.down {
  transform: translateX(calc(-100% + 16px)) translateY(5px);
}

.jp-Notebook-ExecutionIndicator-tooltip.hidden {
  display: none;
}

.jp-Notebook-ExecutionIndicator:hover .jp-Notebook-ExecutionIndicator-tooltip {
  visibility: visible;
}

.jp-Notebook-ExecutionIndicator span {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  color: var(--jp-ui-font-color1);
  line-height: 24px;
  display: block;
}

.jp-Notebook-ExecutionIndicator-progress-bar {
  display: flex;
  justify-content: center;
  height: 100%;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*
 * Execution indicator
 */
.jp-tocItem-content::after {
  content: '';

  /* Must be identical to form a circle */
  width: 12px;
  height: 12px;
  background: none;
  border: none;
  position: absolute;
  right: 0;
}

.jp-tocItem-content[data-running='0']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background: none;
}

.jp-tocItem-content[data-running='1']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background-color: var(--jp-inverse-layout-color3);
}

.jp-tocItem-content[data-running='0'],
.jp-tocItem-content[data-running='1'] {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Notebook-footer {
  height: 27px;
  margin-left: calc(
    var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
      var(--jp-cell-padding)
  );
  width: calc(
    100% -
      (
        var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
          var(--jp-cell-padding) + var(--jp-cell-padding)
      )
  );
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  color: var(--jp-ui-font-color3);
  margin-top: 6px;
  background: none;
  cursor: pointer;
}

.jp-Notebook-footer:focus {
  border-color: var(--jp-cell-editor-active-border-color);
}

/* For devices that support hovering, hide footer until hover */
@media (hover: hover) {
  .jp-Notebook-footer {
    opacity: 0;
  }

  .jp-Notebook-footer:focus,
  .jp-Notebook-footer:hover {
    opacity: 1;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Imports
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-side-by-side-output-size: 1fr;
  --jp-side-by-side-resized-cell: var(--jp-side-by-side-output-size);
  --jp-private-notebook-dragImage-width: 304px;
  --jp-private-notebook-dragImage-height: 36px;
  --jp-private-notebook-selected-color: var(--md-blue-400);
  --jp-private-notebook-active-color: var(--md-green-400);
}

/*-----------------------------------------------------------------------------
| Notebook
|----------------------------------------------------------------------------*/

/* stylelint-disable selector-max-class */

.jp-NotebookPanel {
  display: block;
  height: 100%;
}

.jp-NotebookPanel.jp-Document {
  min-width: 240px;
  min-height: 120px;
}

.jp-Notebook {
  padding: var(--jp-notebook-padding);
  outline: none;
  overflow: auto;
  background: var(--jp-layout-color0);
}

.jp-Notebook.jp-mod-scrollPastEnd::after {
  display: block;
  content: '';
  min-height: var(--jp-notebook-scroll-padding);
}

.jp-MainAreaWidget-ContainStrict .jp-Notebook * {
  contain: strict;
}

.jp-Notebook .jp-Cell {
  overflow: visible;
}

.jp-Notebook .jp-Cell .jp-InputPrompt {
  cursor: move;
}

/*-----------------------------------------------------------------------------
| Notebook state related styling
|
| The notebook and cells each have states, here are the possibilities:
|
| - Notebook
|   - Command
|   - Edit
| - Cell
|   - None
|   - Active (only one can be active)
|   - Selected (the cells actions are applied to)
|   - Multiselected (when multiple selected, the cursor)
|   - No outputs
|----------------------------------------------------------------------------*/

/* Command or edit modes */

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-InputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-OutputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

/* cell is active */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser {
  background: var(--jp-brand-color1);
}

/* cell is dirty */
.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt {
  color: var(--jp-warn-color1);
}

.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt::before {
  color: var(--jp-warn-color1);
  content: '‚Ä¢';
}

.jp-Notebook .jp-Cell.jp-mod-active.jp-mod-dirty .jp-Collapser {
  background: var(--jp-warn-color1);
}

/* collapser is hovered */
.jp-Notebook .jp-Cell .jp-Collapser:hover {
  box-shadow: var(--jp-elevation-z2);
  background: var(--jp-brand-color1);
  opacity: var(--jp-cell-collapser-not-active-hover-opacity);
}

/* cell is active and collapser is hovered */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser:hover {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/* Command mode */

.jp-Notebook.jp-mod-commandMode .jp-Cell.jp-mod-selected {
  background: var(--jp-notebook-multiselected-color);
}

.jp-Notebook.jp-mod-commandMode
  .jp-Cell.jp-mod-active.jp-mod-selected:not(.jp-mod-multiSelected) {
  background: transparent;
}

/* Edit mode */

.jp-Notebook.jp-mod-editMode .jp-Cell.jp-mod-active .jp-InputArea-editor {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-cell-editor-active-background);
}

/*-----------------------------------------------------------------------------
| Notebook drag and drop
|----------------------------------------------------------------------------*/

.jp-Notebook-cell.jp-mod-dropSource {
  opacity: 0.5;
}

.jp-Notebook-cell.jp-mod-dropTarget,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget {
  border-top-color: var(--jp-private-notebook-selected-color);
  border-top-style: solid;
  border-top-width: 2px;
}

.jp-dragImage {
  display: block;
  flex-direction: row;
  width: var(--jp-private-notebook-dragImage-width);
  height: var(--jp-private-notebook-dragImage-height);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
  overflow: visible;
}

.jp-dragImage-singlePrompt {
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

.jp-dragImage .jp-dragImage-content {
  flex: 1 1 auto;
  z-index: 2;
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  line-height: var(--jp-code-line-height);
  padding: var(--jp-code-padding);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background-color);
  color: var(--jp-content-font-color3);
  text-align: left;
  margin: 4px 4px 4px 0;
}

.jp-dragImage .jp-dragImage-prompt {
  flex: 0 0 auto;
  min-width: 36px;
  color: var(--jp-cell-inprompt-font-color);
  padding: var(--jp-code-padding);
  padding-left: 12px;
  font-family: var(--jp-cell-prompt-font-family);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: 1.9;
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
}

.jp-dragImage-multipleBack {
  z-index: -1;
  position: absolute;
  height: 32px;
  width: 300px;
  top: 8px;
  left: 8px;
  background: var(--jp-layout-color2);
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

/*-----------------------------------------------------------------------------
| Cell toolbar
|----------------------------------------------------------------------------*/

.jp-NotebookTools {
  display: block;
  min-width: var(--jp-sidebar-min-width);
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
    * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  overflow: auto;
}

.jp-ActiveCellTool {
  padding: 12px 0;
  display: flex;
}

.jp-ActiveCellTool-Content {
  flex: 1 1 auto;
}

.jp-ActiveCellTool .jp-ActiveCellTool-CellContent {
  background: var(--jp-cell-editor-background);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  min-height: 29px;
}

.jp-ActiveCellTool .jp-InputPrompt {
  min-width: calc(var(--jp-cell-prompt-width) * 0.75);
}

.jp-ActiveCellTool-CellContent > pre {
  padding: 5px 4px;
  margin: 0;
  white-space: normal;
}

.jp-MetadataEditorTool {
  flex-direction: column;
  padding: 12px 0;
}

.jp-RankedPanel > :not(:first-child) {
  margin-top: 12px;
}

.jp-KeySelector select.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: var(--jp-border-width) solid var(--jp-border-color1);
}

.jp-KeySelector label,
.jp-MetadataEditorTool label,
.jp-NumberSetter label {
  line-height: 1.4;
}

.jp-NotebookTools .jp-select-wrapper {
  margin-top: 4px;
  margin-bottom: 0;
}

.jp-NumberSetter input {
  width: 100%;
  margin-top: 4px;
}

.jp-NotebookTools .jp-Collapse {
  margin-top: 16px;
}

/*-----------------------------------------------------------------------------
| Presentation Mode (.jp-mod-presentationMode)
|----------------------------------------------------------------------------*/

.jp-mod-presentationMode .jp-Notebook {
  --jp-content-font-size1: var(--jp-content-presentation-font-size1);
  --jp-code-font-size: var(--jp-code-presentation-font-size);
}

.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-InputPrompt,
.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-OutputPrompt {
  flex: 0 0 110px;
}

/*-----------------------------------------------------------------------------
| Side-by-side Mode (.jp-mod-sideBySide)
|----------------------------------------------------------------------------*/
.jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {
  margin-top: 3em;
  margin-bottom: 3em;
  margin-left: 5%;
  margin-right: 5%;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell {
  display: grid;
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-output-size)
    );
  grid-template-rows: auto minmax(0, 1fr) auto;
  grid-template-areas:
    'header header header'
    'input handle output'
    'footer footer footer';
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell.jp-mod-resizedCell {
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-resized-cell)
    );
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellHeader {
  grid-area: header;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-inputWrapper {
  grid-area: input;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-outputWrapper {
  /* overwrite the default margin (no vertical separation needed in side by side move */
  margin-top: 0;
  grid-area: output;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellFooter {
  grid-area: footer;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle {
  grid-area: handle;
  user-select: none;
  display: block;
  height: 100%;
  cursor: ew-resize;
  padding: 0 var(--jp-cell-padding);
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle::after {
  content: '';
  display: block;
  background: var(--jp-border-color2);
  height: 100%;
  width: 5px;
}

.jp-mod-sideBySide.jp-Notebook
  .jp-CodeCell.jp-mod-resizedCell
  .jp-CellResizeHandle::after {
  background: var(--jp-border-color0);
}

.jp-CellResizeHandle {
  display: none;
}

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Cell-Placeholder {
  padding-left: 55px;
}

.jp-Cell-Placeholder-wrapper {
  background: #fff;
  border: 1px solid;
  border-color: #e5e6e9 #dfe0e4 #d0d1d5;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  margin: 10px 15px;
}

.jp-Cell-Placeholder-wrapper-inner {
  padding: 15px;
  position: relative;
}

.jp-Cell-Placeholder-wrapper-body {
  background-repeat: repeat;
  background-size: 50% auto;
}

.jp-Cell-Placeholder-wrapper-body div {
  background: #f6f7f8;
  background-image: -webkit-linear-gradient(
    left,
    #f6f7f8 0%,
    #edeef1 20%,
    #f6f7f8 40%,
    #f6f7f8 100%
  );
  background-repeat: no-repeat;
  background-size: 800px 104px;
  height: 104px;
  position: absolute;
  right: 15px;
  left: 15px;
  top: 15px;
}

div.jp-Cell-Placeholder-h1 {
  top: 20px;
  height: 20px;
  left: 15px;
  width: 150px;
}

div.jp-Cell-Placeholder-h2 {
  left: 15px;
  top: 50px;
  height: 10px;
  width: 100px;
}

div.jp-Cell-Placeholder-content-1,
div.jp-Cell-Placeholder-content-2,
div.jp-Cell-Placeholder-content-3 {
  left: 15px;
  right: 15px;
  height: 10px;
}

div.jp-Cell-Placeholder-content-1 {
  top: 100px;
}

div.jp-Cell-Placeholder-content-2 {
  top: 120px;
}

div.jp-Cell-Placeholder-content-3 {
  top: 140px;
}

</style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
The following CSS variables define the main, public API for styling JupyterLab.
These variables should be used by all plugins wherever possible. In other
words, plugins should not define custom colors, sizes, etc unless absolutely
necessary. This enables users to change the visual theme of JupyterLab
by changing these variables.

Many variables appear in an ordered sequence (0,1,2,3). These sequences
are designed to work well together, so for example, `--jp-border-color1` should
be used with `--jp-layout-color1`. The numbers have the following meanings:

* 0: super-primary, reserved for special emphasis
* 1: primary, most important under normal situations
* 2: secondary, next most important under normal situations
* 3: tertiary, next most important under normal situations

Throughout JupyterLab, we are mostly following principles from Google's
Material Design when selecting colors. We are not, however, following
all of MD as it is not optimized for dense, information rich UIs.
*/

:root {
  /* Elevation
   *
   * We style box-shadows using Material Design's idea of elevation. These particular numbers are taken from here:
   *
   * https://github.com/material-components/material-components-web
   * https://material-components-web.appspot.com/elevation.html
   */

  --jp-shadow-base-lightness: 0;
  --jp-shadow-umbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.2
  );
  --jp-shadow-penumbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.14
  );
  --jp-shadow-ambient-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.12
  );
  --jp-elevation-z0: none;
  --jp-elevation-z1: 0 2px 1px -1px var(--jp-shadow-umbra-color),
    0 1px 1px 0 var(--jp-shadow-penumbra-color),
    0 1px 3px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z2: 0 3px 1px -2px var(--jp-shadow-umbra-color),
    0 2px 2px 0 var(--jp-shadow-penumbra-color),
    0 1px 5px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z4: 0 2px 4px -1px var(--jp-shadow-umbra-color),
    0 4px 5px 0 var(--jp-shadow-penumbra-color),
    0 1px 10px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z6: 0 3px 5px -1px var(--jp-shadow-umbra-color),
    0 6px 10px 0 var(--jp-shadow-penumbra-color),
    0 1px 18px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z8: 0 5px 5px -3px var(--jp-shadow-umbra-color),
    0 8px 10px 1px var(--jp-shadow-penumbra-color),
    0 3px 14px 2px var(--jp-shadow-ambient-color);
  --jp-elevation-z12: 0 7px 8px -4px var(--jp-shadow-umbra-color),
    0 12px 17px 2px var(--jp-shadow-penumbra-color),
    0 5px 22px 4px var(--jp-shadow-ambient-color);
  --jp-elevation-z16: 0 8px 10px -5px var(--jp-shadow-umbra-color),
    0 16px 24px 2px var(--jp-shadow-penumbra-color),
    0 6px 30px 5px var(--jp-shadow-ambient-color);
  --jp-elevation-z20: 0 10px 13px -6px var(--jp-shadow-umbra-color),
    0 20px 31px 3px var(--jp-shadow-penumbra-color),
    0 8px 38px 7px var(--jp-shadow-ambient-color);
  --jp-elevation-z24: 0 11px 15px -7px var(--jp-shadow-umbra-color),
    0 24px 38px 3px var(--jp-shadow-penumbra-color),
    0 9px 46px 8px var(--jp-shadow-ambient-color);

  /* Borders
   *
   * The following variables, specify the visual styling of borders in JupyterLab.
   */

  --jp-border-width: 1px;
  --jp-border-color0: var(--md-grey-400);
  --jp-border-color1: var(--md-grey-400);
  --jp-border-color2: var(--md-grey-300);
  --jp-border-color3: var(--md-grey-200);
  --jp-inverse-border-color: var(--md-grey-600);
  --jp-border-radius: 2px;

  /* UI Fonts
   *
   * The UI font CSS variables are used for the typography all of the JupyterLab
   * user interface elements that are not directly user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-ui-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-ui-font-scale-factor: 1.2;
  --jp-ui-font-size0: 0.83333em;
  --jp-ui-font-size1: 13px; /* Base font size */
  --jp-ui-font-size2: 1.2em;
  --jp-ui-font-size3: 1.44em;
  --jp-ui-font-family: system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI',
    helvetica, arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  /*
   * Use these font colors against the corresponding main layout colors.
   * In a light theme, these go from dark to light.
   */

  /* Defaults use Material Design specification */
  --jp-ui-font-color0: rgba(0, 0, 0, 1);
  --jp-ui-font-color1: rgba(0, 0, 0, 0.87);
  --jp-ui-font-color2: rgba(0, 0, 0, 0.54);
  --jp-ui-font-color3: rgba(0, 0, 0, 0.38);

  /*
   * Use these against the brand/accent/warn/error colors.
   * These will typically go from light to darker, in both a dark and light theme.
   */

  --jp-ui-inverse-font-color0: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color1: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color2: rgba(255, 255, 255, 0.7);
  --jp-ui-inverse-font-color3: rgba(255, 255, 255, 0.5);

  /* Content Fonts
   *
   * Content font variables are used for typography of user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-content-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-content-line-height: 1.6;
  --jp-content-font-scale-factor: 1.2;
  --jp-content-font-size0: 0.83333em;
  --jp-content-font-size1: 14px; /* Base font size */
  --jp-content-font-size2: 1.2em;
  --jp-content-font-size3: 1.44em;
  --jp-content-font-size4: 1.728em;
  --jp-content-font-size5: 2.0736em;

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-content-presentation-font-size1: 17px;
  --jp-content-heading-line-height: 1;
  --jp-content-heading-margin-top: 1.2em;
  --jp-content-heading-margin-bottom: 0.8em;
  --jp-content-heading-font-weight: 500;

  /* Defaults use Material Design specification */
  --jp-content-font-color0: rgba(0, 0, 0, 1);
  --jp-content-font-color1: rgba(0, 0, 0, 0.87);
  --jp-content-font-color2: rgba(0, 0, 0, 0.54);
  --jp-content-font-color3: rgba(0, 0, 0, 0.38);
  --jp-content-link-color: var(--md-blue-900);
  --jp-content-font-family: system-ui, -apple-system, blinkmacsystemfont,
    'Segoe UI', helvetica, arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';

  /*
   * Code Fonts
   *
   * Code font variables are used for typography of code and other monospaces content.
   */

  --jp-code-font-size: 13px;
  --jp-code-line-height: 1.3077; /* 17px for 13px base */
  --jp-code-padding: 5px; /* 5px for 13px base, codemirror highlighting needs integer px value */
  --jp-code-font-family-default: menlo, consolas, 'DejaVu Sans Mono', monospace;
  --jp-code-font-family: var(--jp-code-font-family-default);

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-code-presentation-font-size: 16px;

  /* may need to tweak cursor width if you change font size */
  --jp-code-cursor-width0: 1.4px;
  --jp-code-cursor-width1: 2px;
  --jp-code-cursor-width2: 4px;

  /* Layout
   *
   * The following are the main layout colors use in JupyterLab. In a light
   * theme these would go from light to dark.
   */

  --jp-layout-color0: white;
  --jp-layout-color1: white;
  --jp-layout-color2: var(--md-grey-200);
  --jp-layout-color3: var(--md-grey-400);
  --jp-layout-color4: var(--md-grey-600);

  /* Inverse Layout
   *
   * The following are the inverse layout colors use in JupyterLab. In a light
   * theme these would go from dark to light.
   */

  --jp-inverse-layout-color0: #111;
  --jp-inverse-layout-color1: var(--md-grey-900);
  --jp-inverse-layout-color2: var(--md-grey-800);
  --jp-inverse-layout-color3: var(--md-grey-700);
  --jp-inverse-layout-color4: var(--md-grey-600);

  /* Brand/accent */

  --jp-brand-color0: var(--md-blue-900);
  --jp-brand-color1: var(--md-blue-700);
  --jp-brand-color2: var(--md-blue-300);
  --jp-brand-color3: var(--md-blue-100);
  --jp-brand-color4: var(--md-blue-50);
  --jp-accent-color0: var(--md-green-900);
  --jp-accent-color1: var(--md-green-700);
  --jp-accent-color2: var(--md-green-300);
  --jp-accent-color3: var(--md-green-100);

  /* State colors (warn, error, success, info) */

  --jp-warn-color0: var(--md-orange-900);
  --jp-warn-color1: var(--md-orange-700);
  --jp-warn-color2: var(--md-orange-300);
  --jp-warn-color3: var(--md-orange-100);
  --jp-error-color0: var(--md-red-900);
  --jp-error-color1: var(--md-red-700);
  --jp-error-color2: var(--md-red-300);
  --jp-error-color3: var(--md-red-100);
  --jp-success-color0: var(--md-green-900);
  --jp-success-color1: var(--md-green-700);
  --jp-success-color2: var(--md-green-300);
  --jp-success-color3: var(--md-green-100);
  --jp-info-color0: var(--md-cyan-900);
  --jp-info-color1: var(--md-cyan-700);
  --jp-info-color2: var(--md-cyan-300);
  --jp-info-color3: var(--md-cyan-100);

  /* Cell specific styles */

  --jp-cell-padding: 5px;
  --jp-cell-collapser-width: 8px;
  --jp-cell-collapser-min-height: 20px;
  --jp-cell-collapser-not-active-hover-opacity: 0.6;
  --jp-cell-editor-background: var(--md-grey-100);
  --jp-cell-editor-border-color: var(--md-grey-300);
  --jp-cell-editor-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-cell-editor-active-background: var(--jp-layout-color0);
  --jp-cell-editor-active-border-color: var(--jp-brand-color1);
  --jp-cell-prompt-width: 64px;
  --jp-cell-prompt-font-family: var(--jp-code-font-family-default);
  --jp-cell-prompt-letter-spacing: 0;
  --jp-cell-prompt-opacity: 1;
  --jp-cell-prompt-not-active-opacity: 0.5;
  --jp-cell-prompt-not-active-font-color: var(--md-grey-700);

  /* A custom blend of MD grey and blue 600
   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */
  --jp-cell-inprompt-font-color: #307fc1;

  /* A custom blend of MD grey and orange 600
   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */
  --jp-cell-outprompt-font-color: #bf5b3d;

  /* Notebook specific styles */

  --jp-notebook-padding: 10px;
  --jp-notebook-select-background: var(--jp-layout-color1);
  --jp-notebook-multiselected-color: var(--md-blue-50);

  /* The scroll padding is calculated to fill enough space at the bottom of the
  notebook to show one single-line cell (with appropriate padding) at the top
  when the notebook is scrolled all the way to the bottom. We also subtract one
  pixel so that no scrollbar appears if we have just one single-line cell in the
  notebook. This padding is to enable a 'scroll past end' feature in a notebook.
  */
  --jp-notebook-scroll-padding: calc(
    100% - var(--jp-code-font-size) * var(--jp-code-line-height) -
      var(--jp-code-padding) - var(--jp-cell-padding) - 1px
  );

  /* Rendermime styles */

  --jp-rendermime-error-background: #fdd;
  --jp-rendermime-table-row-background: var(--md-grey-100);
  --jp-rendermime-table-row-hover-background: var(--md-light-blue-50);

  /* Dialog specific styles */

  --jp-dialog-background: rgba(0, 0, 0, 0.25);

  /* Console specific styles */

  --jp-console-padding: 10px;

  /* Toolbar specific styles */

  --jp-toolbar-border-color: var(--jp-border-color1);
  --jp-toolbar-micro-height: 8px;
  --jp-toolbar-background: var(--jp-layout-color1);
  --jp-toolbar-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.24);
  --jp-toolbar-header-margin: 4px 4px 0 4px;
  --jp-toolbar-active-background: var(--md-grey-300);

  /* Statusbar specific styles */

  --jp-statusbar-height: 24px;

  /* Input field styles */

  --jp-input-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-input-active-background: var(--jp-layout-color1);
  --jp-input-hover-background: var(--jp-layout-color1);
  --jp-input-background: var(--md-grey-100);
  --jp-input-border-color: var(--jp-inverse-border-color);
  --jp-input-active-border-color: var(--jp-brand-color1);
  --jp-input-active-box-shadow-color: rgba(19, 124, 189, 0.3);

  /* General editor styles */

  --jp-editor-selected-background: #d9d9d9;
  --jp-editor-selected-focused-background: #d7d4f0;
  --jp-editor-cursor-color: var(--jp-ui-font-color0);

  /* Code mirror specific styles */

  --jp-mirror-editor-keyword-color: #008000;
  --jp-mirror-editor-atom-color: #88f;
  --jp-mirror-editor-number-color: #080;
  --jp-mirror-editor-def-color: #00f;
  --jp-mirror-editor-variable-color: var(--md-grey-900);
  --jp-mirror-editor-variable-2-color: rgb(0, 54, 109);
  --jp-mirror-editor-variable-3-color: #085;
  --jp-mirror-editor-punctuation-color: #05a;
  --jp-mirror-editor-property-color: #05a;
  --jp-mirror-editor-operator-color: #a2f;
  --jp-mirror-editor-comment-color: #408080;
  --jp-mirror-editor-string-color: #ba2121;
  --jp-mirror-editor-string-2-color: #708;
  --jp-mirror-editor-meta-color: #a2f;
  --jp-mirror-editor-qualifier-color: #555;
  --jp-mirror-editor-builtin-color: #008000;
  --jp-mirror-editor-bracket-color: #997;
  --jp-mirror-editor-tag-color: #170;
  --jp-mirror-editor-attribute-color: #00c;
  --jp-mirror-editor-header-color: blue;
  --jp-mirror-editor-quote-color: #090;
  --jp-mirror-editor-link-color: #00c;
  --jp-mirror-editor-error-color: #f00;
  --jp-mirror-editor-hr-color: #999;

  /*
    RTC user specific colors.
    These colors are used for the cursor, username in the editor,
    and the icon of the user.
  */

  --jp-collaborator-color1: #ffad8e;
  --jp-collaborator-color2: #dac83d;
  --jp-collaborator-color3: #72dd76;
  --jp-collaborator-color4: #00e4d0;
  --jp-collaborator-color5: #45d4ff;
  --jp-collaborator-color6: #e2b1ff;
  --jp-collaborator-color7: #ff9de6;

  /* Vega extension styles */

  --jp-vega-background: white;

  /* Sidebar-related styles */

  --jp-sidebar-min-width: 250px;

  /* Search-related styles */

  --jp-search-toggle-off-opacity: 0.5;
  --jp-search-toggle-hover-opacity: 0.8;
  --jp-search-toggle-on-opacity: 1;
  --jp-search-selected-match-background-color: rgb(245, 200, 0);
  --jp-search-selected-match-color: black;
  --jp-search-unselected-match-background-color: var(
    --jp-inverse-layout-color0
  );
  --jp-search-unselected-match-color: var(--jp-ui-inverse-font-color0);

  /* Icon colors that work well with light or dark backgrounds */
  --jp-icon-contrast-color0: var(--md-purple-600);
  --jp-icon-contrast-color1: var(--md-green-600);
  --jp-icon-contrast-color2: var(--md-pink-600);
  --jp-icon-contrast-color3: var(--md-blue-600);

  /* Button colors */
  --jp-accept-color-normal: var(--md-blue-700);
  --jp-accept-color-hover: var(--md-blue-800);
  --jp-accept-color-active: var(--md-blue-900);
  --jp-warn-color-normal: var(--md-red-700);
  --jp-warn-color-hover: var(--md-red-800);
  --jp-warn-color-active: var(--md-red-900);
  --jp-reject-color-normal: var(--md-grey-600);
  --jp-reject-color-hover: var(--md-grey-700);
  --jp-reject-color-active: var(--md-grey-800);

  /* File or activity icons and switch semantic variables */
  --jp-jupyter-icon-color: #f37626;
  --jp-notebook-icon-color: #f37626;
  --jp-json-icon-color: var(--md-orange-700);
  --jp-console-icon-background-color: var(--md-blue-700);
  --jp-console-icon-color: white;
  --jp-terminal-icon-background-color: var(--md-grey-800);
  --jp-terminal-icon-color: var(--md-grey-200);
  --jp-text-editor-icon-color: var(--md-grey-700);
  --jp-inspector-icon-color: var(--md-grey-700);
  --jp-switch-color: var(--md-grey-400);
  --jp-switch-true-position-color: var(--md-orange-900);
}
</style>
<style type="text/css">
/* Force rendering true colors when outputing to pdf */
* {
  -webkit-print-color-adjust: exact;
}

/* Misc */
a.anchor-link {
  display: none;
}

/* Input area styling */
.jp-InputArea {
  overflow: hidden;
}

.jp-InputArea-editor {
  overflow: hidden;
}

.cm-editor.cm-s-jupyter .highlight pre {
/* weird, but --jp-code-padding defined to be 5px but 4px horizontal padding is hardcoded for pre.cm-line */
  padding: var(--jp-code-padding) 4px;
  margin: 0;

  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;

}

.jp-OutputArea-output pre {
  line-height: inherit;
  font-family: inherit;
}

.jp-RenderedText pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
}

/* Hiding the collapser by default */
.jp-Collapser {
  display: none;
}

@page {
    margin: 0.5in; /* Margin for each printed piece of paper */
}

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}
</style>
<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"> </script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                messageStyle: 'none',
                CommonHTML: {
                    linebreaks: {
                    automatic: true
                    }
                }
            });

            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
<!-- End of mathjax configuration --><script type="module">
  document.addEventListener("DOMContentLoaded", async () => {
    const diagrams = document.querySelectorAll(".jp-Mermaid > pre.mermaid");
    // do not load mermaidjs if not needed
    if (!diagrams.length) {
      return;
    }
    const mermaid = (await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs")).default;
    const parser = new DOMParser();

    mermaid.initialize({
      maxTextSize: 100000,
      maxEdges: 100000,
      startOnLoad: false,
      fontFamily: window
        .getComputedStyle(document.body)
        .getPropertyValue("--jp-ui-font-family"),
      theme: document.querySelector("body[data-jp-theme-light='true']")
        ? "default"
        : "dark",
    });

    let _nextMermaidId = 0;

    function makeMermaidImage(svg) {
      const img = document.createElement("img");
      const doc = parser.parseFromString(svg, "image/svg+xml");
      const svgEl = doc.querySelector("svg");
      const { maxWidth } = svgEl?.style || {};
      const firstTitle = doc.querySelector("title");
      const firstDesc = doc.querySelector("desc");

      img.setAttribute("src", `data:image/svg+xml,${encodeURIComponent(svg)}`);
      if (maxWidth) {
        img.width = parseInt(maxWidth);
      }
      if (firstTitle) {
        img.setAttribute("alt", firstTitle.textContent);
      }
      if (firstDesc) {
        const caption = document.createElement("figcaption");
        caption.className = "sr-only";
        caption.textContent = firstDesc.textContent;
        return [img, caption];
      }
      return [img];
    }

    async function makeMermaidError(text) {
      let errorMessage = "";
      try {
        await mermaid.parse(text);
      } catch (err) {
        errorMessage = `${err}`;
      }

      const result = document.createElement("details");
      result.className = 'jp-RenderedMermaid-Details';
      const summary = document.createElement("summary");
      summary.className = 'jp-RenderedMermaid-Summary';
      const pre = document.createElement("pre");
      const code = document.createElement("code");
      code.innerText = text;
      pre.appendChild(code);
      summary.appendChild(pre);
      result.appendChild(summary);

      const warning = document.createElement("pre");
      warning.innerText = errorMessage;
      result.appendChild(warning);
      return [result];
    }

    async function renderOneMarmaid(src) {
      const id = `jp-mermaid-${_nextMermaidId++}`;
      const parent = src.parentNode;
      let raw = src.textContent.trim();
      const el = document.createElement("div");
      el.style.visibility = "hidden";
      document.body.appendChild(el);
      let results = null;
      let output = null;
      try {
        let { svg } = await mermaid.render(id, raw, el);
        svg = cleanMermaidSvg(svg);
        results = makeMermaidImage(svg);
        output = document.createElement("figure");
        results.map(output.appendChild, output);
      } catch (err) {
        parent.classList.add("jp-mod-warning");
        results = await makeMermaidError(raw);
        output = results[0];
      } finally {
        el.remove();
      }
      parent.classList.add("jp-RenderedMermaid");
      parent.appendChild(output);
    }


    /**
     * Post-process to ensure mermaid diagrams contain only valid SVG and XHTML.
     */
    function cleanMermaidSvg(svg) {
      return svg.replace(RE_VOID_ELEMENT, replaceVoidElement);
    }


    /**
     * A regular expression for all void elements, which may include attributes and
     * a slash.
     *
     * @see https://developer.mozilla.org/en-US/docs/Glossary/Void_element
     *
     * Of these, only `<br>` is generated by Mermaid in place of `\n`,
     * but _any_ "malformed" tag will break the SVG rendering entirely.
     */
    const RE_VOID_ELEMENT =
      /<\s*(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)\s*([^>]*?)\s*>/gi;

    /**
     * Ensure a void element is closed with a slash, preserving any attributes.
     */
    function replaceVoidElement(match, tag, rest) {
      rest = rest.trim();
      if (!rest.endsWith('/')) {
        rest = `${rest} /`;
      }
      return `<${tag} ${rest}>`;
    }

    void Promise.all([...diagrams].map(renderOneMarmaid));
  });
</script>
<style>
  .jp-Mermaid:not(.jp-RenderedMermaid) {
    display: none;
  }

  .jp-RenderedMermaid {
    overflow: auto;
    display: flex;
  }

  .jp-RenderedMermaid.jp-mod-warning {
    width: auto;
    padding: 0.5em;
    margin-top: 0.5em;
    border: var(--jp-border-width) solid var(--jp-warn-color2);
    border-radius: var(--jp-border-radius);
    color: var(--jp-ui-font-color1);
    font-size: var(--jp-ui-font-size1);
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .jp-RenderedMermaid figure {
    margin: 0;
    overflow: auto;
    max-width: 100%;
  }

  .jp-RenderedMermaid img {
    max-width: 100%;
  }

  .jp-RenderedMermaid-Details > pre {
    margin-top: 1em;
  }

  .jp-RenderedMermaid-Summary {
    color: var(--jp-warn-color2);
  }

  .jp-RenderedMermaid:not(.jp-mod-warning) pre {
    display: none;
  }

  .jp-RenderedMermaid-Summary > pre {
    display: inline-block;
    white-space: normal;
  }
</style>
<!-- End of mermaid configuration --></head>
<body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light">
<main>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Proyecto-3---Modelaci%C3%B3n">Proyecto 3 - Modelaci√≥n<a class="anchor-link" href="#Proyecto-3---Modelaci%C3%B3n">¬∂</a></h2><p><strong>Integrantes:</strong></p>
<ul>
<li>Ruth de Le√≥n, 22428</li>
<li>H√©ctor Penedo, 22217</li>
<li>Rodrigo Mansilla, 22611</li>
</ul>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Variable-Respuesta">Variable Respuesta<a class="anchor-link" href="#Variable-Respuesta">¬∂</a></h2>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Se selecciona como variable de respuesta Caudef, que corresponde al c√≥digo CIE-10 de la causa de defunci√≥n. Esta variable es categ√≥rica multinivel ‚Äìcada c√≥digo CIE-10 representa una clase distinta‚Äì y refleja directamente el desenlace de inter√©s, permitiendo analizar la asociaci√≥n entre cada causa de muerte y factores socioecon√≥micos o geogr√°ficos.</p>
<p><strong>Partici√≥n del conjunto de datos</strong></p>
<p>Con 1 008 732 registros y 66 variables, se implementa un muestreo estratificado sobre Caudef: 70 % de los casos se destina al conjunto de entrenamiento y 30 % al de prueba. La distribuci√≥n de clases presenta una cola larga: las cinco causas m√°s frecuentes (I219: 7,13 %; J189: 5,41 %; E149: 3,67 %; R98X: 3,29 %; X599: 3,12 %) suman apenas el 22,6 % del total, mientras que el 77,4 % restante se reparte en miles de c√≥digos con muy baja frecuencia, evidenciando un desequilibrio severo de clases.</p>
<p><strong>Limpieza y reducci√≥n de dimensionalidad</strong>
Para abordar la alta dimensionalidad y los valores err√≥neos:</p>
<ul>
<li><p>Se marcan como NA los valores ‚Äú999‚Äù, ‚Äú9999‚Äù o negativos en variables num√©ricas (edad, a√±o, etc.).</p>
</li>
<li><p>Se imputan las variables num√©ricas con la mediana y las categ√≥ricas con la moda.</p>
</li>
<li><p>Se eliminan aquellas variables con m√°s del 80 % de valores faltantes o con varianza pr√°cticamente nula.</p>
</li>
</ul>
<p><strong>Codificaci√≥n y agrupamiento</strong></p>
<ul>
<li><p>Las variables num√©ricas se normalizan (centrado y escala).</p>
</li>
<li><p>Las variables categ√≥ricas se transforman mediante one-hot encoding.</p>
</li>
<li><p>Se agrupan las categor√≠as de baja frecuencia (por ejemplo, municipios con menos del 1 % de observaciones) bajo la etiqueta ‚ÄúOtros‚Äù para evitar alta cardinalidad.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Preprocesamiento-de-datos">Preprocesamiento de datos<a class="anchor-link" href="#Preprocesamiento-de-datos">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[1]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 0. IMPORTS Y RUTAS</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">StratifiedShuffleSplit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">OneHotEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.compose</span><span class="w"> </span><span class="kn">import</span> <span class="n">ColumnTransformer</span>

<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering"</span>
<span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s2">"data"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Carga-y-Eliminaci%C3%B3n-de-variables-con-observaciones-nulas">Carga y Eliminaci√≥n de variables con observaciones nulas<a class="anchor-link" href="#Carga-y-Eliminaci%C3%B3n-de-variables-con-observaciones-nulas">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[2]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering"</span>
<span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s2">"data"</span><span class="p">)</span>

<span class="c1"># 1. CARGAR DATOS</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATA_DIR</span><span class="p">,</span> <span class="s2">"master.csv"</span><span class="p">))</span>
<span class="n">X_raw</span>   <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">"Caudef"</span><span class="p">)</span>
<span class="n">y_raw</span>   <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Caudef"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>   <span class="c1"># homog√©neo como string</span>

<span class="c1"># 2. AGRUPAR CLASES RARAS EN y</span>
<span class="n">min_count</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">vc</span>        <span class="o">=</span> <span class="n">y_raw</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">raras</span>     <span class="o">=</span> <span class="n">vc</span><span class="p">[</span><span class="n">vc</span> <span class="o">&lt;</span> <span class="n">min_count</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">y</span>         <span class="o">=</span> <span class="n">y_raw</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">raras</span><span class="p">,</span> <span class="s2">"Otros"</span><span class="p">)</span>

<span class="c1"># 2.1 DEFINIR RANGOS DE CAP√çTULOS ICD-10</span>
<span class="n">icd_ranges</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">"A00"</span><span class="p">,</span><span class="s2">"B99"</span><span class="p">,</span><span class="s2">"CIERTAS ENFERMEDADES INFECCIOSAS Y PARASITARIAS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"C00"</span><span class="p">,</span><span class="s2">"D48"</span><span class="p">,</span><span class="s2">"NEOPLASIAS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"D50"</span><span class="p">,</span><span class="s2">"D89"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DE LA SANGRE Y √ìRGANOS HEMATOPOY√âTICOS Y CIERTOS TRASTORNOS QUE AFECTAN AL MECANISMO INMUNOL√ìGICO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"E00"</span><span class="p">,</span><span class="s2">"E89"</span><span class="p">,</span><span class="s2">"ENFERMEDADES ENDOCRINAS, NUTRICIONALES Y METAB√ìLICAS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"F01"</span><span class="p">,</span><span class="s2">"F99"</span><span class="p">,</span><span class="s2">"TRASTORNOS MENTALES, DEL COMPORTAMIENTO Y DEL DESARROLLO NEUROL√ìGICO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"G00"</span><span class="p">,</span><span class="s2">"G99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL SISTEMA NERVIOSO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"H00"</span><span class="p">,</span><span class="s2">"H59"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL OJO Y SUS ANEXOS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"H60"</span><span class="p">,</span><span class="s2">"H95"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL O√çDO Y DE LA AP√ìFISIS MASTOIDES"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"I00"</span><span class="p">,</span><span class="s2">"I99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL APARATO CIRCULATORIO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"J00"</span><span class="p">,</span><span class="s2">"J99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL APARATO RESPIRATORIO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"K00"</span><span class="p">,</span><span class="s2">"K95"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL APARATO DIGESTIVO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"L00"</span><span class="p">,</span><span class="s2">"L99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DE LA PIEL Y DEL TEJIDO SUBCUT√ÅNEO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"M00"</span><span class="p">,</span><span class="s2">"M99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL APARATO MUSCULOESQUEL√âTICO Y DEL TEJIDO CONECTIVO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"N00"</span><span class="p">,</span><span class="s2">"N99"</span><span class="p">,</span><span class="s2">"ENFERMEDADES DEL APARATO GENITOURINARIO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"O00"</span><span class="p">,</span><span class="s2">"O9A"</span><span class="p">,</span><span class="s2">"EMBARAZO, PARTO Y PUERPERIO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"P00"</span><span class="p">,</span><span class="s2">"P96"</span><span class="p">,</span><span class="s2">"CIERTAS AFECCIONES ORIGINADAS EN EL PER√çODO PERINATAL"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"Q00"</span><span class="p">,</span><span class="s2">"Q99"</span><span class="p">,</span><span class="s2">"MALFORMACIONES CONG√âNITAS, DEFORMIDADES Y ANOMAL√çAS CROMOS√ìMICAS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"R00"</span><span class="p">,</span><span class="s2">"R99"</span><span class="p">,</span><span class="s2">"S√çNTOMAS, SIGNOS Y RESULTADOS ANORMALES DE PRUEBAS COMPLEMENTARIAS, NO CLASIFICADOS BAJO OTRO CONCEPTO"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"S00"</span><span class="p">,</span><span class="s2">"T88"</span><span class="p">,</span><span class="s2">"LESIONES TRAUM√ÅTICAS, ENVENENAMIENTOS Y OTRAS CONSECUENCIAS DE CAUSAS EXTERNAS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"V00"</span><span class="p">,</span><span class="s2">"Y99"</span><span class="p">,</span><span class="s2">"CAUSAS EXTERNAS DE MORBILIDAD"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"Z00"</span><span class="p">,</span><span class="s2">"Z99"</span><span class="p">,</span><span class="s2">"FACTORES QUE INFLUYEN EN EL ESTADO DE SALUD Y CONTACTO CON LOS SERVICIOS SANITARIOS"</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"U00"</span><span class="p">,</span><span class="s2">"U85"</span><span class="p">,</span><span class="s2">"C√ìDIGOS PARA PR√ìPOSITOS ESPECIALES"</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">parse_letter_num</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Extrae (letra, n√∫mero) de un c√≥digo tipo 'I21', ignorando sufijos."""</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^([A-Z])(\d+)"</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">m</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">map_icd_group</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Mapea un c√≥digo CIE-10 al label de su rango."""</span>
    <span class="n">let</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="n">parse_letter_num</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">let</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"Otros"</span>
    <span class="k">for</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">icd_ranges</span><span class="p">:</span>
        <span class="n">s_let</span><span class="p">,</span> <span class="n">s_num</span> <span class="o">=</span> <span class="n">parse_letter_num</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
        <span class="n">e_let</span><span class="p">,</span> <span class="n">e_num</span> <span class="o">=</span> <span class="n">parse_letter_num</span><span class="p">(</span><span class="n">end</span><span class="p">)</span>
        <span class="c1"># letra fuera de rango</span>
        <span class="k">if</span> <span class="n">let</span> <span class="o">&lt;</span> <span class="n">s_let</span> <span class="ow">or</span> <span class="n">let</span> <span class="o">&gt;</span> <span class="n">e_let</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># caso mismo cap√≠tulo (p.ej. O00‚ÄìO9A)</span>
        <span class="k">if</span> <span class="n">s_let</span> <span class="o">==</span> <span class="n">e_let</span> <span class="o">==</span> <span class="n">let</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">label</span>
        <span class="c1"># l√≠mite inferior</span>
        <span class="k">if</span> <span class="n">let</span> <span class="o">==</span> <span class="n">s_let</span> <span class="ow">and</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="n">s_num</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># l√≠mite superior</span>
        <span class="k">if</span> <span class="n">let</span> <span class="o">==</span> <span class="n">e_let</span> <span class="ow">and</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="n">e_num</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="c1"># dentro de rango</span>
        <span class="k">return</span> <span class="n">label</span>
    <span class="k">return</span> <span class="s2">"Otros"</span>

<span class="c1"># 2.2 CREAR la columna icd_group</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span>      <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Caudef"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">map_icd_group</span><span class="p">)</span>
<span class="n">X_raw</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span>


<span class="c1"># A partir de aqu√≠, prosigue con tu train_test_split y pipelines,</span>
<span class="c1"># incluyendo "icd_group" en categorical_features.</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>C:\Users\rodri\AppData\Local\Temp\ipykernel_25344\2780205611.py:9: DtypeWarning: Columns (15,29,33,34,35,52,53,54,60,62) have mixed types. Specify dtype option on import or set low_memory=False.
  df = pd.read_csv(os.path.join(DATA_DIR, "master.csv"))
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Partici%C3%B3n-estratificada-70%E2%80%89/%E2%80%8930">Partici√≥n estratificada 70‚Äâ/‚Äâ30<a class="anchor-link" href="#Partici%C3%B3n-estratificada-70%E2%80%89/%E2%80%8930">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 3. SPLIT ESTRATIFICADO 70/30</span>
<span class="n">RANDOM_STATE</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_raw</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
    <span class="n">test_size</span><span class="o">=</span><span class="mf">0.30</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span>
<span class="p">)</span>

<span class="c1"># 4. IDENTIFICAR VARIABLES</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">'number'</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">categorical_features</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">'object'</span><span class="p">,</span><span class="s1">'category'</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Asegurarnos de incluir "icd_group" en las categ√≥ricas</span>
<span class="k">if</span> <span class="s2">"icd_group"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">categorical_features</span><span class="p">:</span>
    <span class="n">categorical_features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"icd_group"</span><span class="p">)</span>

<span class="c1"># 4.1 Forzar todas las categ√≥ricas a str</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_features</span><span class="p">:</span>
    <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># 5. AGRUPAR NIVELES CATEG√ìRICOS RAROS (&lt;1% en TRAIN) EN "Otros"</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_features</span><span class="p">:</span>
    <span class="n">freqs</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">rares</span> <span class="o">=</span> <span class="n">freqs</span><span class="p">[</span><span class="n">freqs</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">rares</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="s2">"Otros"</span><span class="p">)</span>
    <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">rares</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="s2">"Otros"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Definici%C3%B3n-de-pipelines-de-preprocesamiento">Definici√≥n de pipelines de preprocesamiento<a class="anchor-link" href="#Definici%C3%B3n-de-pipelines-de-preprocesamiento">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[¬†]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">num_pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'median'</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">'scaler'</span> <span class="p">,</span> <span class="n">StandardScaler</span><span class="p">())</span>
<span class="p">])</span>
<span class="n">cat_pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'most_frequent'</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">'onehot'</span> <span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">'ignore'</span><span class="p">,</span> <span class="n">sparse_output</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="p">])</span>

<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'num'</span><span class="p">,</span> <span class="n">num_pipeline</span><span class="p">,</span> <span class="n">numeric_features</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'cat'</span><span class="p">,</span> <span class="n">cat_pipeline</span><span class="p">,</span> <span class="n">categorical_features</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 7</span>
<span class="ansi-green-fg">      4</span> cat_feats        = [c <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> c <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> cat_feats <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> c <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> (<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Caudef</span><span class="ansi-yellow-fg">"</span>,<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">icd_group</span><span class="ansi-yellow-fg">"</span>)]
<span class="ansi-green-fg">      6</span> <span style="color: rgb(95,135,135)"># 2) Volver a definir el preprocesador de Nivel 1</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">7</span> num_pipe = <span class="ansi-yellow-bg">Pipeline</span>([
<span class="ansi-green-fg">      8</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">imputer</span><span class="ansi-yellow-fg">'</span>, SimpleImputer(strategy=<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">median</span><span class="ansi-yellow-fg">'</span>)),
<span class="ansi-green-fg">      9</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">scaler</span><span class="ansi-yellow-fg">'</span> , StandardScaler())
<span class="ansi-green-fg">     10</span> ])
<span class="ansi-green-fg">     11</span> cat_pipe = Pipeline([
<span class="ansi-green-fg">     12</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">imputer</span><span class="ansi-yellow-fg">'</span>, SimpleImputer(strategy=<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">most_frequent</span><span class="ansi-yellow-fg">'</span>)),
<span class="ansi-green-fg">     13</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">ohe</span><span class="ansi-yellow-fg">'</span>    , OneHotEncoder(handle_unknown=<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">ignore</span><span class="ansi-yellow-fg">'</span>, sparse_output=<span class="ansi-bold" style="color: rgb(0,135,0)">False</span>))
<span class="ansi-green-fg">     14</span> ])
<span class="ansi-green-fg">     15</span> preprocessor_lvl1 = ColumnTransformer([
<span class="ansi-green-fg">     16</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">num</span><span class="ansi-yellow-fg">'</span>, num_pipe, numeric_features),
<span class="ansi-green-fg">     17</span>     (<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">cat</span><span class="ansi-yellow-fg">'</span>, cat_pipe, cat_feats)
<span class="ansi-green-fg">     18</span> ])

<span class="ansi-red-fg">NameError</span>: name 'Pipeline' is not defined</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Ajuste-del-preprocesador-y-transformaci%C3%B3n-de-train/test">Ajuste del preprocesador y transformaci√≥n de train/test<a class="anchor-link" href="#Ajuste-del-preprocesador-y-transformaci%C3%B3n-de-train/test">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[5]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">X_train_prep</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_prep</span>  <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Reconstruir DataFrames con nombres de columnas</span>
<span class="n">ohe_cols</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">named_transformers_</span><span class="p">[</span><span class="s1">'cat'</span><span class="p">][</span><span class="s1">'onehot'</span><span class="p">]</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">(</span><span class="n">categorical_features</span><span class="p">)</span>
<span class="n">all_cols</span> <span class="o">=</span> <span class="n">numeric_features</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">ohe_cols</span><span class="p">)</span>
<span class="n">X_train_prep</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train_prep</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">all_cols</span><span class="p">)</span>
<span class="n">X_test_prep</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_test_prep</span><span class="p">,</span>  <span class="n">columns</span><span class="o">=</span><span class="n">all_cols</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Train preprocessed:"</span><span class="p">,</span> <span class="n">X_train_prep</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test  preprocessed:"</span><span class="p">,</span>  <span class="n">X_test_prep</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Train preprocessed: (706112, 256)
Test  preprocessed: (302620, 256)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Guardar-a-CSV-para-modelado-posterior">Guardar a CSV para modelado posterior<a class="anchor-link" href="#Guardar-a-CSV-para-modelado-posterior">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[6]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 8. GUARDAR CSVs</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATA_DIR</span><span class="p">,</span> <span class="s2">"train"</span><span class="p">)</span>
<span class="n">test_dir</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DATA_DIR</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">train_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">test_dir</span><span class="p">,</span>  <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ‚Äî‚Äî‚Äî Raw + target (incluye icd_group) ‚Äî‚Äî‚Äî</span>
<span class="n">raw_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">"Caudef"</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">raw_test</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_test</span><span class="p">,</span>  <span class="n">y_test</span> <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">"Caudef"</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">raw_train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">train_dir</span><span class="p">,</span> <span class="s2">"raw_train.csv"</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">raw_test</span> <span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">test_dir</span><span class="p">,</span>  <span class="s2">"raw_test.csv"</span><span class="p">),</span>  <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># ‚Äî‚Äî‚Äî Features preprocesados + target ‚Äî‚Äî‚Äî</span>
<span class="n">X_train_prep</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">train_dir</span><span class="p">,</span> <span class="s2">"X_train.csv"</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_train</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Caudef"</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">train_dir</span><span class="p">,</span> <span class="s2">"y_train.csv"</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">X_test_prep</span> <span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">test_dir</span><span class="p">,</span>  <span class="s2">"X_test.csv"</span><span class="p">),</span>  <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Caudef"</span><span class="p">)</span> <span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">test_dir</span><span class="p">,</span>  <span class="s2">"y_test.csv"</span><span class="p">),</span>  <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Archivos guardados en:"</span><span class="p">,</span> <span class="n">train_dir</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">,</span> <span class="n">test_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Archivos guardados en: C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train y C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\test
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[8]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n de icd_group en TEST:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_test</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Distribuci√≥n de icd_group en TEST:
icd_group
ENFERMEDADES DEL APARATO CIRCULATORIO                                                                             0.160393
CAUSAS EXTERNAS DE MORBILIDAD                                                                                     0.138256
ENFERMEDADES DEL APARATO RESPIRATORIO                                                                             0.104349
ENFERMEDADES ENDOCRINAS, NUTRICIONALES Y METAB√ìLICAS                                                              0.102997
S√çNTOMAS, SIGNOS Y RESULTADOS ANORMALES DE PRUEBAS COMPLEMENTARIAS, NO CLASIFICADOS BAJO OTRO CONCEPTO            0.102954
NEOPLASIAS                                                                                                        0.092809
ENFERMEDADES DEL APARATO DIGESTIVO                                                                                0.074562
CIERTAS ENFERMEDADES INFECCIOSAS Y PARASITARIAS                                                                   0.047674
ENFERMEDADES DEL APARATO GENITOURINARIO                                                                           0.040159
CIERTAS AFECCIONES ORIGINADAS EN EL PER√çODO PERINATAL                                                             0.033590
Otros                                                                                                             0.030431
C√ìDIGOS PARA PR√ìPOSITOS ESPECIALES                                                                                0.024367
ENFERMEDADES DEL SISTEMA NERVIOSO                                                                                 0.019097
MALFORMACIONES CONG√âNITAS, DEFORMIDADES Y ANOMAL√çAS CROMOS√ìMICAS                                                  0.014844
ENFERMEDADES DE LA SANGRE Y √ìRGANOS HEMATOPOY√âTICOS Y CIERTOS TRASTORNOS QUE AFECTAN AL MECANISMO INMUNOL√ìGICO    0.013519
Name: proportion, dtype: float64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Metodolog%C3%ADa-de-Modelado">Metodolog√≠a de Modelado<a class="anchor-link" href="#Metodolog%C3%ADa-de-Modelado">¬∂</a></h2><h3 id="Enfoque-Jer%C3%A1rquico-en-3-Niveles">Enfoque Jer√°rquico en 3 Niveles<a class="anchor-link" href="#Enfoque-Jer%C3%A1rquico-en-3-Niveles">¬∂</a></h3><ul>
<li><p>Nivel 1: Clasificar el cap√≠tulo ICD-10 (icd_group, 21 clases)</p>
</li>
<li><p>Nivel 2: Para cada cap√≠tulo, clasificar el subc√≥digo de Caudef (multiclase interna)</p>
</li>
<li><p>Nivel 3: Afinar dentro de los subc√≥digos de mayor inter√©s (p. ej. top 10 por frecuencia)</p>
</li>
</ul>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[¬†]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.compose</span><span class="w"> </span><span class="kn">import</span> <span class="n">ColumnTransformer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">OneHotEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.over_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMOTE</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.under_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomUnderSampler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span> <span class="k">as</span> <span class="n">ImbPipeline</span>

<span class="c1"># reproducibilidad</span>
<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># ‚Äî‚Äî‚Äî‚Äî‚Äî rutas ‚Äî‚Äî‚Äî‚Äî‚Äî</span>
<span class="n">PROJECT</span>   <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering"</span><span class="p">)</span>
<span class="n">DATA_DIR</span>  <span class="o">=</span> <span class="n">PROJECT</span> <span class="o">/</span> <span class="s2">"data"</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"train"</span>
<span class="n">test_dir</span>  <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"test"</span>

<span class="c1"># ‚Äî‚Äî‚Äî‚Äî‚Äî cargar preprocesados ‚Äî‚Äî‚Äî‚Äî‚Äî</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_X_y</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="n">fx</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">"X_*.csv"</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">fy</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">"y_*.csv"</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fx</span> <span class="ow">and</span> <span class="n">fy</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fx</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fy</span><span class="p">)[</span><span class="s2">"Caudef"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span>
    <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"No encontr√© X_*.csv y y_*.csv en </span><span class="si">{</span><span class="n">d</span><span class="si">!r}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">load_X_y</span><span class="p">(</span><span class="n">train_dir</span><span class="p">)</span>
<span class="n">X_test</span><span class="p">,</span>  <span class="n">y_test</span>  <span class="o">=</span> <span class="n">load_X_y</span><span class="p">(</span><span class="n">test_dir</span><span class="p">)</span>

<span class="c1"># ‚Äî‚Äî‚Äî‚Äî‚Äî cargar la jerarqu√≠a ‚Äî‚Äî‚Äî‚Äî‚Äî</span>
<span class="n">raw_train</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span><span class="o">/</span><span class="s2">"raw_train.csv"</span><span class="p">)</span>
<span class="n">raw_test</span>     <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span><span class="s2">"raw_test.csv"</span><span class="p">)</span>
<span class="n">y_group_train</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">y_group_test</span>  <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="s2">"icd_group"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># ‚Äî‚Äî‚Äî‚Äî‚Äî Agrupa clases peque√±as como "Otros" ‚Äî‚Äî‚Äî‚Äî‚Äî</span>
<span class="n">min_frac</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">clase_count</span> <span class="o">=</span> <span class="n">y_group_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">small_clases</span> <span class="o">=</span> <span class="n">clase_count</span><span class="p">[</span><span class="n">clase_count</span> <span class="o">&lt;</span> <span class="n">min_frac</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">y_group_train</span> <span class="o">=</span> <span class="n">y_group_train</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">small_clases</span><span class="p">,</span> <span class="s2">"Otros"</span><span class="p">)</span>
<span class="n">y_group_test</span>  <span class="o">=</span> <span class="n">y_group_test</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">small_clases</span><span class="p">,</span> <span class="s2">"Otros"</span><span class="p">)</span>

<span class="c1"># ‚Äî‚Äî‚Äî‚Äî‚Äî elimina columnas dummy de icd_group (si las hay) ‚Äî‚Äî‚Äî‚Äî‚Äî</span>
<span class="n">drop_cols</span>     <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"icd_group_"</span><span class="p">)]</span>
<span class="n">X_lvl1_train</span>  <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">drop_cols</span><span class="p">)</span>
<span class="n">X_lvl1_test</span>   <span class="o">=</span> <span class="n">X_test</span> <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">drop_cols</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"X_lvl1_train shape:"</span><span class="p">,</span> <span class="n">X_lvl1_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"X_lvl1_test  shape:"</span><span class="p">,</span> <span class="n">X_lvl1_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Muestreo-Estratificado">Muestreo Estratificado<a class="anchor-link" href="#Muestreo-Estratificado">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>

<span class="c1"># 1) Muestreo nivel 1: IC D group, sobre X_lvl1_train</span>
<span class="n">counts_grp</span>      <span class="o">=</span> <span class="n">y_group_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">rare_groups</span>     <span class="o">=</span> <span class="n">counts_grp</span><span class="p">[</span><span class="n">counts_grp</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">y_group_train_g</span> <span class="o">=</span> <span class="n">y_group_train</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">rare_groups</span><span class="p">,</span> <span class="s2">"Otros"</span><span class="p">)</span>

<span class="n">N_GROUP</span> <span class="o">=</span> <span class="mi">200000</span>
<span class="n">X_group_tune</span><span class="p">,</span> <span class="n">X_unused</span><span class="p">,</span> <span class="n">y_group_tune</span><span class="p">,</span> <span class="n">y_unused</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_lvl1_train</span><span class="p">,</span>        <span class="c1"># &lt;-- aqu√≠</span>
    <span class="n">y_group_train_g</span><span class="p">,</span>
    <span class="n">train_size</span>   <span class="o">=</span> <span class="n">N_GROUP</span><span class="p">,</span>
    <span class="n">stratify</span>     <span class="o">=</span> <span class="n">y_group_train_g</span><span class="p">,</span>
    <span class="n">random_state</span> <span class="o">=</span> <span class="n">RND</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Nivel 1 ‚Äì icd_group sample: </span><span class="si">{</span><span class="n">X_group_tune</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> filas"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n icd_group en tuning:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_group_tune</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>


<span class="c1"># 2) Muestreo nivel 2: para cada submodelo Caudef dentro de cada icd_group</span>
<span class="n">subsamples</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">grp</span> <span class="ow">in</span> <span class="n">y_group_tune</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="c1"># filtrar usando el index de X_lvl1_train / y_group_train</span>
    <span class="n">mask</span>   <span class="o">=</span> <span class="p">(</span><span class="n">y_group_train</span> <span class="o">==</span> <span class="n">grp</span><span class="p">)</span>
    <span class="n">X_grp</span>  <span class="o">=</span> <span class="n">X_lvl1_train</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="n">y_grp</span>  <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>      <span class="c1"># y_train queda igual</span>
    <span class="n">N_SUB</span>  <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_grp</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">N_SUB</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="n">counts</span> <span class="o">=</span> <span class="n">y_grp</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">counts</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">X_sub</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_sub</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
            <span class="n">X_grp</span><span class="p">,</span>
            <span class="n">y_grp</span><span class="p">,</span>
            <span class="n">train_size</span>   <span class="o">=</span> <span class="n">N_SUB</span><span class="p">,</span>
            <span class="n">stratify</span>     <span class="o">=</span> <span class="n">y_grp</span><span class="p">,</span>
            <span class="n">random_state</span> <span class="o">=</span> <span class="n">RND</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">idx</span>   <span class="o">=</span> <span class="n">y_grp</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">N_SUB</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
        <span class="n">X_sub</span> <span class="o">=</span> <span class="n">X_grp</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>   <span class="c1"># &lt;‚Äî selecciona filas por etiqueta de √≠ndice</span>
        <span class="n">y_sub</span> <span class="o">=</span> <span class="n">y_grp</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

        <span class="n">subsamples</span><span class="p">[</span><span class="n">grp</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">X_sub</span><span class="p">,</span> <span class="n">y_sub</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">grp</span><span class="si">}</span><span class="s2">: sub-sample </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">y_sub</span><span class="p">)</span><span class="si">}</span><span class="s2"> filas para tuning de Caudef"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Nivel 1 ‚Äì icd_group sample: 200000 filas
Distribuci√≥n icd_group en tuning:
icd_group
ENFERMEDADES DEL APARATO CIRCULATORIO                                                                     0.160415
CAUSAS EXTERNAS DE MORBILIDAD                                                                             0.138255
ENFERMEDADES DEL APARATO RESPIRATORIO                                                                     0.104360
ENFERMEDADES ENDOCRINAS, NUTRICIONALES Y METAB√ìLICAS                                                      0.103005
S√çNTOMAS, SIGNOS Y RESULTADOS ANORMALES DE PRUEBAS COMPLEMENTARIAS, NO CLASIFICADOS BAJO OTRO CONCEPTO    0.102945
Name: proportion, dtype: float64
Otros: sub-sample 2000 filas para tuning de Caudef
ENFERMEDADES ENDOCRINAS, NUTRICIONALES Y METAB√ìLICAS: sub-sample 2000 filas para tuning de Caudef
S√çNTOMAS, SIGNOS Y RESULTADOS ANORMALES DE PRUEBAS COMPLEMENTARIAS, NO CLASIFICADOS BAJO OTRO CONCEPTO: sub-sample 2000 filas para tuning de Caudef
ENFERMEDADES DEL APARATO DIGESTIVO: sub-sample 2000 filas para tuning de Caudef
CAUSAS EXTERNAS DE MORBILIDAD: sub-sample 2000 filas para tuning de Caudef
CIERTAS ENFERMEDADES INFECCIOSAS Y PARASITARIAS: sub-sample 2000 filas para tuning de Caudef
ENFERMEDADES DEL APARATO RESPIRATORIO: sub-sample 2000 filas para tuning de Caudef
NEOPLASIAS: sub-sample 2000 filas para tuning de Caudef
ENFERMEDADES DEL APARATO CIRCULATORIO: sub-sample 2000 filas para tuning de Caudef
CIERTAS AFECCIONES ORIGINADAS EN EL PER√çODO PERINATAL: sub-sample 2000 filas para tuning de Caudef
ENFERMEDADES DEL APARATO GENITOURINARIO: sub-sample 2000 filas para tuning de Caudef
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Agrupacion-de-Clases">Agrupacion de Clases<a class="anchor-link" href="#Agrupacion-de-Clases">¬∂</a></h3>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Modelado-con-Random-Forest">Modelado con Random Forest<a class="anchor-link" href="#Modelado-con-Random-Forest">¬∂</a></h2>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Modelo-1:-Base">Modelo 1: Base<a class="anchor-link" href="#Modelo-1:-Base">¬∂</a></h3>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Variables-cruzadas">Variables cruzadas<a class="anchor-link" href="#Variables-cruzadas">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[4]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.over_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMOTENC</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.under_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">TomekLinks</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">OneHotEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.compose</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_column_transformer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="c1"># 1. Crea variables cruzadas primero</span>
<span class="k">def</span><span class="w"> </span><span class="nf">make_demo_profile</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">120</span><span class="p">]</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"joven"</span><span class="p">,</span> <span class="s2">"adulto"</span><span class="p">,</span> <span class="s2">"mayor"</span><span class="p">,</span> <span class="s2">"muy_mayor"</span><span class="p">]</span>
    <span class="n">edad_grupo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Edadif'</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">edad_grupo</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sexo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Depreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">make_geo_profile</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Depreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Mupreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Mesreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">make_ocurrencia_profile</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Depocu'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Mupocu'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Mesocu'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">make_academico_profile</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sexo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Escodif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Puedif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="n">raw_train</span><span class="p">[</span><span class="s1">'perfil_demo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_demo_profile</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s1">'perfil_demo'</span><span class="p">]</span>  <span class="o">=</span> <span class="n">make_demo_profile</span><span class="p">(</span><span class="n">raw_test</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s1">'perfil_geo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_geo_profile</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s1">'perfil_geo'</span><span class="p">]</span>  <span class="o">=</span> <span class="n">make_geo_profile</span><span class="p">(</span><span class="n">raw_test</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s1">'perfil_ocurrencia'</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_ocurrencia_profile</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s1">'perfil_ocurrencia'</span><span class="p">]</span>  <span class="o">=</span> <span class="n">make_ocurrencia_profile</span><span class="p">(</span><span class="n">raw_test</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s1">'perfil_academico'</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_academico_profile</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s1">'perfil_academico'</span><span class="p">]</span>  <span class="o">=</span> <span class="n">make_academico_profile</span><span class="p">(</span><span class="n">raw_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[5]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Paso previo: Reducci√≥n de cardinalidad sobre todo train (¬°NUNCA test!)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">reduce_cardinality</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">other_label</span><span class="o">=</span><span class="s2">"Otros"</span><span class="p">):</span>
    <span class="n">top</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">top_n</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
    <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top</span><span class="p">),</span> <span class="n">other_label</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="n">cols_card</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Depreg'</span><span class="p">,</span> <span class="s1">'Mupreg'</span><span class="p">,</span> <span class="s1">'Mesreg'</span><span class="p">,</span> <span class="s1">'Depocu'</span><span class="p">,</span> <span class="s1">'Mupocu'</span><span class="p">,</span> <span class="s1">'Mesocu'</span><span class="p">,</span>
    <span class="s1">'Dnadif'</span><span class="p">,</span> <span class="s1">'Mnadif'</span><span class="p">,</span> <span class="s1">'Nacdif'</span><span class="p">,</span> <span class="s1">'Dredif'</span><span class="p">,</span> <span class="s1">'Mredif'</span><span class="p">,</span>
    <span class="s1">'perfil_demo'</span><span class="p">,</span> <span class="s1">'perfil_geo'</span><span class="p">,</span> <span class="s1">'perfil_ocurrencia'</span><span class="p">,</span> <span class="s1">'perfil_academico'</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols_card</span><span class="p">:</span>
    <span class="n">raw_train</span> <span class="o">=</span> <span class="n">reduce_cardinality</span><span class="p">(</span><span class="n">raw_train</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">raw_test</span>  <span class="o">=</span> <span class="n">reduce_cardinality</span><span class="p">(</span><span class="n">raw_test</span><span class="p">,</span>  <span class="n">col</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Solo para evitar errores, pero s√≥lo el fit sobre train</span>

<span class="c1"># Forzar todas las categ√≥ricas a string y sin NA float</span>
<span class="n">cat_feats</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Depreg'</span><span class="p">,</span> <span class="s1">'Mupreg'</span><span class="p">,</span> <span class="s1">'Mesreg'</span><span class="p">,</span> <span class="s1">'Depocu'</span><span class="p">,</span> <span class="s1">'Mupocu'</span><span class="p">,</span> <span class="s1">'Mesocu'</span><span class="p">,</span>
    <span class="s1">'Sexo'</span><span class="p">,</span> <span class="s1">'Perdif'</span><span class="p">,</span> <span class="s1">'Ecidif'</span><span class="p">,</span> <span class="s1">'Ocudif'</span><span class="p">,</span> <span class="s1">'Dnadif'</span><span class="p">,</span> <span class="s1">'Mnadif'</span><span class="p">,</span> <span class="s1">'Nacdif'</span><span class="p">,</span> <span class="s1">'Dredif'</span><span class="p">,</span> <span class="s1">'Mredif'</span><span class="p">,</span>
    <span class="s1">'Escodif'</span><span class="p">,</span> <span class="s1">'Puedif'</span><span class="p">,</span> <span class="s1">'Asist'</span><span class="p">,</span> <span class="s1">'Ocur'</span><span class="p">,</span> <span class="s1">'Cerdef'</span><span class="p">,</span>
    <span class="s1">'perfil_demo'</span><span class="p">,</span> <span class="s1">'perfil_geo'</span><span class="p">,</span> <span class="s1">'perfil_ocurrencia'</span><span class="p">,</span> <span class="s1">'perfil_academico'</span>
<span class="p">]</span>
<span class="n">cat_feats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">))</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cat_feats</span><span class="p">:</span>
    <span class="n">raw_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">'NA'</span><span class="p">)</span>
    <span class="n">raw_test</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>  <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">'NA'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Ingenieria-de-Car%C3%A1cteristicas">Ingenieria de Car√°cteristicas<a class="anchor-link" href="#Ingenieria-de-Car%C3%A1cteristicas">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[6]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Feature engineering para clases minoritarias y valores raros ---</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s2">"es_departamento_otros"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw_train</span><span class="p">[</span><span class="s2">"Depreg"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Otros"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s2">"es_departamento_otros"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw_test</span><span class="p">[</span><span class="s2">"Depreg"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Otros"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s2">"es_municipio_otros"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw_train</span><span class="p">[</span><span class="s2">"Mupreg"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Otros"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s2">"es_municipio_otros"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw_test</span><span class="p">[</span><span class="s2">"Mupreg"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Otros"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">mes_raros</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Otros"</span><span class="p">,</span> <span class="s2">"0nan"</span><span class="p">,</span> <span class="s2">"nan"</span><span class="p">,</span> <span class="s2">"NA"</span><span class="p">]</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s2">"mesreg_raro"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="s2">"Mesreg"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mes_raros</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s2">"mesreg_raro"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="s2">"Mesreg"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mes_raros</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s2">"mesocu_raro"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="s2">"Mesocu"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mes_raros</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s2">"mesocu_raro"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="s2">"Mesocu"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mes_raros</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"A√±oocu"</span><span class="p">,</span> <span class="s2">"Ocudif"</span><span class="p">]:</span>
    <span class="n">raw_train</span><span class="p">[</span><span class="sa">f</span><span class="s2">"falta_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">raw_test</span><span class="p">[</span><span class="sa">f</span><span class="s2">"falta_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_train</span><span class="p">[</span><span class="s2">"escolaridad_baja"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="s2">"Escodif"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Ninguno"</span><span class="p">,</span> <span class="s2">"B√°sica"</span><span class="p">,</span> <span class="s2">"Ignorado"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">raw_test</span><span class="p">[</span><span class="s2">"escolaridad_baja"</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_test</span><span class="p">[</span><span class="s2">"Escodif"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Ninguno"</span><span class="p">,</span> <span class="s2">"B√°sica"</span><span class="p">,</span> <span class="s2">"Ignorado"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="n">cat_feats</span> <span class="o">+=</span> <span class="p">[</span>
    <span class="s2">"es_departamento_otros"</span><span class="p">,</span> <span class="s2">"es_municipio_otros"</span><span class="p">,</span>
    <span class="s2">"mesreg_raro"</span><span class="p">,</span> <span class="s2">"mesocu_raro"</span><span class="p">,</span>
    <span class="s2">"falta_A√±oocu"</span><span class="p">,</span> <span class="s2">"falta_Ocudif"</span><span class="p">,</span>
    <span class="s2">"escolaridad_baja"</span>
<span class="p">]</span>
<span class="n">cat_feats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[7]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Definir num√©ricas, quitar a√±oocu si hay demasiados nulos ---</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Edadif'</span><span class="p">,</span> <span class="s1">'A√±oreg'</span><span class="p">,</span> <span class="s1">'A√±oocu'</span><span class="p">,</span> <span class="s1">'Diaocu'</span><span class="p">]</span>
<span class="k">if</span> <span class="s1">'A√±oocu'</span> <span class="ow">in</span> <span class="n">numeric_features</span> <span class="ow">and</span> <span class="n">raw_train</span><span class="p">[</span><span class="s1">'A√±oocu'</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
    <span class="n">numeric_features</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">'A√±oocu'</span><span class="p">)</span>

<span class="c1"># --- Imputaci√≥n y transformaci√≥n (SOLO se ajusta en TRAIN) ---</span>
<span class="n">num_pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'median'</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">'scaler'</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">())</span>
<span class="p">])</span>
<span class="n">cat_pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'most_frequent'</span><span class="p">))</span>
<span class="p">])</span>
<span class="n">preproc</span> <span class="o">=</span> <span class="n">make_column_transformer</span><span class="p">(</span>
    <span class="p">(</span><span class="n">num_pipe</span><span class="p">,</span> <span class="n">numeric_features</span><span class="p">),</span>
    <span class="p">(</span><span class="n">cat_pipe</span><span class="p">,</span> <span class="n">cat_feats</span><span class="p">),</span>
    <span class="n">remainder</span><span class="o">=</span><span class="s1">'drop'</span>
<span class="p">)</span>
<span class="n">preproc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>  <span class="c1"># SOLO AJUSTA CON TRAIN</span>

<span class="c1"># --- Transforma ambos sets ---</span>
<span class="n">X_train_proc</span> <span class="o">=</span> <span class="n">preproc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">raw_train</span><span class="p">)</span>
<span class="n">X_test_proc</span>  <span class="o">=</span> <span class="n">preproc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">raw_test</span><span class="p">)</span>
<span class="n">X_train_df</span>   <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">numeric_features</span> <span class="o">+</span> <span class="n">cat_feats</span><span class="p">)</span>
<span class="n">X_test_df</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_test_proc</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">numeric_features</span> <span class="o">+</span> <span class="n">cat_feats</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Balanceo-de-Clases">Balanceo de Clases<a class="anchor-link" href="#Balanceo-de-Clases">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[8]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Balanceo incremental SOLO en TRAIN ---</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_group_train</span><span class="o">.</span><span class="n">values</span>  <span class="c1"># O la variable target que uses</span>

<span class="n">conteos</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">umbral_min</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.03</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_train</span><span class="p">))</span>
<span class="n">clases_minoritarias</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">conteos</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">umbral_min</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">clases_mayoritarias</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">conteos</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">clases_minoritarias</span><span class="p">]</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clases_minoritarias</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">minor_idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clases_minoritarias</span><span class="p">]</span>
    <span class="n">major_idx</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clases_mayoritarias</span><span class="p">]</span>

    <span class="n">X_minor</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">minor_idx</span><span class="p">]</span>
    <span class="n">y_minor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_train</span><span class="p">)[</span><span class="n">minor_idx</span><span class="p">]</span>
    <span class="n">X_major</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">major_idx</span><span class="p">]</span>
    <span class="n">y_major</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_train</span><span class="p">)[</span><span class="n">major_idx</span><span class="p">]</span>

    <span class="n">cat_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">X_train_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cat_feats</span><span class="p">]</span>
    <span class="n">smotenc_minor</span> <span class="o">=</span> <span class="n">SMOTENC</span><span class="p">(</span>
        <span class="n">categorical_features</span><span class="o">=</span><span class="n">cat_indices</span><span class="p">,</span>
        <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
        <span class="n">sampling_strategy</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">,</span>
        <span class="n">k_neighbors</span><span class="o">=</span><span class="mi">3</span>
    <span class="p">)</span>
    <span class="n">X_bal_minor</span><span class="p">,</span> <span class="n">y_bal_minor</span> <span class="o">=</span> <span class="n">smotenc_minor</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X_minor</span><span class="p">,</span> <span class="n">y_minor</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Antes balanceo minoritarias:"</span><span class="p">,</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y_minor</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Despu√©s balanceo minoritarias:"</span><span class="p">,</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y_bal_minor</span><span class="p">))</span>

    <span class="n">X_final_prep</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">X_bal_minor</span><span class="p">,</span> <span class="n">X_major</span><span class="p">])</span>
    <span class="n">y_final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">y_bal_minor</span><span class="p">,</span> <span class="n">y_major</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"No hay suficientes clases minoritarias, se usar√° el conjunto original."</span><span class="p">)</span>
    <span class="n">X_final_prep</span> <span class="o">=</span> <span class="n">X_train_proc</span>
    <span class="n">y_final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>

<span class="c1"># --- OHE despu√©s de SMOTENC, usando float32 ---</span>
<span class="n">ohe</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">'ignore'</span><span class="p">,</span> <span class="n">sparse_output</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">X_cat_ohe</span> <span class="o">=</span> <span class="n">ohe</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_final_prep</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">numeric_features</span> <span class="o">+</span> <span class="n">cat_feats</span><span class="p">)[</span><span class="n">cat_feats</span><span class="p">])</span>
<span class="n">X_final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_final_prep</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">numeric_features</span> <span class="o">+</span> <span class="n">cat_feats</span><span class="p">)[</span><span class="n">numeric_features</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">X_cat_ohe</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># --- Aplica TomekLinks para limpiar bordes entre clases ---</span>
<span class="n">tomek</span> <span class="o">=</span> <span class="n">TomekLinks</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="s1">'auto'</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">X_final_tl</span><span class="p">,</span> <span class="n">y_final_tl</span> <span class="o">=</span> <span class="n">tomek</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X_final</span><span class="p">,</span> <span class="n">y_final</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Final balanced (incremental) + TomekLinks shapes:"</span><span class="p">,</span> <span class="n">X_final_tl</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_final_tl</span><span class="p">))</span>

<span class="c1"># --- Usa ohe.transform para transformar el test set ---</span>
<span class="n">X_test_cat</span> <span class="o">=</span> <span class="n">ohe</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test_df</span><span class="p">[</span><span class="n">cat_feats</span><span class="p">])</span>
<span class="n">X_test_num</span> <span class="o">=</span> <span class="n">X_test_df</span><span class="p">[</span><span class="n">numeric_features</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">X_test_final</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">X_test_num</span><span class="p">,</span> <span class="n">X_test_cat</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>No hay suficientes clases minoritarias, se usar√° el conjunto original.
Final balanced (incremental) + TomekLinks shapes: (464333, 214) 464333
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[14]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">PROJECT</span>   <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering"</span><span class="p">)</span>
<span class="n">DATA_DIR</span>  <span class="o">=</span> <span class="n">PROJECT</span> <span class="o">/</span> <span class="s2">"data"</span>
<span class="n">train_out</span> <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"train"</span>
<span class="n">test_out</span>  <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"test"</span>

<span class="c1"># Sup√≥n que tienes numeric_features y cat_feats definidos</span>
<span class="n">ohe_feature_names</span> <span class="o">=</span> <span class="n">ohe</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">)</span>
<span class="n">all_feature_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">ohe_feature_names</span><span class="p">)</span>

<span class="c1"># Procesados finales a DataFrame con columnas</span>
<span class="n">X_train_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_final_tl</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">all_feature_names</span><span class="p">)</span>
<span class="n">y_train_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'target'</span><span class="p">:</span> <span class="n">y_final_tl</span><span class="p">})</span>

<span class="n">X_test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_test_final</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">all_feature_names</span><span class="p">)</span>
<span class="n">y_test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'target'</span><span class="p">:</span> <span class="n">y_test</span><span class="p">})</span>

<span class="c1"># Guarda en CSV</span>
<span class="n">X_train_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_train_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">X_test_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"X_test_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_test_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"y_test_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Agrupacion-de-C%C3%A1pitulos">Agrupacion de C√°pitulos<a class="anchor-link" href="#Agrupacion-de-C%C3%A1pitulos">¬∂</a></h3>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Define los paths</span>
<span class="n">PROJECT</span>   <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering"</span><span class="p">)</span>
<span class="n">DATA_DIR</span>  <span class="o">=</span> <span class="n">PROJECT</span> <span class="o">/</span> <span class="s2">"data"</span>
<span class="n">train_out</span> <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"train"</span>
<span class="n">test_out</span>  <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">"test"</span>

<span class="c1"># Carga los archivos procesados</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_processed.csv"</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_processed.csv"</span><span class="p">)</span>
<span class="n">X_test</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"X_test_processed.csv"</span><span class="p">)</span>
<span class="n">y_test</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"y_test_processed.csv"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[¬†]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>

<span class="c1"># Carga los datos preprocesados</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_processed.csv"</span><span class="p">)</span>   <span class="c1"># Usa TODO el conjunto disponible (antes del split anterior)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_processed.csv"</span><span class="p">)</span>

<span class="c1"># Aplica mapping de macrogrupo</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cie10_to_macrogrupo</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"A00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"B99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"INFECCIOSAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"C00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"N99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"CR√ìNICAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"O00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Q99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"R00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"R99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"S√çNTOMAS/SIGNOS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"S00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Y99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"OTROS"</span>

<span class="n">y</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="s1">'target'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cie10_to_macrogrupo</span><span class="p">)</span>

<span class="c1"># Repite el split hasta asegurar presencia de todas las clases en train y test</span>
<span class="k">for</span> <span class="n">intento</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
        <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> 
        <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> 
        <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span>
        <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span> <span class="o">+</span> <span class="n">intento</span>
    <span class="p">)</span>
    <span class="n">train_classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">test_classes</span>  <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">train_classes</span> <span class="o">==</span> <span class="n">test_classes</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Split correcto en intento </span><span class="si">{</span><span class="n">intento</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Split fallido: train tiene </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">train_classes</span><span class="p">)</span><span class="si">}</span><span class="s2">, test tiene </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">test_classes</span><span class="p">)</span><span class="si">}</span><span class="s2"> clases."</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"¬°Advertencia! No se logr√≥ asegurar todas las clases en ambos sets tras 10 intentos."</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n en TRAIN:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n en TEST:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Conteo absoluto TRAIN:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Conteo absoluto TEST:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># Guarda los splits para downstream</span>
<span class="n">X_train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">X_test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"X_test_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"y_test_processed.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Split correcto en intento 1

Distribuci√≥n en TRAIN:
macrogrupo
CR√ìNICAS                    0.741
TRAUMA/CAUSAS EXTERNAS      0.102
OTROS                       0.084
PERINATAL/MALFORMACIONES    0.074
Name: proportion, dtype: float64

Distribuci√≥n en TEST:
macrogrupo
CR√ìNICAS                    0.741
TRAUMA/CAUSAS EXTERNAS      0.102
OTROS                       0.084
PERINATAL/MALFORMACIONES    0.074
Name: proportion, dtype: float64

Conteo absoluto TRAIN:
macrogrupo
CR√ìNICAS                    168580
TRAUMA/CAUSAS EXTERNAS       23118
OTROS                        19091
PERINATAL/MALFORMACIONES     16734
Name: count, dtype: int64

Conteo absoluto TEST:
macrogrupo
CR√ìNICAS                    72249
TRAUMA/CAUSAS EXTERNAS       9907
OTROS                        8182
PERINATAL/MALFORMACIONES     7172
Name: count, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[2]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span><span class="p">,</span> <span class="n">shuffle</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># === Par√°metros de balanceo ===</span>
<span class="n">factor_mayor</span> <span class="o">=</span> <span class="mf">0.6</span>  <span class="c1"># % de la mayoritaria a dejar</span>
<span class="n">factor_minor</span> <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># % relativo para las minoritarias</span>

<span class="c1"># === Paths de guardado ===</span>
<span class="n">train_out</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>  <span class="c1"># Ajusta si tu ruta es diferente</span>

<span class="c1"># === 1. Encuentra la clase mayoritaria ===</span>
<span class="n">mayor_clase</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
<span class="n">n_mayor_original</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="n">mayor_clase</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">n_mayor_final</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_mayor_original</span> <span class="o">*</span> <span class="n">factor_mayor</span><span class="p">)</span>

<span class="c1"># === 2. Undersample de la mayoritaria ===</span>
<span class="n">mask_mayor</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="n">mayor_clase</span><span class="p">)</span>
<span class="n">X_mayor</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">mask_mayor</span><span class="p">]</span>
<span class="n">y_mayor</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">mask_mayor</span><span class="p">]</span>
<span class="n">X_mayor_down</span><span class="p">,</span> <span class="n">y_mayor_down</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
    <span class="n">X_mayor</span><span class="p">,</span> <span class="n">y_mayor</span><span class="p">,</span>
    <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="o">=</span><span class="n">n_mayor_final</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
<span class="p">)</span>

<span class="c1"># === 3. Oversample minoritarias ===</span>
<span class="n">X_minor_list</span><span class="p">,</span> <span class="n">y_minor_list</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">clase</span><span class="p">,</span> <span class="n">n_clase</span> <span class="ow">in</span> <span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">clase</span> <span class="o">==</span> <span class="n">mayor_clase</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_train</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="n">clase</span><span class="p">)</span>
    <span class="n">X_c</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="n">y_c</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="n">n_target</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">n_clase</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_mayor_final</span> <span class="o">*</span> <span class="n">factor_minor</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">n_clase</span> <span class="o">&lt;</span> <span class="n">n_target</span><span class="p">:</span>
        <span class="n">X_c_res</span><span class="p">,</span> <span class="n">y_c_res</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
            <span class="n">X_c</span><span class="p">,</span> <span class="n">y_c</span><span class="p">,</span>
            <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">n_samples</span><span class="o">=</span><span class="n">n_target</span><span class="p">,</span>
            <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">X_c_res</span><span class="p">,</span> <span class="n">y_c_res</span> <span class="o">=</span> <span class="n">X_c</span><span class="p">,</span> <span class="n">y_c</span>
    <span class="n">X_minor_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X_c_res</span><span class="p">)</span>
    <span class="n">y_minor_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_c_res</span><span class="p">)</span>

<span class="c1"># === 4. Une y baraja ===</span>
<span class="n">X_balanced</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_mayor_down</span><span class="p">]</span> <span class="o">+</span> <span class="n">X_minor_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_balanced</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">y_mayor_down</span><span class="p">]</span> <span class="o">+</span> <span class="n">y_minor_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span> <span class="o">=</span> <span class="n">shuffle</span><span class="p">(</span><span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="c1"># === 5. Imprime la nueva distribuci√≥n ===</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n balanceada (proporci√≥n):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n balanceada (conteo):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># === 6. Guarda los sets balanceados a CSV ===</span>
<span class="n">X_balanced</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_balanced.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_balanced</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_balanced.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Sets balanceados guardados en </span><span class="si">{</span><span class="n">train_out</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[2]</span><span class="ansi-green-fg">, line 13</span>
<span class="ansi-green-fg">     10</span> train_out = Path(<span class="ansi-yellow-fg">r</span><span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">C:</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">Users</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">rodri</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">Documents</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">Data-Mining</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">Proyecto-3-EDA-Clustering</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">data</span><span class="ansi-yellow-fg">\</span><span class="ansi-yellow-fg">train</span><span class="ansi-yellow-fg">"</span>)  <span style="color: rgb(95,135,135)"># Ajusta si tu ruta es diferente</span>
<span class="ansi-green-fg">     12</span> <span style="color: rgb(95,135,135)"># === 1. Encuentra la clase mayoritaria ===</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">13</span> mayor_clase = <span class="ansi-yellow-bg">y_train</span>[<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">macrogrupo</span><span class="ansi-yellow-fg">'</span>].value_counts().idxmax()
<span class="ansi-green-fg">     14</span> n_mayor_original = (y_train[<span class="ansi-yellow-fg">'</span><span class="ansi-yellow-fg">macrogrupo</span><span class="ansi-yellow-fg">'</span>] == mayor_clase).sum()
<span class="ansi-green-fg">     15</span> n_mayor_final = <span style="color: rgb(0,135,0)">int</span>(n_mayor_original * factor_mayor)

<span class="ansi-red-fg">NameError</span>: name 'y_train' is not defined</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Random-Forest">Random Forest<a class="anchor-link" href="#Random-Forest">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[14]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span><span class="p">,</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>

<span class="c1"># 1. Muestra para tuning de hiperpar√°metros</span>
<span class="n">N_TUNING</span> <span class="o">=</span> <span class="mi">50000</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNING</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>

<span class="c1"># 2. Muestra para entrenamiento final (puede ser todo o un N fijo, ej. 100,000)</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">200000</span>  <span class="c1"># Cambia a len(X_balanced) para usar TODO el set balanceado</span>
<span class="n">X_train_sub</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[15]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 3. GridSearch SOLO con la muestra de tuning</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'max_depth'</span><span class="p">:</span>       <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="s1">'min_samples_leaf'</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
    <span class="s1">'n_estimators'</span><span class="p">:</span>    <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">RandomForestClassifier</span><span class="p">(</span>
        <span class="n">max_features</span><span class="o">=</span><span class="s1">'sqrt'</span><span class="p">,</span>
        <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced_subsample'</span><span class="p">,</span>
        <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 24 candidates, totalling 72 fits
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=200; total time=  19.7s
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=200; total time=  18.9s
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=200; total time=  18.8s
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=500; total time=  47.6s
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=500; total time=  46.7s
[CV] END .max_depth=15, min_samples_leaf=1, n_estimators=500; total time=  47.7s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=200; total time=  16.7s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=200; total time=  16.5s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=200; total time=  16.9s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=500; total time=  42.7s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=500; total time=  41.3s
[CV] END .max_depth=15, min_samples_leaf=5, n_estimators=500; total time=  41.3s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=200; total time=  15.6s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=200; total time=  15.5s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=200; total time=  15.7s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=500; total time=  39.0s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=500; total time=  39.1s
[CV] END max_depth=15, min_samples_leaf=10, n_estimators=500; total time=  39.1s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=200; total time=  14.5s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=200; total time=  14.3s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=200; total time=  14.5s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=500; total time=  36.4s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=500; total time=  36.1s
[CV] END max_depth=15, min_samples_leaf=20, n_estimators=500; total time=  36.3s
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=200; total time=  31.6s
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=200; total time=  31.8s
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=200; total time=  31.8s
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=500; total time= 1.3min
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=500; total time= 1.3min
[CV] END .max_depth=25, min_samples_leaf=1, n_estimators=500; total time= 1.3min
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=200; total time=  20.8s
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=200; total time=  21.1s
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=200; total time=  20.8s
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=500; total time=  51.6s
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=500; total time=  51.6s
[CV] END .max_depth=25, min_samples_leaf=5, n_estimators=500; total time=  51.6s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=200; total time=  18.5s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=200; total time=  17.9s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=200; total time=  19.1s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=500; total time=  50.7s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=500; total time=  44.6s
[CV] END max_depth=25, min_samples_leaf=10, n_estimators=500; total time=  44.7s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=200; total time=  15.5s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=200; total time=  15.5s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=200; total time=  15.7s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=500; total time=  39.1s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=500; total time=  38.8s
[CV] END max_depth=25, min_samples_leaf=20, n_estimators=500; total time=  39.0s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=  36.0s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=  35.8s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=  35.9s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=500; total time= 1.5min
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=500; total time= 1.5min
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=500; total time= 1.5min
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=  21.4s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=  21.0s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=  21.3s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=500; total time=  52.7s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=500; total time=  52.3s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=500; total time=  53.5s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=  18.6s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=  18.3s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=  18.0s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=500; total time=  45.0s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=500; total time=  44.7s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=500; total time=  45.1s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=200; total time=  15.7s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=200; total time=  15.8s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=200; total time=  15.7s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=500; total time=  38.9s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=500; total time=  38.6s
[CV] END max_depth=None, min_samples_leaf=20, n_estimators=500; total time=  39.2s
Mejores hiperpar√°metros: {'max_depth': 25, 'min_samples_leaf': 1, 'n_estimators': 500}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[16]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">rf_final</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">max_features</span><span class="o">=</span><span class="s1">'sqrt'</span><span class="p">,</span>
    <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced_subsample'</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">rf_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_sub</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[16]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-1"><div class="sk-text-repr-fallback"><pre>RandomForestClassifier(class_weight='balanced_subsample', max_depth=25,
                       n_estimators=500, n_jobs=1, random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-1"><div><div>RandomForestClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for RandomForestClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>RandomForestClassifier(class_weight='balanced_subsample', max_depth=25,
                       n_estimators=500, n_jobs=1, random_state=123)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="Evaluaci%C3%B3n">Evaluaci√≥n<a class="anchor-link" href="#Evaluaci%C3%B3n">¬∂</a></h3>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h4 id="M%C3%A1triz-de-Confusi%C3%B3n">M√°triz de Confusi√≥n<a class="anchor-link" href="#M%C3%A1triz-de-Confusi%C3%B3n">¬∂</a></h4>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Regresi%C3%B3n-Logistica--Multinomial">Regresi√≥n Logistica  Multinomial<a class="anchor-link" href="#Regresi%C3%B3n-Logistica--Multinomial">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[13]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="k">def</span><span class="w"> </span><span class="nf">load_nivel1_data</span><span class="p">(</span><span class="n">data_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Carga los conjuntos de entrenamiento balanceado y test real para modelado multinivel (Nivel 1).</span>
<span class="sd">    Filtra test para coincidir con las clases presentes en entrenamiento.</span>
<span class="sd">    """</span>
    <span class="n">train_out</span> <span class="o">=</span> <span class="n">data_dir</span> <span class="o">/</span> <span class="s2">"train"</span>
    <span class="n">test_out</span>  <span class="o">=</span> <span class="n">data_dir</span> <span class="o">/</span> <span class="s2">"test"</span>

    <span class="c1"># --- Entrenamiento balanceado ---</span>
    <span class="n">X_balanced</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"X_train_balanced.csv"</span><span class="p">)</span>
    <span class="n">y_balanced</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_out</span> <span class="o">/</span> <span class="s2">"y_train_balanced.csv"</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">'macrogrupo'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_balanced</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"y_balanced debe contener la columna 'macrogrupo'."</span><span class="p">)</span>

    <span class="c1"># --- Test real ---</span>
    <span class="n">X_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"X_test_processed.csv"</span><span class="p">)</span>
    <span class="n">y_test_full</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_out</span> <span class="o">/</span> <span class="s2">"y_test_processed.csv"</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">'macrogrupo'</span> <span class="ow">in</span> <span class="n">y_test_full</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test_full</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">cie10_to_macrogrupo</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
            <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"A00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"B99"</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"INFECCIOSAS"</span>
            <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"C00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"N99"</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"CR√ìNICAS"</span>
            <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"O00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Q99"</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span>
            <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"R00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"R99"</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"S√çNTOMAS/SIGNOS"</span>
            <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"S00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Y99"</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">"OTROS"</span>
        <span class="n">colname</span> <span class="o">=</span> <span class="s1">'target'</span> <span class="k">if</span> <span class="s1">'target'</span> <span class="ow">in</span> <span class="n">y_test_full</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s1">'Caudef'</span>
        <span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test_full</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cie10_to_macrogrupo</span><span class="p">)</span>

    <span class="c1"># --- VERIFICACI√ìN DE CLASES ENTRE TRAIN Y TEST ---</span>
    <span class="n">clases_train</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">clases_test</span>  <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en train:"</span><span class="p">,</span> <span class="n">clases_train</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en test :"</span><span class="p">,</span> <span class="n">clases_test</span><span class="p">)</span>
    <span class="n">clases_faltan_en_test</span> <span class="o">=</span> <span class="n">clases_train</span> <span class="o">-</span> <span class="n">clases_test</span>
    <span class="n">clases_extra_en_test</span>  <span class="o">=</span> <span class="n">clases_test</span>  <span class="o">-</span> <span class="n">clases_train</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en train pero NO en test:"</span><span class="p">,</span> <span class="n">clases_faltan_en_test</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en test pero NO en train:"</span><span class="p">,</span> <span class="n">clases_extra_en_test</span><span class="p">)</span>

    <span class="c1"># Filtra test para incluir SOLO las clases presentes en train</span>
    <span class="n">mask_valid</span> <span class="o">=</span> <span class="n">y_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">clases_train</span><span class="p">)</span>
    <span class="n">X_test_filt</span> <span class="o">=</span> <span class="n">X_test</span><span class="p">[</span><span class="n">mask_valid</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">y_test_filt</span> <span class="o">=</span> <span class="n">y_test</span><span class="p">[</span><span class="n">mask_valid</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Test filtrado: </span><span class="si">{</span><span class="n">X_test_filt</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y_test_filt</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="c1"># --- Reporte proporciones finales ---</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Proporci√≥n de clases en train (macrogrupo):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Proporci√≥n de clases en test (macrogrupo) despu√©s de filtrar:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y_test_filt</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">X_test_filt</span><span class="p">,</span> <span class="n">y_test_filt</span>

<span class="c1"># --------- USO ---------</span>
<span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data"</span><span class="p">)</span>
<span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">load_nivel1_data</span><span class="p">(</span><span class="n">DATA_DIR</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Clases en train: {'OTROS', 'TRAUMA/CAUSAS EXTERNAS', 'CR√ìNICAS', 'INFECCIOSAS', 'S√çNTOMAS/SIGNOS', 'PERINATAL/MALFORMACIONES'}
Clases en test : {'OTROS', 'TRAUMA/CAUSAS EXTERNAS', 'PERINATAL/MALFORMACIONES', 'CR√ìNICAS'}
Clases en train pero NO en test: {'INFECCIOSAS', 'S√çNTOMAS/SIGNOS'}
Clases en test pero NO en train: set()

Test filtrado: (97510, 214), (97510,)

Proporci√≥n de clases en train (macrogrupo):
macrogrupo
CR√ìNICAS                    0.182
INFECCIOSAS                 0.164
TRAUMA/CAUSAS EXTERNAS      0.164
OTROS                       0.164
PERINATAL/MALFORMACIONES    0.164
S√çNTOMAS/SIGNOS             0.164
Name: proportion, dtype: float64

Proporci√≥n de clases en test (macrogrupo) despu√©s de filtrar:
macrogrupo
CR√ìNICAS                    0.741
TRAUMA/CAUSAS EXTERNAS      0.102
OTROS                       0.084
PERINATAL/MALFORMACIONES    0.074
Name: proportion, dtype: float64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[5]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">N_TUNING</span> <span class="o">=</span> <span class="mi">25000</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">100000</span>

<span class="c1"># Muestreo para tuning</span>
<span class="c1"># Muestreo para tuning</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNING</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>

<span class="c1"># Muestreo para entrenamiento final</span>
<span class="n">X_train_sub</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[6]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>

<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'C'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>     <span class="c1"># Regularizaci√≥n inversa</span>
    <span class="s1">'solver'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'lbfgs'</span><span class="p">,</span> <span class="s1">'saga'</span><span class="p">],</span>
    <span class="s1">'max_iter'</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">LogisticRegression</span><span class="p">(</span>
        <span class="n">multi_class</span><span class="o">=</span><span class="s1">'multinomial'</span><span class="p">,</span>
        <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span>
        <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 16 candidates, totalling 48 fits
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .................C=0.01, max_iter=200, solver=lbfgs; total time=   8.1s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .................C=0.01, max_iter=200, solver=lbfgs; total time=   4.8s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .................C=0.01, max_iter=200, solver=lbfgs; total time=   4.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=200, solver=saga; total time=  47.4s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=200, solver=saga; total time=  48.7s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=200, solver=saga; total time=  47.2s
[CV] END .................C=0.01, max_iter=500, solver=lbfgs; total time=   5.2s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .................C=0.01, max_iter=500, solver=lbfgs; total time=   4.9s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .................C=0.01, max_iter=500, solver=lbfgs; total time=   4.6s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=500, solver=saga; total time= 1.4min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=500, solver=saga; total time= 1.5min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.01, max_iter=500, solver=saga; total time= 1.5min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.1, max_iter=200, solver=lbfgs; total time=   2.3s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.1, max_iter=200, solver=lbfgs; total time=   2.1s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.1, max_iter=200, solver=lbfgs; total time=   2.1s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=200, solver=saga; total time=  47.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=200, solver=saga; total time=  47.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=200, solver=saga; total time=  47.1s
[CV] END ..................C=0.1, max_iter=500, solver=lbfgs; total time=   4.8s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.1, max_iter=500, solver=lbfgs; total time=   4.8s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ..................C=0.1, max_iter=500, solver=lbfgs; total time=   5.0s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=0.1, max_iter=500, solver=saga; total time= 2.0min
[CV] END ....................C=1, max_iter=200, solver=lbfgs; total time=   7.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=1, max_iter=200, solver=lbfgs; total time=   6.4s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=1, max_iter=200, solver=lbfgs; total time=   6.6s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=200, solver=saga; total time=  48.9s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=200, solver=saga; total time=  48.4s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=200, solver=saga; total time=  48.8s
[CV] END ....................C=1, max_iter=500, solver=lbfgs; total time=   6.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=1, max_iter=500, solver=lbfgs; total time=   6.3s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=1, max_iter=500, solver=lbfgs; total time=   6.6s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END .....................C=1, max_iter=500, solver=saga; total time= 2.0min
[CV] END ...................C=10, max_iter=200, solver=lbfgs; total time=   9.0s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=10, max_iter=200, solver=lbfgs; total time=   7.8s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=10, max_iter=200, solver=lbfgs; total time=   7.4s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=200, solver=saga; total time=  47.5s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=200, solver=saga; total time=  47.4s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=200, solver=saga; total time=  47.5s
[CV] END ...................C=10, max_iter=500, solver=lbfgs; total time=   8.1s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=10, max_iter=500, solver=lbfgs; total time=   7.9s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ...................C=10, max_iter=500, solver=lbfgs; total time=   7.8s
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=500, solver=saga; total time= 2.0min
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_sag.py:348: ConvergenceWarning: The max_iter was reached which means the coef_ did not converge
  warnings.warn(
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>[CV] END ....................C=10, max_iter=500, solver=saga; total time= 2.0min
Mejores hiperpar√°metros: {'C': 1, 'max_iter': 200, 'solver': 'lbfgs'}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[17]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Entrena con el mejor modelo</span>
<span class="n">lr_final</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span>
    <span class="n">multi_class</span><span class="o">=</span><span class="s1">'multinomial'</span><span class="p">,</span>
    <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span>
<span class="p">)</span>
<span class="n">lr_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_sub_aligned</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[17]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-3 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-3 {
  color: var(--sklearn-color-text);
}

#sk-container-id-3 pre {
  padding: 0;
}

#sk-container-id-3 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-3 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-3 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-3 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-3 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-3 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-3 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-3 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-3 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-3 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-3 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-3 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-3 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-3 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-3 div.sk-label label.sk-toggleable__label,
#sk-container-id-3 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-3 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-3 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-3 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-3 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-3 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-3 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-3 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-3 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-3 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-3"><div class="sk-text-repr-fallback"><pre>LogisticRegression(C=1, class_weight='balanced', max_iter=200,
                   multi_class='multinomial', n_jobs=-1, random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-3"><div><div>LogisticRegression</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.linear_model.LogisticRegression.html" rel="noreferrer" target="_blank">?<span>Documentation for LogisticRegression</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>LogisticRegression(C=1, class_weight='balanced', max_iter=200,
                   multi_class='multinomial', n_jobs=-1, random_state=123)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[18]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">lr_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_aligned</span><span class="p">)</span>

<span class="c1"># 3. Evaluaci√≥n</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.1383037637165419
Cohen's kappa: 0.0012125510260448946
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Classification report:
                           precision    recall  f1-score   support

                CR√ìNICAS       0.76      0.10      0.18     72249
             INFECCIOSAS       0.00      0.00      0.00         0
                   OTROS       0.09      0.59      0.16      8182
PERINATAL/MALFORMACIONES       0.16      0.11      0.13      7172
         S√çNTOMAS/SIGNOS       0.00      0.00      0.00         0
  TRAUMA/CAUSAS EXTERNAS       0.04      0.05      0.04      9907

                accuracy                           0.14     97510
               macro avg       0.18      0.14      0.08     97510
            weighted avg       0.59      0.14      0.16     97510

Confusion matrix:
 [[ 7405  6501 39548  3734  4423 10638]
 [    0     0     0     0     0     0]
 [ 1370   626  4826    12   590   758]
 [  452   956  3882   762   310   810]
 [    0     0     0     0     0     0]
 [  512   419  5781   163  2539   493]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[20]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Paso 1: Extrae las clases presentes en test</span>
<span class="n">clases_en_test</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Clases presentes en test:"</span><span class="p">,</span> <span class="n">clases_en_test</span><span class="p">)</span>

<span class="c1"># Paso 2: Si tus predicciones incluyen clases no presentes en test, ajusta los labels</span>
<span class="c1"># (No hace falta filtrar y_pred, solo ajustar los labels en m√©tricas y confusi√≥n)</span>

<span class="c1"># Paso 3: Reporte solo para clases presentes en test</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report (solo clases presentes en test):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
      <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix (solo clases presentes en test):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
      <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">))</span>

<span class="c1"># Si quieres visualizar la matriz como DataFrame:</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">)</span>
<span class="n">cm_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Matriz de confusi√≥n:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">cm_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Clases presentes en test: ['CR√ìNICAS', 'OTROS', 'PERINATAL/MALFORMACIONES', 'TRAUMA/CAUSAS EXTERNAS']
Test accuracy: 0.1383037637165419
Cohen's kappa: 0.0012125510260448946
Classification report (solo clases presentes en test):
                           precision    recall  f1-score   support

                CR√ìNICAS       0.76      0.10      0.18     72249
                   OTROS       0.09      0.59      0.16      8182
PERINATAL/MALFORMACIONES       0.16      0.11      0.13      7172
  TRAUMA/CAUSAS EXTERNAS       0.04      0.05      0.04      9907

               micro avg       0.17      0.14      0.15     97510
               macro avg       0.26      0.21      0.13     97510
            weighted avg       0.59      0.14      0.16     97510

Confusion matrix (solo clases presentes en test):
 [[ 7405 39548  3734 10638]
 [ 1370  4826    12   758]
 [  452  3882   762   810]
 [  512  5781   163   493]]
Matriz de confusi√≥n:
                           CR√ìNICAS  OTROS  PERINATAL/MALFORMACIONES  \
CR√ìNICAS                      7405  39548                      3734   
OTROS                         1370   4826                        12   
PERINATAL/MALFORMACIONES       452   3882                       762   
TRAUMA/CAUSAS EXTERNAS         512   5781                       163   

                          TRAUMA/CAUSAS EXTERNAS  
CR√ìNICAS                                   10638  
OTROS                                        758  
PERINATAL/MALFORMACIONES                     810  
TRAUMA/CAUSAS EXTERNAS                       493  
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[18]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="c1"># Si tienes X_test como DataFrame y es muy grande, usa predicci√≥n por lotes:</span>
<span class="n">batch_size</span> <span class="o">=</span> <span class="mi">10000</span>  <span class="c1"># ajusta seg√∫n RAM</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y_pred_all</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">):</span>
    <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">batch_size</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">)</span>
    <span class="n">X_batch</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">X_test</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span>
    <span class="n">y_pred_batch</span> <span class="o">=</span> <span class="n">rf_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_batch</span><span class="p">)</span>
    <span class="n">y_pred_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_pred_batch</span><span class="p">)</span>

<span class="c1"># Une todos los resultados</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">y_pred_all</span><span class="p">)</span>

<span class="c1"># Usa el target correcto: y_test['macrogrupo']</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.5751256281407036
Test Cohen's kappa: 0.28310932830629953
Classification report:
                           precision    recall  f1-score   support

                CR√ìNICAS       0.88      0.58      0.70    103213
                   OTROS       0.21      0.57      0.31     11688
PERINATAL/MALFORMACIONES       0.28      0.44      0.35     10246
  TRAUMA/CAUSAS EXTERNAS       0.38      0.64      0.48     14153

                accuracy                           0.58    139300
               macro avg       0.44      0.56      0.46    139300
            weighted avg       0.73      0.58      0.62    139300

Confusion matrix:
 [[59827 20939 10265 12182]
 [ 2748  6664   651  1625]
 [ 3078  1600  4552  1016]
 [ 2529  1914   638  9072]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[19]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"CR√ìNICAS"</span><span class="p">,</span> <span class="s2">"OTROS"</span><span class="p">,</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span><span class="p">,</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span><span class="p">]</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">'d'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'Blues'</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">yticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'Predicha'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Real'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Matriz de Confusi√≥n Macrogrupos'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,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"/>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[20]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span>

<span class="n">report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'precision'</span><span class="p">,</span> <span class="s1">'recall'</span><span class="p">,</span> <span class="s1">'f1-score'</span><span class="p">]</span>
<span class="n">df_metrics</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">report</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">labels</span><span class="p">,</span> <span class="n">metrics</span><span class="p">]</span>

<span class="n">df_metrics</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'M√©tricas por Macrogrupo'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Score'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,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"/>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[26]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">'bar'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Soporte (n¬∞ de ejemplos) por Macrogrupo en Test'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Conteo'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,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IaAAEKcIJgAgcgoatKr12LFj3YEDB9zChQvts77evHmzGzhwoN3/6KOP2vYKJu68804rxtaq2UBcIuUJQJwimACAiI0YMcK9/vrrttK1V4Bdrlw517x5c3fw4EFbRFSd9Fq3bm21E2q/rVWyte2iRYtsezo7IS7xSgMAAIgntI7PvHnzrGvT0aNH/berY9NNN91kKU8KFDRDMWTIENeqVSuXOnVqV6BAAYIJBA0pTwAAAPGIaiM0C6FF6YYOHWprTKie4qWXXnJbtmxx+fLls+1UnK12svv27bMOekIwgWAgoAAAAIhntm/f7nr27Gkdm3LkyGGzFrNnz7Y6CbWMTZ78/7LW1dUpbdq09n+CCQQLrzoAAIB4pnjx4raQnQKGGTNmuKeeesqCCa89rMcLJnQ7wQSChRkKAACAeGrnzp3uySeftCBCC4Qq/QmIbwhlAQAA4qmiRYu6N9980zrkqY7im2++CfYuAVchoAAAAIjn6U/jxo2zrk9r164N9u4AVyHlCQAAIAHQGhS5c+cO9m4AVyGgAAAASEB06cYioYhPSHkCAABIQAgmEN8QUAAAAACINgIKAAAAANFGQAEAAAAg2ggoAAAAAEQbAQUAAACAaCOgAAAAABBtBBQAAAAAoo2AAgAQ712+fDlB/mwASAoIKAAAEbrzzjtdjx49XO/evV2WLFlcrly53OTJk93Zs2dd+/btXYYMGVyxYsXcggULbPsrV664jh07usKFC7s0adK4m2++2Y0fP/6qnztlyhRXunRplypVKpcnTx7XvXv3EAt3vfXWW65p06YuXbp07oUXXrDbdVvRokVdypQp7ed++OGHIX7m1q1bXa1atVzq1KldqVKl3NKlS+1nff7553b/7t277etZs2a5O+64w7abMWOGe+6551yFChVC/Kxx48a5QoUK+b9u166du//++93zzz/vcuTI4TJmzOi6du3qLl265N/m4sWLrmfPni5nzpz2s7Uvv/zyS4w9FwAQHxFQAAAi9f7777vs2bO71atXW3DxxBNPuBYtWrgaNWq4devWuQYNGrjWrVu7c+fOuf/++8/ly5fPffLJJ27z5s1u6NCh7umnn3azZ8/2/zwFBt26dXNdunRxGzZscF988YUFJYF0kf/AAw/Y/R06dHBz5851vXr1cv369XMbN250jz/+uAU03377rT+Q0QV/2rRp3c8//+zeeecd98wzz4T59wwaNMh+1pYtW1zDhg2j/DgsW7bMvue7775zM2fOdHPmzLEAwzNw4ED32Wef2eOlx0V/k37+sWPHovGoA0AC4QMAIAJ33HGHr1atWv6v//33X1+6dOl8rVu39t924MABn04pK1euDPNndOvWzdesWTP/13nz5vU988wz4f5O/azevXuHuK1GjRq+zp07h7itRYsWvsaNG9v/FyxY4EuePLnti2fJkiX2s+bOnWtf79q1y74eN25ciJ8zbNgwX/ny5UPc9tprr/kKFizo/7pt27a+rFmz+s6ePeu/7a233vKlT5/ed+XKFd+ZM2d8KVKk8M2YMcN//6VLl+xvHTNmTLh/KwAkdMxQAAAiVa5cOf//b7zxRpctWzZXtmxZ/21Kg5LDhw/b5wkTJrhKlSpZalD69OlttmDPnj3+bfbv3+/q1q0b4e+sXLlyiK81M1CzZs0Qt+lr3S7btm1z+fPnd7lz5/bfX7Vq1Sj97KgqX768zYB4qlev7s6cOeP27t3rdu7cafUYgfuYIkUK2wdvHwEgMSKgAABEShfGgVSHEHibvhalO3388ceuf//+VkexePFit379ektN8moNVFcRFaqdiC2hf/YNN9ygGfsQt1GsDQBRQ0ABAIhRy5cvt9qKJ5980t16661WR6DRe4+KuFXsrHqEa1GyZEn72aF/l4qvRUXamik4dOiQ//6oFkRrJuXgwYMhggoFQqH99ttv7vz58/6vV61aZTMwmhnxisUD91FBifbB20cASIySB3sHAACJS/Hixd0HH3zgFi1aZJ2e1IlJF9X6f2DBtTokqRtSo0aN3OnTp+1CXAXf4RkwYIB76KGHLEipV6+e+/LLL60oWp2cpH79+nZR37ZtWzdmzBj7mUOGDAkxgxJRJ6sjR47Y9zVv3twtXLjQulapk1MgzbJo5kU/Vx2jhg0bZt2pNMOhWQ8Vq2s/s2bN6goUKGA/T4Xq+h4ASKyYoQAAxCh1X3rwwQddy5YtXbVq1dzRo0dttiKQLvrVlnXixInWOvaee+5x27dvj/DnqoOT2s++8sor9j1vv/22mzp1qgUDXm2H2sOqpqFKlSquU6dO/i5PauEa2eyH9kW1H6qTUDcrpW2FproPBUy1a9e2v09tbRUceUaPHu2aNWtmHa8qVqzoduzYYYGV2u0CQGKVTJXZwd4JAABig2Y9tBaELuw1e3E9tA7FiRMn/GtaAAD+DylPAIBEQ2tVqKZBswgKIrTWhLouXW8wAQAIHwEFACDRUN3EU089ZS1qtRCfai1effXVYO8WACRqpDwBAAAAiDaKsgEAAABEGwEFAAAAgGgjoAAAAAAQbQQUAAAAAKKNgAIAAABAtBFQAAAAAIg2AgoAAAAA0UZAAQAAACDaCCgAAAAAuOj6f1WwbxjO2b1+AAAAAElFTkSuQmCC"/>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[30]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">macrogrupos</span><span class="p">)</span>
<span class="n">cm_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">macrogrupos</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">macrogrupos</span><span class="p">)</span>
<span class="c1"># Quita la diagonal principal</span>
<span class="n">off_diag</span> <span class="o">=</span> <span class="n">cm_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">np</span><span class="o">.</span><span class="n">fill_diagonal</span><span class="p">(</span><span class="n">off_diag</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">top_confusions</span> <span class="o">=</span> <span class="n">off_diag</span><span class="o">.</span><span class="n">stack</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Top 10 confusiones fuera de la diagonal:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">top_confusions</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Top 10 confusiones fuera de la diagonal:
CR√ìNICAS                  OTROS                       20939
                          TRAUMA/CAUSAS EXTERNAS      12182
                          PERINATAL/MALFORMACIONES    10265
PERINATAL/MALFORMACIONES  CR√ìNICAS                     3078
OTROS                     CR√ìNICAS                     2748
TRAUMA/CAUSAS EXTERNAS    CR√ìNICAS                     2529
                          OTROS                        1914
OTROS                     TRAUMA/CAUSAS EXTERNAS       1625
PERINATAL/MALFORMACIONES  OTROS                        1600
                          TRAUMA/CAUSAS EXTERNAS       1016
dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="KNN">KNN<a class="anchor-link" href="#KNN">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[22]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">N_TUNING</span> <span class="o">=</span> <span class="mi">15000</span>   <span class="c1"># O menos si tu RAM es limitada</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">150000</span>   <span class="c1"># O lo que soporte tu m√°quina</span>

<span class="c1"># Muestreo para tuning y entrenamiento</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNING</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>
<span class="n">X_train_sub</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[23]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>

<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'n_neighbors'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span>
    <span class="s1">'weights'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'uniform'</span><span class="p">,</span> <span class="s1">'distance'</span><span class="p">],</span>
    <span class="s1">'p'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>  <span class="c1"># 1=Manhattan, 2=Euclidiana</span>
<span class="p">}</span>

<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 16 candidates, totalling 48 fits
[CV] END ................n_neighbors=3, p=1, weights=uniform; total time=  10.1s
[CV] END ................n_neighbors=3, p=1, weights=uniform; total time=   8.5s
[CV] END ................n_neighbors=3, p=1, weights=uniform; total time=   8.4s
[CV] END ...............n_neighbors=3, p=1, weights=distance; total time=   8.2s
[CV] END ...............n_neighbors=3, p=1, weights=distance; total time=   8.1s
[CV] END ...............n_neighbors=3, p=1, weights=distance; total time=   8.1s
[CV] END ................n_neighbors=3, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=3, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=3, p=2, weights=uniform; total time=   0.8s
[CV] END ...............n_neighbors=3, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=3, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=3, p=2, weights=distance; total time=   0.5s
[CV] END ................n_neighbors=5, p=1, weights=uniform; total time=   8.6s
[CV] END ................n_neighbors=5, p=1, weights=uniform; total time=   8.4s
[CV] END ................n_neighbors=5, p=1, weights=uniform; total time=   8.4s
[CV] END ...............n_neighbors=5, p=1, weights=distance; total time=   8.2s
[CV] END ...............n_neighbors=5, p=1, weights=distance; total time=   8.3s
[CV] END ...............n_neighbors=5, p=1, weights=distance; total time=   8.2s
[CV] END ................n_neighbors=5, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=5, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=5, p=2, weights=uniform; total time=   0.8s
[CV] END ...............n_neighbors=5, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=5, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=5, p=2, weights=distance; total time=   0.5s
[CV] END ................n_neighbors=7, p=1, weights=uniform; total time=   8.4s
[CV] END ................n_neighbors=7, p=1, weights=uniform; total time=   8.4s
[CV] END ................n_neighbors=7, p=1, weights=uniform; total time=   8.4s
[CV] END ...............n_neighbors=7, p=1, weights=distance; total time=   8.2s
[CV] END ...............n_neighbors=7, p=1, weights=distance; total time=   8.3s
[CV] END ...............n_neighbors=7, p=1, weights=distance; total time=   8.2s
[CV] END ................n_neighbors=7, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=7, p=2, weights=uniform; total time=   0.8s
[CV] END ................n_neighbors=7, p=2, weights=uniform; total time=   0.8s
[CV] END ...............n_neighbors=7, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=7, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=7, p=2, weights=distance; total time=   0.5s
[CV] END ...............n_neighbors=11, p=1, weights=uniform; total time=   8.5s
[CV] END ...............n_neighbors=11, p=1, weights=uniform; total time=   8.6s
[CV] END ...............n_neighbors=11, p=1, weights=uniform; total time=   8.4s
[CV] END ..............n_neighbors=11, p=1, weights=distance; total time=   8.4s
[CV] END ..............n_neighbors=11, p=1, weights=distance; total time=   8.1s
[CV] END ..............n_neighbors=11, p=1, weights=distance; total time=   8.2s
[CV] END ...............n_neighbors=11, p=2, weights=uniform; total time=   0.7s
[CV] END ...............n_neighbors=11, p=2, weights=uniform; total time=   0.8s
[CV] END ...............n_neighbors=11, p=2, weights=uniform; total time=   0.8s
[CV] END ..............n_neighbors=11, p=2, weights=distance; total time=   0.5s
[CV] END ..............n_neighbors=11, p=2, weights=distance; total time=   0.5s
[CV] END ..............n_neighbors=11, p=2, weights=distance; total time=   0.5s
Mejores hiperpar√°metros: {'n_neighbors': 11, 'p': 1, 'weights': 'distance'}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[24]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">knn_final</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">knn_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_sub</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[24]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-4 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-4 {
  color: var(--sklearn-color-text);
}

#sk-container-id-4 pre {
  padding: 0;
}

#sk-container-id-4 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-4 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-4 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-4 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-4 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-4 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-4 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-4 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-4 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-4 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-4 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-4 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-4 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-4 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-4 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-4 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-4 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-4 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-4 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-4 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-4 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-4 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-4 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-4 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-4 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-4 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-4 div.sk-label label.sk-toggleable__label,
#sk-container-id-4 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-4 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-4 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-4 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-4 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-4 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-4 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-4 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-4 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-4 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-4 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-4 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-4 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-4"><div class="sk-text-repr-fallback"><pre>KNeighborsClassifier(n_jobs=-1, n_neighbors=11, p=1, weights='distance')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-4" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-4"><div><div>KNeighborsClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neighbors.KNeighborsClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for KNeighborsClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>KNeighborsClassifier(n_jobs=-1, n_neighbors=11, p=1, weights='distance')</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[26]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Paso 1: Alinea y rellena columnas faltantes en X_test ---</span>
<span class="n">missing_in_test</span> <span class="o">=</span> <span class="n">X_train_sub</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">missing_in_test</span><span class="p">:</span>
    <span class="n">X_test</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Rellena con ceros (OHE)</span>

<span class="c1"># Ahora aseg√∫rate de que el orden sea id√©ntico</span>
<span class="n">X_test_aligned</span> <span class="o">=</span> <span class="n">X_test</span><span class="p">[</span><span class="n">X_train_sub</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="c1"># --- Paso 2: Verifica ---</span>
<span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">X_test_aligned</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="n">X_train_sub</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="s2">"Las columnas no est√°n alineadas"</span>

<span class="c1"># --- Paso 3: Predicci√≥n ---</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_aligned</span><span class="p">)</span>


<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="n">clases_en_test</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report (solo clases presentes en test):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
      <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix (solo clases presentes en test):</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
      <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">clases_en_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
C:\Users\rodri\AppData\Local\Temp\ipykernel_24596\4220169314.py:4: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  X_test[col] = 0  # Rellena con ceros (OHE)
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.2516459850271767
Cohen's kappa: 0.003604724535638315
Classification report (solo clases presentes en test):
                           precision    recall  f1-score   support

                CR√ìNICAS       0.75      0.29      0.42     72249
                   OTROS       0.10      0.21      0.14      8182
PERINATAL/MALFORMACIONES       0.17      0.18      0.18      7172
  TRAUMA/CAUSAS EXTERNAS       0.03      0.04      0.03      9907

               micro avg       0.37      0.25      0.30     97510
               macro avg       0.26      0.18      0.19     97510
            weighted avg       0.58      0.25      0.34     97510

Confusion matrix (solo clases presentes en test):
 [[21156 11392  5808 11893]
 [ 3309  1691    99   675]
 [ 2437   785  1292   623]
 [ 1432  2239   251   399]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="RNA">RNA<a class="anchor-link" href="#RNA">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[39]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ensure_numeric_no_na</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">cols</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
        <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span>
        <span class="n">n_na</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">n_inf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">verbose</span> <span class="ow">and</span> <span class="p">(</span><span class="n">n_na</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">n_inf</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Col </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">n_na</span><span class="si">}</span><span class="s2"> NA, </span><span class="si">{</span><span class="n">n_inf</span><span class="si">}</span><span class="s2"> Inf, rellenando con </span><span class="si">{</span><span class="n">fill_value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">fill_value</span><span class="p">)</span>
        <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">fill_value</span><span class="p">)</span>
    <span class="c1"># Filtra columnas que no quedaron como num√©ricas</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">X</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[36]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --------------- CARGA Y MUESTREO ---------------</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">N_TUNING</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">100000</span>

<span class="c1"># Asume que tienes X_balanced, y_balanced ya cargados correctamente.</span>
<span class="c1"># Muestreo para tuning</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNING</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>

<span class="c1"># Muestreo para entrenamiento final</span>
<span class="n">X_train_sub</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_balanced</span><span class="p">,</span> <span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_balanced</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>

<span class="c1"># --------------- PREPROCESAMIENTO DE COLUMNAS ---------------</span>
<span class="c1"># Asegura que el conjunto de columnas es el mismo</span>
<span class="n">common_cols</span> <span class="o">=</span> <span class="n">X_train_sub</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Preprocesa tuning, train y test con mismas columnas</span>
<span class="n">X_tune_clean</span>        <span class="o">=</span> <span class="n">ensure_numeric_no_na</span><span class="p">(</span><span class="n">X_tune</span><span class="p">[</span><span class="n">common_cols</span><span class="p">])</span>
<span class="n">X_train_sub_clean</span>   <span class="o">=</span> <span class="n">ensure_numeric_no_na</span><span class="p">(</span><span class="n">X_train_sub</span><span class="p">[</span><span class="n">common_cols</span><span class="p">])</span>
<span class="n">X_test_clean</span>        <span class="o">=</span> <span class="n">ensure_numeric_no_na</span><span class="p">(</span><span class="n">X_test</span><span class="p">[</span><span class="n">common_cols</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øNAs en tuning?:"</span><span class="p">,</span> <span class="n">X_tune_clean</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øInf en tuning?:"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">X_tune_clean</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Shape final X_tune:"</span><span class="p">,</span> <span class="n">X_tune_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øShape test?:"</span><span class="p">,</span> <span class="n">X_test_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>¬øNAs en tuning?: 0
¬øInf en tuning?: 0
Shape final X_tune: (10000, 256)
¬øShape test?: (97510, 256)
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[38]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">X_tune_clean</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øTodas son float?"</span><span class="p">,</span> <span class="nb">all</span><span class="p">(</span><span class="n">X_tune_clean</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øHay columnas tipo objeto?"</span><span class="p">,</span> <span class="n">X_tune_clean</span><span class="o">.</span><span class="n">dtypes</span><span class="p">[</span><span class="n">X_tune_clean</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="s2">"object"</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øShape y valores √∫nicos en y?"</span><span class="p">,</span> <span class="n">X_tune_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y_tune</span><span class="p">,</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 10000 entries, 282275 to 657731
Columns: 256 entries, A√±oreg to icd_group_S√çNTOMAS, SIGNOS Y RESULTADOS ANORMALES DE PRUEBAS COMPLEMENTARIAS, NO CLASIFICADOS BAJO OTRO CONCEPTO
dtypes: float32(256)
memory usage: 9.8 MB
None
¬øTodas son float? True
¬øHay columnas tipo objeto? Series([], dtype: object)
¬øShape y valores √∫nicos en y? (10000, 256) (array(['CR√ìNICAS', 'INFECCIOSAS', 'OTROS', 'PERINATAL/MALFORMACIONES',
       'S√çNTOMAS/SIGNOS', 'TRAUMA/CAUSAS EXTERNAS'], dtype=object), array([1818, 1636, 1637, 1636, 1637, 1636]))
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[40]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"¬øTarget tiene NAs?"</span><span class="p">,</span> <span class="n">y_tune</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øClases target?"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y_tune</span><span class="p">,</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>¬øTarget tiene NAs? 0
¬øClases target? (array(['CR√ìNICAS', 'INFECCIOSAS', 'OTROS', 'PERINATAL/MALFORMACIONES',
       'S√çNTOMAS/SIGNOS', 'TRAUMA/CAUSAS EXTERNAS'], dtype=object), array([1818, 1636, 1637, 1636, 1637, 1636]))
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[42]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neural_network</span><span class="w"> </span><span class="kn">import</span> <span class="n">MLPClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>

<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'hidden_layer_sizes'</span><span class="p">:</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,)],</span>
    <span class="s1">'alpha'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>
    <span class="s1">'learning_rate_init'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>
    <span class="s1">'max_iter'</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="n">mlp</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="c1"># Quita early_stopping por ahora</span>
    <span class="c1"># early_stopping=True,</span>
    <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">mlp</span><span class="p">,</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">error_score</span><span class="o">=</span><span class="s1">'raise'</span>  <span class="c1"># as√≠ ves errores expl√≠citos</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune_clean</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"ERROR GRIDSEARCH:"</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">e</span><span class="p">)</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 2 folds for each of 24 candidates, totalling 48 fits
Iteration 1, loss = 1.56466818
Iteration 2, loss = 1.12212884
Iteration 3, loss = 0.79532737
Iteration 4, loss = 0.54146087
Iteration 5, loss = 0.38312992
Iteration 6, loss = 0.29526803
Iteration 7, loss = 0.24914810
Iteration 8, loss = 0.22191522
Iteration 9, loss = 0.20376448
Iteration 10, loss = 0.19245817
Iteration 11, loss = 0.18354297
Iteration 12, loss = 0.17731081
Iteration 13, loss = 0.17235510
Iteration 14, loss = 0.17000647
Iteration 15, loss = 0.16579758
Iteration 16, loss = 0.16349201
Iteration 17, loss = 0.16034162
Iteration 18, loss = 0.15885983
Iteration 19, loss = 0.15566520
Iteration 20, loss = 0.15338941
Iteration 21, loss = 0.15060470
Iteration 22, loss = 0.14931139
Iteration 23, loss = 0.14730284
Iteration 24, loss = 0.14588673
Iteration 25, loss = 0.14491475
Iteration 26, loss = 0.14226751
Iteration 27, loss = 0.14075257
Iteration 28, loss = 0.13741723
Iteration 29, loss = 0.13666376
Iteration 30, loss = 0.13516988
Iteration 31, loss = 0.13441929
Iteration 32, loss = 0.13143007
Iteration 33, loss = 0.12849814
Iteration 34, loss = 0.12734658
Iteration 35, loss = 0.12542748
Iteration 36, loss = 0.12423982
Iteration 37, loss = 0.12245230
Iteration 38, loss = 0.12238149
Iteration 39, loss = 0.11926915
Iteration 40, loss = 0.11766665
Iteration 41, loss = 0.11672945
Iteration 42, loss = 0.11433885
Iteration 43, loss = 0.11318462
Iteration 44, loss = 0.11171942
Iteration 45, loss = 0.10987974
Iteration 46, loss = 0.10843997
Iteration 47, loss = 0.10707408
Iteration 48, loss = 0.10579339
Iteration 49, loss = 0.10464883
Iteration 50, loss = 0.10426960
Iteration 51, loss = 0.10233023
Iteration 52, loss = 0.10140941
Iteration 53, loss = 0.10013100
Iteration 54, loss = 0.09960576
Iteration 55, loss = 0.09837542
Iteration 56, loss = 0.09591951
Iteration 57, loss = 0.09500575
Iteration 58, loss = 0.09559669
Iteration 59, loss = 0.09424343
Iteration 60, loss = 0.09202050
Iteration 61, loss = 0.09107187
Iteration 62, loss = 0.09006656
Iteration 63, loss = 0.09019081
Iteration 64, loss = 0.08906897
Iteration 65, loss = 0.08752829
Iteration 66, loss = 0.08623854
Iteration 67, loss = 0.08535316
Iteration 68, loss = 0.08482086
Iteration 69, loss = 0.08334541
Iteration 70, loss = 0.08287139
Iteration 71, loss = 0.08144968
Iteration 72, loss = 0.08092561
Iteration 73, loss = 0.08022951
Iteration 74, loss = 0.07844426
Iteration 75, loss = 0.07841610
Iteration 76, loss = 0.07693440
Iteration 77, loss = 0.07598832
Iteration 78, loss = 0.07593077
Iteration 79, loss = 0.07509673
Iteration 80, loss = 0.07492245
Iteration 81, loss = 0.07365352
Iteration 82, loss = 0.07373090
Iteration 83, loss = 0.07237860
Iteration 84, loss = 0.07199021
Iteration 85, loss = 0.07084870
Iteration 86, loss = 0.06990816
Iteration 87, loss = 0.06925501
Iteration 88, loss = 0.06920325
Iteration 89, loss = 0.06817171
Iteration 90, loss = 0.06755143
Iteration 91, loss = 0.06714962
Iteration 92, loss = 0.06698892
Iteration 93, loss = 0.06553373
Iteration 94, loss = 0.06400091
Iteration 95, loss = 0.06347965
Iteration 96, loss = 0.06478752
Iteration 97, loss = 0.06335281
Iteration 98, loss = 0.06179065
Iteration 99, loss = 0.06076464
Iteration 100, loss = 0.06066718
Mejores hiperpar√°metros: {'alpha': 0.01, 'hidden_layer_sizes': (50,), 'learning_rate_init': 0.001, 'max_iter': 100}
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\neural_network\_multilayer_perceptron.py:691: ConvergenceWarning: Stochastic Optimizer: Maximum iterations (100) reached and the optimization hasn't converged yet.
  warnings.warn(
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[44]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">mlp_final</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="c1"># early_stopping=True,   # &lt;---- QUITA early_stopping aqu√≠</span>
    <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">mlp_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_sub_clean</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Iteration 1, loss = 0.57107663
Iteration 2, loss = 0.18430178
Iteration 3, loss = 0.17121702
Iteration 4, loss = 0.16510889
Iteration 5, loss = 0.16012046
Iteration 6, loss = 0.15640634
Iteration 7, loss = 0.15343742
Iteration 8, loss = 0.15094441
Iteration 9, loss = 0.14877909
Iteration 10, loss = 0.14708363
Iteration 11, loss = 0.14534521
Iteration 12, loss = 0.14365287
Iteration 13, loss = 0.14230362
Iteration 14, loss = 0.14161421
Iteration 15, loss = 0.13958237
Iteration 16, loss = 0.13873301
Iteration 17, loss = 0.13750656
Iteration 18, loss = 0.13681866
Iteration 19, loss = 0.13555530
Iteration 20, loss = 0.13457525
Iteration 21, loss = 0.13399428
Iteration 22, loss = 0.13307711
Iteration 23, loss = 0.13220879
Iteration 24, loss = 0.13172963
Iteration 25, loss = 0.13070223
Iteration 26, loss = 0.13008177
Iteration 27, loss = 0.12919125
Iteration 28, loss = 0.12887442
Iteration 29, loss = 0.12811397
Iteration 30, loss = 0.12746103
Iteration 31, loss = 0.12704982
Iteration 32, loss = 0.12684487
Iteration 33, loss = 0.12561102
Iteration 34, loss = 0.12557565
Iteration 35, loss = 0.12513316
Iteration 36, loss = 0.12460825
Iteration 37, loss = 0.12426250
Iteration 38, loss = 0.12329960
Iteration 39, loss = 0.12313867
Iteration 40, loss = 0.12279111
Iteration 41, loss = 0.12253442
Iteration 42, loss = 0.12181501
Iteration 43, loss = 0.12186737
Iteration 44, loss = 0.12145355
Iteration 45, loss = 0.12095390
Iteration 46, loss = 0.12062983
Iteration 47, loss = 0.12017121
Iteration 48, loss = 0.11976106
Iteration 49, loss = 0.11959736
Iteration 50, loss = 0.11915178
Iteration 51, loss = 0.11943745
Iteration 52, loss = 0.11869340
Iteration 53, loss = 0.11844780
Iteration 54, loss = 0.11806151
Iteration 55, loss = 0.11800671
Iteration 56, loss = 0.11706659
Iteration 57, loss = 0.11721346
Iteration 58, loss = 0.11685423
Iteration 59, loss = 0.11730794
Iteration 60, loss = 0.11671968
Iteration 61, loss = 0.11675575
Iteration 62, loss = 0.11612689
Iteration 63, loss = 0.11586698
Iteration 64, loss = 0.11602406
Iteration 65, loss = 0.11520991
Iteration 66, loss = 0.11589018
Iteration 67, loss = 0.11477415
Iteration 68, loss = 0.11480702
Iteration 69, loss = 0.11460762
Iteration 70, loss = 0.11420652
Iteration 71, loss = 0.11473301
Iteration 72, loss = 0.11412538
Iteration 73, loss = 0.11387739
Iteration 74, loss = 0.11410333
Iteration 75, loss = 0.11355333
Iteration 76, loss = 0.11304205
Iteration 77, loss = 0.11297409
Iteration 78, loss = 0.11278716
Iteration 79, loss = 0.11208372
Iteration 80, loss = 0.11273506
Iteration 81, loss = 0.11232685
Iteration 82, loss = 0.11267232
Iteration 83, loss = 0.11181600
Iteration 84, loss = 0.11192703
Iteration 85, loss = 0.11213182
Iteration 86, loss = 0.11189997
Iteration 87, loss = 0.11175057
Iteration 88, loss = 0.11120700
Iteration 89, loss = 0.11108872
Iteration 90, loss = 0.11163141
Iteration 91, loss = 0.11118936
Iteration 92, loss = 0.11098549
Iteration 93, loss = 0.11095001
Iteration 94, loss = 0.11059131
Iteration 95, loss = 0.11033281
Iteration 96, loss = 0.11044034
Iteration 97, loss = 0.11042854
Iteration 98, loss = 0.11077834
Iteration 99, loss = 0.11053044
Iteration 100, loss = 0.10992287
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\neural_network\_multilayer_perceptron.py:691: ConvergenceWarning: Stochastic Optimizer: Maximum iterations (100) reached and the optimization hasn't converged yet.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[44]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-5 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-5 {
  color: var(--sklearn-color-text);
}

#sk-container-id-5 pre {
  padding: 0;
}

#sk-container-id-5 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-5 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-5 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-5 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-5 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-5 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-5 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-5 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-5 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-5 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-5 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-5 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-5 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-5 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-5 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-5 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-5 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-5 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-5 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-5 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-5 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-5 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-5 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-5 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-5 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-5 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-5 div.sk-label label.sk-toggleable__label,
#sk-container-id-5 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-5 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-5 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-5 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-5 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-5 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-5 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-5 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-5 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-5 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-5 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-5 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-5 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-5"><div class="sk-text-repr-fallback"><pre>MLPClassifier(alpha=0.01, hidden_layer_sizes=(50,), max_iter=100,
              random_state=123, verbose=True)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-5" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-5"><div><div>MLPClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neural_network.MLPClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for MLPClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>MLPClassifier(alpha=0.01, hidden_layer_sizes=(50,), max_iter=100,
              random_state=123, verbose=True)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[45]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">mlp_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_clean</span><span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.4736744949235976
Cohen's kappa: 0.007105748022062652
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Classification report:
                           precision    recall  f1-score   support

                CR√ìNICAS       0.74      0.59      0.66     72249
             INFECCIOSAS       0.00      0.00      0.00         0
                   OTROS       0.08      0.08      0.08      8182
PERINATAL/MALFORMACIONES       0.10      0.27      0.15      7172
         S√çNTOMAS/SIGNOS       0.00      0.00      0.00         0
  TRAUMA/CAUSAS EXTERNAS       0.07      0.07      0.07      9907

                accuracy                           0.47     97510
               macro avg       0.17      0.17      0.16     97510
            weighted avg       0.57      0.47      0.51     97510

Confusion matrix:
 [[42901  1425  5529 13587  1005  7802]
 [    0     0     0     0     0     0]
 [ 5131    82   653  1576   109   631]
 [ 2901   178  1465  1910    78   640]
 [    0     0     0     0     0     0]
 [ 6821   211   492  1284   375   724]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[¬†]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">lr_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_aligned</span><span class="p">)</span>

<span class="c1"># 3. Evaluaci√≥n</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.1383037637165419
Cohen's kappa: 0.0012125510260448946
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Classification report:
                           precision    recall  f1-score   support

                CR√ìNICAS       0.76      0.10      0.18     72249
             INFECCIOSAS       0.00      0.00      0.00         0
                   OTROS       0.09      0.59      0.16      8182
PERINATAL/MALFORMACIONES       0.16      0.11      0.13      7172
         S√çNTOMAS/SIGNOS       0.00      0.00      0.00         0
  TRAUMA/CAUSAS EXTERNAS       0.04      0.05      0.04      9907

                accuracy                           0.14     97510
               macro avg       0.18      0.14      0.08     97510
            weighted avg       0.59      0.14      0.16     97510

Confusion matrix:
 [[ 7405  6501 39548  3734  4423 10638]
 [    0     0     0     0     0     0]
 [ 1370   626  4826    12   590   758]
 [  452   956  3882   762   310   810]
 [    0     0     0     0     0     0]
 [  512   419  5781   163  2539   493]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Nivel-2">Nivel 2<a class="anchor-link" href="#Nivel-2">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[37]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train.csv"</span><span class="p">)</span>

<span class="c1"># Determina el nombre de la columna</span>
<span class="n">codigo_col</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'target'</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">y_train</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">codigo_col</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">break</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">codigo_col</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">"No se encontr√≥ columna de c√≥digos CIE-10 en y_train."</span><span class="p">)</span>

<span class="c1"># Visualiza ejemplos problem√°ticos</span>
<span class="n">ejemplos_x</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">y_train</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"X"</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">False</span><span class="p">)][</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Ejemplos de c√≥digos que empiezan con X:"</span><span class="p">,</span> <span class="n">ejemplos_x</span><span class="p">[:</span><span class="mi">20</span><span class="p">])</span>

<span class="c1"># M√©todo A: Filtra c√≥digos de suicidio/autolesi√≥n permitiendo 3 o 4 d√≠gitos y sufijos</span>
<span class="k">def</span><span class="w"> </span><span class="nf">es_suicidio_autolesion</span><span class="p">(</span><span class="n">cod</span><span class="p">):</span>
    <span class="n">cod</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod</span><span class="p">)</span>
    <span class="c1"># Normaliza ceros a la izquierda (ej. X060)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X0?([6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">return</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">84</span>
    <span class="c1"># Alternativamente, busca exactamente los patrones X60...X84</span>
    <span class="n">m2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m2</span><span class="p">:</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m2</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">return</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n2</span> <span class="o">&lt;=</span> <span class="mi">84</span>
    <span class="c1"># Si el c√≥digo es tipo X649, toma solo los primeros tres caracteres (X64)</span>
    <span class="n">m3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^(X[6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m3</span><span class="p">:</span>
        <span class="n">n3</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m3</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">return</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n3</span> <span class="o">&lt;=</span> <span class="mi">84</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Prueba en todo el dataset</span>
<span class="n">suicidio_mask</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">es_suicidio_autolesion</span><span class="p">)</span>
<span class="n">suicidio_codigos</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">suicidio_mask</span><span class="p">,</span> <span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total de c√≥digos de suicidio/autolesi√≥n (X60-X84): </span><span class="si">{</span><span class="n">suicidio_mask</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Ejemplos de c√≥digos identificados:"</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">suicidio_codigos</span><span class="p">))</span>

<span class="c1"># EXTRA: Busca X60-X84 en los primeros 3-4 caracteres y muestra todos los distintos formatos</span>
<span class="k">for</span> <span class="n">extra</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">850</span><span class="p">):</span>
    <span class="n">prefijo</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"X</span><span class="si">{</span><span class="n">extra</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">y_train</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefijo</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">False</span><span class="p">)][</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Prefijo </span><span class="si">{</span><span class="n">prefijo</span><span class="si">}</span><span class="s2"> - Encontrados: </span><span class="si">{</span><span class="n">matches</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Si hay ceros, sufijos, etc., ajusta la regex de arriba.</span>

<span class="c1"># Tambi√©n puedes usar un filtrado simple:</span>
<span class="n">suicidio_codigos_all</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span>
    <span class="n">y_train</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="sa">f</span><span class="s2">"X</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">85</span><span class="p">)])</span>
<span class="p">][</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Con filtrado por los 3 primeros caracteres:"</span><span class="p">,</span> <span class="n">suicidio_codigos_all</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Ejemplos de c√≥digos que empiezan con X: ['X599' 'X689' 'X959' 'X950' 'X994' 'X709' 'X958' 'X999' 'X499' 'X954'
 'X489' 'X990' 'X099' 'X339' 'X590' 'X459' 'X919' 'X209' 'X953' 'X952']
Total de c√≥digos de suicidio/autolesi√≥n (X60-X84): 4343
Ejemplos de c√≥digos identificados: ['X689', 'X709', 'X699', 'X700', 'X749', 'X682', 'X680', 'X744', 'X708', 'X649', 'X690', 'X784', 'X745', 'X849', 'X704', 'X789', 'X669', 'X609', 'X702', 'X748', 'X692', 'X769', 'X719', 'X840', 'X701', 'X650', 'X740', 'X844', 'X839', 'X718', 'X694', 'X688', 'X695', 'X639', 'X706', 'X847', 'X707', 'X640', 'X848', 'X705', 'X684', 'X685', 'X659', 'X642', 'X679', 'X780', 'X809', 'X742', 'X747', 'X842', 'X619', 'X714', 'X698', 'X648', 'X644', 'X746', 'X741', 'X629', 'X610']
Prefijo X609 - Encontrados: ['X609']
Prefijo X610 - Encontrados: ['X610']
Prefijo X619 - Encontrados: ['X619']
Prefijo X629 - Encontrados: ['X629']
Prefijo X639 - Encontrados: ['X639']
Prefijo X640 - Encontrados: ['X640']
Prefijo X642 - Encontrados: ['X642']
Prefijo X644 - Encontrados: ['X644']
Prefijo X648 - Encontrados: ['X648']
Prefijo X649 - Encontrados: ['X649']
Prefijo X650 - Encontrados: ['X650']
Prefijo X659 - Encontrados: ['X659']
Prefijo X669 - Encontrados: ['X669']
Prefijo X679 - Encontrados: ['X679']
Prefijo X680 - Encontrados: ['X680']
Prefijo X682 - Encontrados: ['X682']
Prefijo X684 - Encontrados: ['X684']
Prefijo X685 - Encontrados: ['X685']
Prefijo X688 - Encontrados: ['X688']
Prefijo X689 - Encontrados: ['X689']
Prefijo X690 - Encontrados: ['X690']
Prefijo X692 - Encontrados: ['X692']
Prefijo X694 - Encontrados: ['X694']
Prefijo X695 - Encontrados: ['X695']
Prefijo X698 - Encontrados: ['X698']
Prefijo X699 - Encontrados: ['X699']
Prefijo X700 - Encontrados: ['X700']
Prefijo X701 - Encontrados: ['X701']
Prefijo X702 - Encontrados: ['X702']
Prefijo X704 - Encontrados: ['X704']
Prefijo X705 - Encontrados: ['X705']
Prefijo X706 - Encontrados: ['X706']
Prefijo X707 - Encontrados: ['X707']
Prefijo X708 - Encontrados: ['X708']
Prefijo X709 - Encontrados: ['X709']
Prefijo X714 - Encontrados: ['X714']
Prefijo X718 - Encontrados: ['X718']
Prefijo X719 - Encontrados: ['X719']
Prefijo X740 - Encontrados: ['X740']
Prefijo X741 - Encontrados: ['X741']
Prefijo X742 - Encontrados: ['X742']
Prefijo X744 - Encontrados: ['X744']
Prefijo X745 - Encontrados: ['X745']
Prefijo X746 - Encontrados: ['X746']
Prefijo X747 - Encontrados: ['X747']
Prefijo X748 - Encontrados: ['X748']
Prefijo X749 - Encontrados: ['X749']
Prefijo X769 - Encontrados: ['X769']
Prefijo X780 - Encontrados: ['X780']
Prefijo X784 - Encontrados: ['X784']
Prefijo X789 - Encontrados: ['X789']
Prefijo X809 - Encontrados: ['X809']
Prefijo X839 - Encontrados: ['X839']
Prefijo X840 - Encontrados: ['X840']
Prefijo X842 - Encontrados: ['X842']
Prefijo X844 - Encontrados: ['X844']
Prefijo X847 - Encontrados: ['X847']
Prefijo X848 - Encontrados: ['X848']
Prefijo X849 - Encontrados: ['X849']
Con filtrado por los 3 primeros caracteres: ['X689' 'X709' 'X699' 'X700' 'X749' 'X682' 'X680' 'X744' 'X708' 'X649'
 'X690' 'X784' 'X745' 'X849' 'X704' 'X789' 'X669' 'X609' 'X702' 'X748'
 'X692' 'X769' 'X719' 'X840' 'X701' 'X650' 'X740' 'X844' 'X839' 'X718'
 'X694' 'X688' 'X695' 'X639' 'X706' 'X847' 'X707' 'X640' 'X848' 'X705'
 'X684' 'X685' 'X659' 'X642' 'X679' 'X780' 'X809' 'X742' 'X747' 'X842'
 'X619' 'X714' 'X698' 'X648' 'X644' 'X746' 'X741' 'X629' 'X610']
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[56]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span><span class="p">,</span> <span class="n">shuffle</span>

<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>
<span class="n">y_train_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train.csv"</span><span class="p">)</span>
<span class="n">X_train_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train.csv"</span><span class="p">)</span>  <span class="c1"># aseg√∫rate que ambos est√©n alineados</span>

<span class="c1"># Paso 1: Determina nombre de columna</span>
<span class="n">codigo_col</span> <span class="o">=</span> <span class="s1">'target'</span> <span class="k">if</span> <span class="s1">'target'</span> <span class="ow">in</span> <span class="n">y_train_raw</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s1">'Caudef'</span>

<span class="c1"># Paso 2: Mapea macrogrupo SOLO para identificar trauma</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cie10_to_macrogrupo</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"A00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"B99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"INFECCIOSAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"C00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"N99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"CR√ìNICAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"O00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Q99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"R00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"R99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"S√çNTOMAS/SIGNOS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"S00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Y99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"OTROS"</span>

<span class="n">y_train_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_train_raw</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cie10_to_macrogrupo</span><span class="p">)</span>

<span class="c1"># Paso 3: Filtra solo trauma, index alineado</span>
<span class="n">mask_trauma</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_train_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span><span class="p">)</span>
<span class="n">X_trauma</span> <span class="o">=</span> <span class="n">X_train_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_trauma</span> <span class="o">=</span> <span class="n">y_train_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Paso 4: Subclasifica trauma</span>
<span class="k">def</span><span class="w"> </span><span class="nf">map_causa_trauma</span><span class="p">(</span><span class="n">cod</span><span class="p">):</span>
    <span class="n">cod</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod</span><span class="p">)</span>
    <span class="c1"># Extrae solo los primeros tres d√≠gitos y el prefijo</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cod</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">84</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">"Suicidio/Autolesiones"</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X(8[5-9]|9[0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y0[0-9]"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Homicidio/Agresi√≥n"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'V'</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Accidente de Transporte"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'W'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([0-5][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y([1-9][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Otros Accidentes"</span>
    <span class="k">return</span> <span class="s2">"Otros"</span>

<span class="n">y_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_trauma</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">map_causa_trauma</span><span class="p">)</span>

<span class="c1"># Paso 5: Imprime y revisa distribuci√≥n</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n trauma (antes de balancear):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># Si quieres, haz balanceo aqu√≠ con resample, como antes (¬°ya no pierdes suicidio!)</span>

<span class="c1"># Paso 6: Guarda resultados</span>
<span class="n">X_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Distribuci√≥n trauma (antes de balancear):
causa_trauma
Otros Accidentes           0.444
Homicidio/Agresi√≥n         0.282
Otros                      0.147
Accidente de Transporte    0.089
Suicidio/Autolesiones      0.037
Name: proportion, dtype: float64
causa_trauma
Otros Accidentes           51926
Homicidio/Agresi√≥n         32933
Otros                      17209
Accidente de Transporte    10427
Suicidio/Autolesiones       4343
Name: count, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[42]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span><span class="p">,</span> <span class="n">shuffle</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Paths</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>
<span class="n">X_trauma</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train_trauma.csv"</span><span class="p">)</span>
<span class="n">y_trauma</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train_trauma.csv"</span><span class="p">)</span>

<span class="c1"># Par√°metros: decide el tama√±o objetivo de cada clase</span>
<span class="c1"># Elige el tama√±o de la clase minoritaria M√ÅS GRANDE (no la m√°s peque√±a absoluta)</span>
<span class="n">clase_counts</span> <span class="o">=</span> <span class="n">y_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">n_target</span> <span class="o">=</span> <span class="n">clase_counts</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>  <span class="c1"># o usa min() para un set muy balanceado y peque√±o</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Conteo original:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">clase_counts</span><span class="p">)</span>

<span class="c1"># Balanceo</span>
<span class="n">X_bal</span><span class="p">,</span> <span class="n">y_bal</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">clase</span><span class="p">,</span> <span class="n">n_clase</span> <span class="ow">in</span> <span class="n">clase_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="o">==</span> <span class="n">clase</span><span class="p">)</span>
    <span class="n">X_c</span> <span class="o">=</span> <span class="n">X_trauma</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="n">y_c</span> <span class="o">=</span> <span class="n">y_trauma</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">n_clase</span> <span class="o">&lt;</span> <span class="n">n_target</span><span class="p">:</span>
        <span class="c1"># Oversample con reemplazo</span>
        <span class="n">X_c_res</span><span class="p">,</span> <span class="n">y_c_res</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
            <span class="n">X_c</span><span class="p">,</span> <span class="n">y_c</span><span class="p">,</span>
            <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">n_samples</span><span class="o">=</span><span class="n">n_target</span><span class="p">,</span>
            <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">n_clase</span> <span class="o">&gt;</span> <span class="n">n_target</span><span class="p">:</span>
        <span class="c1"># Undersample sin reemplazo</span>
        <span class="n">X_c_res</span><span class="p">,</span> <span class="n">y_c_res</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
            <span class="n">X_c</span><span class="p">,</span> <span class="n">y_c</span><span class="p">,</span>
            <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">n_samples</span><span class="o">=</span><span class="n">n_target</span><span class="p">,</span>
            <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">X_c_res</span><span class="p">,</span> <span class="n">y_c_res</span> <span class="o">=</span> <span class="n">X_c</span><span class="p">,</span> <span class="n">y_c</span>
    <span class="n">X_bal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X_c_res</span><span class="p">)</span>
    <span class="n">y_bal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_c_res</span><span class="p">)</span>

<span class="n">X_trauma_bal</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">X_bal</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_trauma_bal</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">y_bal</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Mezcla filas para evitar orden por clase</span>
<span class="n">X_trauma_bal</span><span class="p">,</span> <span class="n">y_trauma_bal</span> <span class="o">=</span> <span class="n">shuffle</span><span class="p">(</span><span class="n">X_trauma_bal</span><span class="p">,</span> <span class="n">y_trauma_bal</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n balanceada:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_trauma_bal</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_trauma_bal</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># Guarda</span>
<span class="n">X_trauma_bal</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train_trauma_balanced.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_trauma_bal</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train_trauma_balanced.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Conteo original:
causa_trauma
Otros Accidentes           51926
Homicidio/Agresi√≥n         32933
Otros                      17209
Accidente de Transporte    10427
Suicidio/Autolesiones       4343
Name: count, dtype: int64

Distribuci√≥n balanceada:
causa_trauma
Otros                      0.2
Otros Accidentes           0.2
Suicidio/Autolesiones      0.2
Accidente de Transporte    0.2
Homicidio/Agresi√≥n         0.2
Name: proportion, dtype: float64
causa_trauma
Otros                      51926
Otros Accidentes           51926
Suicidio/Autolesiones      51926
Accidente de Transporte    51926
Homicidio/Agresi√≥n         51926
Name: count, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[57]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">test_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\test"</span><span class="p">)</span>

<span class="c1"># Carga los archivos originales de test</span>
<span class="n">y_test_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"y_test.csv"</span><span class="p">)</span>
<span class="n">X_test_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"X_test.csv"</span><span class="p">)</span>  <span class="c1"># Deben estar alineados</span>

<span class="c1"># Determina el nombre de la columna de c√≥digo</span>
<span class="n">codigo_col</span> <span class="o">=</span> <span class="s1">'target'</span> <span class="k">if</span> <span class="s1">'target'</span> <span class="ow">in</span> <span class="n">y_test_raw</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s1">'Caudef'</span>

<span class="c1"># Macrogrupo solo para identificar trauma</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cie10_to_macrogrupo</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"A00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"B99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"INFECCIOSAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"C00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"N99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"CR√ìNICAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"O00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Q99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"R00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"R99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"S√çNTOMAS/SIGNOS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"S00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Y99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"OTROS"</span>

<span class="n">y_test_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_test_raw</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cie10_to_macrogrupo</span><span class="p">)</span>

<span class="c1"># Filtra trauma con √≠ndices alineados</span>
<span class="n">mask_trauma</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_test_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span><span class="p">)</span>
<span class="n">X_test_trauma</span> <span class="o">=</span> <span class="n">X_test_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_test_trauma</span> <span class="o">=</span> <span class="n">y_test_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Subclasifica trauma igual que en train</span>
<span class="k">def</span><span class="w"> </span><span class="nf">map_causa_trauma</span><span class="p">(</span><span class="n">cod</span><span class="p">):</span>
    <span class="n">cod</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod</span><span class="p">)</span>
    <span class="c1"># Suicidio/autolesiones X60-X84 (tres primeros caracteres)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cod</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">84</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">"Suicidio/Autolesiones"</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X(8[5-9]|9[0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y0[0-9]"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Homicidio/Agresi√≥n"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'V'</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Accidente de Transporte"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'W'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([0-5][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y([1-9][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Otros Accidentes"</span>
    <span class="k">return</span> <span class="s2">"Otros"</span>

<span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_test_trauma</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">map_causa_trauma</span><span class="p">)</span>

<span class="c1"># Imprime para verificar</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n trauma TEST (antes de balancear):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># Guarda para modelado de nivel 2</span>
<span class="n">X_test_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"X_test_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_test_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"y_test_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Distribuci√≥n trauma TEST (antes de balancear):
causa_trauma
Otros Accidentes           0.445
Homicidio/Agresi√≥n         0.282
Otros                      0.147
Accidente de Transporte    0.089
Suicidio/Autolesiones      0.037
Name: proportion, dtype: float64
causa_trauma
Otros Accidentes           22263
Homicidio/Agresi√≥n         14108
Otros                       7374
Accidente de Transporte     4468
Suicidio/Autolesiones       1862
Name: count, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[52]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">StratifiedKFold</span><span class="p">,</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>

<span class="c1"># Carga sets balanceados (de trauma, nivel 2)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train_trauma_balanced.csv"</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train_trauma_balanced.csv"</span><span class="p">)[</span><span class="s1">'causa_trauma'</span><span class="p">]</span>

<span class="c1"># 1. Submuestreo para tuning de hiperpar√°metros (m√°s chico)</span>
<span class="n">N_TUNE</span> <span class="o">=</span> <span class="mi">20000</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> 
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNE</span><span class="p">,</span> 
    <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> 
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>

<span class="c1"># 2. Submuestreo para entrenamiento final (puede ser todo, o m√°s grande)</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">100000</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> 
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span> 
    <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> 
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[49]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 3. Grid de hiperpar√°metros (ajusta seg√∫n el modelo)</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'max_depth'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="s1">'min_samples_leaf'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s1">'n_estimators'</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">RandomForestClassifier</span><span class="p">(</span>
        <span class="n">max_features</span><span class="o">=</span><span class="s1">'sqrt'</span><span class="p">,</span>
        <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced_subsample'</span><span class="p">,</span>
        <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
    <span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 18 candidates, totalling 54 fits
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   1.2s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   1.1s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   1.1s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=200; total time=   2.2s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=200; total time=   2.1s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=200; total time=   2.1s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   1.1s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   1.0s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   1.0s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=200; total time=   2.0s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=200; total time=   2.0s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=200; total time=   3.8s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   1.1s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   1.0s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   1.1s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=200; total time=   2.0s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=200; total time=   2.0s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=200; total time=   2.1s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=100; total time=   1.6s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=100; total time=   1.6s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=100; total time=   1.7s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=200; total time=   2.9s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=200; total time=   3.0s
[CV] END .max_depth=20, min_samples_leaf=1, n_estimators=200; total time=   3.0s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=100; total time=   1.3s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=100; total time=   1.5s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=100; total time=   1.4s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=200; total time=   2.8s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=200; total time=   2.8s
[CV] END .max_depth=20, min_samples_leaf=5, n_estimators=200; total time=   2.7s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=100; total time=   1.2s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=100; total time=   1.4s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=100; total time=   1.5s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=200; total time=   2.6s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=200; total time=   2.3s
[CV] END max_depth=20, min_samples_leaf=10, n_estimators=200; total time=   2.5s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   1.8s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   1.9s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   2.2s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=   3.9s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=   3.9s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=200; total time=   3.7s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   1.4s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   1.6s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   1.4s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=   2.9s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=   2.8s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=200; total time=   2.7s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   1.4s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   1.3s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   1.4s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=   3.1s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=   2.5s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=200; total time=   2.7s
Mejores hiperpar√°metros: {'max_depth': None, 'min_samples_leaf': 1, 'n_estimators': 200}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[53]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">rf_final2</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">max_features</span><span class="o">=</span><span class="s1">'sqrt'</span><span class="p">,</span>
    <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced_subsample'</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">rf_final2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[53]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-3 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-3 {
  color: var(--sklearn-color-text);
}

#sk-container-id-3 pre {
  padding: 0;
}

#sk-container-id-3 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-3 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-3 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-3 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-3 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-3 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-3 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-3 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-3 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-3 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-3 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-3 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-3 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-3 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-3 div.sk-label label.sk-toggleable__label,
#sk-container-id-3 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-3 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-3 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-3 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-3 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-3 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-3 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-3 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-3 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-3 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-3"><div class="sk-text-repr-fallback"><pre>RandomForestClassifier(class_weight='balanced_subsample', n_estimators=200,
                       n_jobs=-1, random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-3"><div><div>RandomForestClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for RandomForestClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>RandomForestClassifier(class_weight='balanced_subsample', n_estimators=200,
                       n_jobs=-1, random_state=123)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[60]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="c1"># Asegura que solo usas la columna correcta:</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">y_test_trauma</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.666480279580629
Classification report:
                          precision    recall  f1-score   support

Accidente de Transporte       0.39      0.57      0.46      4468
     Homicidio/Agresi√≥n       0.59      0.61      0.60     14108
                  Otros       1.00      1.00      1.00      7374
       Otros Accidentes       0.74      0.64      0.69     22263
  Suicidio/Autolesiones       0.25      0.33      0.28      1862

               accuracy                           0.67     50075
              macro avg       0.59      0.63      0.61     50075
           weighted avg       0.69      0.67      0.67     50075

Confusion matrix:
 [[ 2527   745     0  1001   195]
 [ 1615  8561     0  3452   480]
 [    0     0  7374     0     0]
 [ 2148  4689     0 14306  1120]
 [  256   394     0   606   606]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Regresi%C3%B3n-Log%C3%ADstica">Regresi√≥n Log√≠stica<a class="anchor-link" href="#Regresi%C3%B3n-Log%C3%ADstica">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[51]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">test_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\test"</span><span class="p">)</span>

<span class="c1"># Carga los archivos originales de test</span>
<span class="n">y_test_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"y_test.csv"</span><span class="p">)</span>
<span class="n">X_test_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"X_test.csv"</span><span class="p">)</span>  <span class="c1"># Deben estar alineados</span>

<span class="c1"># Determina el nombre de la columna de c√≥digo</span>
<span class="n">codigo_col</span> <span class="o">=</span> <span class="s1">'target'</span> <span class="k">if</span> <span class="s1">'target'</span> <span class="ow">in</span> <span class="n">y_test_raw</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s1">'Caudef'</span>

<span class="c1"># Macrogrupo solo para identificar trauma</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cie10_to_macrogrupo</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"A00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"B99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"INFECCIOSAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"C00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"N99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"CR√ìNICAS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"O00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Q99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"PERINATAL/MALFORMACIONES"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"R00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"R99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"S√çNTOMAS/SIGNOS"</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">&gt;=</span> <span class="s2">"S00"</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="s2">"Y99"</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">"OTROS"</span>

<span class="n">y_test_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_test_raw</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cie10_to_macrogrupo</span><span class="p">)</span>

<span class="c1"># Filtra trauma con √≠ndices alineados</span>
<span class="n">mask_trauma</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_test_raw</span><span class="p">[</span><span class="s1">'macrogrupo'</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"TRAUMA/CAUSAS EXTERNAS"</span><span class="p">)</span>
<span class="n">X_test_trauma</span> <span class="o">=</span> <span class="n">X_test_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_test_trauma</span> <span class="o">=</span> <span class="n">y_test_raw</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_trauma</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Subclasifica trauma igual que en train</span>
<span class="k">def</span><span class="w"> </span><span class="nf">map_causa_trauma</span><span class="p">(</span><span class="n">cod</span><span class="p">):</span>
    <span class="n">cod</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod</span><span class="p">)</span>
    <span class="c1"># Suicidio/autolesiones X60-X84 (tres primeros caracteres)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([6-8][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cod</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">84</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">"Suicidio/Autolesiones"</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X(8[5-9]|9[0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y0[0-9]"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Homicidio/Agresi√≥n"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'V'</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Accidente de Transporte"</span>
    <span class="k">if</span> <span class="n">cod</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'W'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^X([0-5][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">)</span> <span class="ow">or</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^Y([1-9][0-9])"</span><span class="p">,</span> <span class="n">cod</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"Otros Accidentes"</span>
    <span class="k">return</span> <span class="s2">"Otros"</span>

<span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_test_trauma</span><span class="p">[</span><span class="n">codigo_col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">map_causa_trauma</span><span class="p">)</span>

<span class="c1"># Imprime para verificar</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Distribuci√≥n trauma TEST (antes de balancear):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="c1"># Guarda para modelado de nivel 2</span>
<span class="n">X_test_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"X_test_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">y_test_trauma</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">test_dir</span> <span class="o">/</span> <span class="s2">"y_test_trauma.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Distribuci√≥n trauma TEST (antes de balancear):
causa_trauma
Otros Accidentes           0.445
Homicidio/Agresi√≥n         0.282
Otros                      0.147
Accidente de Transporte    0.089
Suicidio/Autolesiones      0.037
Name: proportion, dtype: float64
causa_trauma
Otros Accidentes           22263
Homicidio/Agresi√≥n         14108
Otros                       7374
Accidente de Transporte     4468
Suicidio/Autolesiones       1862
Name: count, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[54]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">StratifiedKFold</span><span class="p">,</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="n">RND</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>

<span class="c1"># Carga sets balanceados (de trauma, nivel 2)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"X_train_trauma_balanced.csv"</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"y_train_trauma_balanced.csv"</span><span class="p">)[</span><span class="s1">'causa_trauma'</span><span class="p">]</span>

<span class="c1"># 1. Submuestreo para tuning de hiperpar√°metros (m√°s chico)</span>
<span class="n">N_TUNE</span> <span class="o">=</span> <span class="mi">20000</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> 
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TUNE</span><span class="p">,</span> 
    <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> 
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span>
<span class="p">)</span>

<span class="c1"># 2. Submuestreo para entrenamiento final (puede ser todo, o m√°s grande)</span>
<span class="n">N_TRAIN</span> <span class="o">=</span> <span class="mi">100000</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> 
    <span class="n">train_size</span><span class="o">=</span><span class="n">N_TRAIN</span><span class="p">,</span> 
    <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> 
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span> <span class="o">+</span> <span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[55]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span><span class="p">,</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">cohen_kappa_score</span>

<span class="c1"># --- Hiperpar√°metros y cross-validation ---</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'C'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s1">'solver'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'lbfgs'</span><span class="p">],</span>
    <span class="s1">'max_iter'</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">],</span>
    <span class="s1">'multi_class'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'multinomial'</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="c1"># --- GridSearch sobre tuning set ---</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">lr</span><span class="p">,</span> <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 4 candidates, totalling 12 fits
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Mejores hiperpar√°metros: {'C': 1, 'max_iter': 200, 'multi_class': 'multinomial', 'solver': 'lbfgs'}
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:465: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. OF ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
Please also refer to the documentation for alternative solver options:
    https://scikit-learn.org/stable/modules/linear_model.html#logistic-regression
  n_iter_i = _check_optimize_result(
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[56]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Entrenamiento final ---</span>
<span class="n">lr_final</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">lr_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># --- Asegura alineaci√≥n de columnas en test ---</span>
<span class="n">common_cols</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">X_test_trauma</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">X_test_eval</span> <span class="o">=</span> <span class="n">X_test_trauma</span><span class="p">[</span><span class="n">common_cols</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># fuerza num√©rico</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1247: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, it will always use 'multinomial'. Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[57]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Predicci√≥n y evaluaci√≥n ---</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">y_test_trauma</span>
<span class="n">y_pred_test</span> <span class="o">=</span> <span class="n">lr_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_eval</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.5575237144283575
Cohen's kappa: 0.4265480726362776
Classification report:
                          precision    recall  f1-score   support

Accidente de Transporte       0.29      0.54      0.38      4468
     Homicidio/Agresi√≥n       0.56      0.55      0.56     14108
                  Otros       1.00      1.00      1.00      7374
       Otros Accidentes       0.77      0.42      0.54     22263
  Suicidio/Autolesiones       0.12      0.54      0.20      1862

               accuracy                           0.56     50075
              macro avg       0.55      0.61      0.53     50075
           weighted avg       0.68      0.56      0.59     50075

Confusion matrix:
 [[2412  635    0  576  845]
 [2160 7773    0 2034 2141]
 [   0    0 7374    0    0]
 [3356 5106    0 9354 4447]
 [ 362  300    0  195 1005]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="KNN">KNN<a class="anchor-link" href="#KNN">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[58]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>

<span class="c1"># --- Definici√≥n de hiperpar√°metros y CV ---</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'n_neighbors'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
    <span class="s1">'weights'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'uniform'</span><span class="p">,</span> <span class="s1">'distance'</span><span class="p">],</span>
    <span class="s1">'p'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>  <span class="c1"># Manhattan (1) y Eucl√≠dea (2)</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RND</span><span class="p">)</span>

<span class="c1"># --- Tuning de hiperpar√°metros (grid search) ---</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">gs_knn</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">knn</span><span class="p">,</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros (KNN):"</span><span class="p">,</span> <span class="n">gs_knn</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 16 candidates, totalling 48 fits
Mejores hiperpar√°metros (KNN): {'n_neighbors': 20, 'p': 1, 'weights': 'distance'}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[59]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Entrenamiento final ---</span>
<span class="n">knn_final</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs_knn</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">knn_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># --- Alineaci√≥n de columnas y tipo num√©rico ---</span>
<span class="n">common_cols</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">X_test_trauma</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">X_test_eval</span> <span class="o">=</span> <span class="n">X_test_trauma</span><span class="p">[</span><span class="n">common_cols</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># Asegura tipo correcto</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[60]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Predicci√≥n y evaluaci√≥n ---</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test_trauma</span><span class="p">[</span><span class="s1">'causa_trauma'</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_test_trauma</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">y_test_trauma</span>
<span class="n">y_pred_test</span> <span class="o">=</span> <span class="n">knn_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_eval</span><span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.5223364952571143
Cohen's kappa: 0.3858702208041024
Classification report:
                          precision    recall  f1-score   support

Accidente de Transporte       0.27      0.46      0.34      4468
     Homicidio/Agresi√≥n       0.54      0.54      0.54     14108
                  Otros       0.91      0.99      0.94      7374
       Otros Accidentes       0.74      0.37      0.49     22263
  Suicidio/Autolesiones       0.11      0.54      0.18      1862

               accuracy                           0.52     50075
              macro avg       0.51      0.58      0.50     50075
           weighted avg       0.64      0.52      0.55     50075

Confusion matrix:
 [[2070  760   81  582  975]
 [2113 7574   95 2032 2294]
 [  24   13 7285    5   47]
 [3183 5487  567 8224 4802]
 [ 270  320   19  250 1003]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="RNA">RNA<a class="anchor-link" href="#RNA">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[108]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neural_network</span><span class="w"> </span><span class="kn">import</span> <span class="n">MLPClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Codificar las etiquetas de clase</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_tune_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_tune_clean</span><span class="p">)</span>
<span class="n">y_train_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_train_clean</span><span class="p">)</span>
<span class="n">y_test_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test_clean</span><span class="p">)</span>

<span class="c1"># Asegurar que las caracter√≠sticas sean de tipo float</span>
<span class="n">X_tune_clean</span> <span class="o">=</span> <span class="n">X_tune_clean</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="n">X_train_clean</span> <span class="o">=</span> <span class="n">X_train_clean</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="n">X_test_clean</span> <span class="o">=</span> <span class="n">X_test_clean</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[109]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Definir el modelo y la b√∫squeda de hiperpar√°metros</span>
<span class="n">mlp</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'hidden_layer_sizes'</span><span class="p">:</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,)],</span>
    <span class="s1">'alpha'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>
    <span class="s1">'learning_rate_init'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">gs_mlp</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">mlp</span><span class="p">,</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>

<span class="c1"># Ajustar el modelo</span>
<span class="n">gs_mlp</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune_clean</span><span class="p">,</span> <span class="n">y_tune_encoded</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros (MLP):"</span><span class="p">,</span> <span class="n">gs_mlp</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 24 candidates, totalling 72 fits
Iteration 1, loss = 1.13661505
Iteration 2, loss = 0.91525169
Iteration 3, loss = 0.87753848
Iteration 4, loss = 0.85466721
Iteration 5, loss = 0.83454579
Iteration 6, loss = 0.82111270
Iteration 7, loss = 0.80695703
Iteration 8, loss = 0.79144272
Iteration 9, loss = 0.77792528
Iteration 10, loss = 0.76696385
Iteration 11, loss = 0.75392211
Iteration 12, loss = 0.74053697
Iteration 13, loss = 0.72817129
Iteration 14, loss = 0.71935772
Iteration 15, loss = 0.70780987
Iteration 16, loss = 0.69767513
Iteration 17, loss = 0.68521095
Iteration 18, loss = 0.67197736
Iteration 19, loss = 0.66799123
Iteration 20, loss = 0.65181206
Iteration 21, loss = 0.64487439
Iteration 22, loss = 0.63560101
Iteration 23, loss = 0.62787003
Iteration 24, loss = 0.61476902
Iteration 25, loss = 0.60775375
Iteration 26, loss = 0.59954693
Iteration 27, loss = 0.58854519
Iteration 28, loss = 0.58329178
Iteration 29, loss = 0.57216844
Iteration 30, loss = 0.56834934
Iteration 31, loss = 0.55657542
Iteration 32, loss = 0.54695938
Iteration 33, loss = 0.54494556
Iteration 34, loss = 0.53262830
Iteration 35, loss = 0.53254261
Iteration 36, loss = 0.52142050
Iteration 37, loss = 0.51355307
Iteration 38, loss = 0.50722199
Iteration 39, loss = 0.50070072
Iteration 40, loss = 0.49593998
Iteration 41, loss = 0.49247138
Iteration 42, loss = 0.48175857
Iteration 43, loss = 0.47956631
Iteration 44, loss = 0.46885617
Iteration 45, loss = 0.46527247
Iteration 46, loss = 0.45998374
Iteration 47, loss = 0.45141398
Iteration 48, loss = 0.45020864
Iteration 49, loss = 0.44367644
Iteration 50, loss = 0.43297445
Iteration 51, loss = 0.43305251
Iteration 52, loss = 0.42957918
Iteration 53, loss = 0.42359432
Iteration 54, loss = 0.41564119
Iteration 55, loss = 0.41187824
Iteration 56, loss = 0.40330200
Iteration 57, loss = 0.39771137
Iteration 58, loss = 0.40203059
Iteration 59, loss = 0.38697421
Iteration 60, loss = 0.38637201
Iteration 61, loss = 0.38079159
Iteration 62, loss = 0.37423924
Iteration 63, loss = 0.37642922
Iteration 64, loss = 0.37263217
Iteration 65, loss = 0.36098755
Iteration 66, loss = 0.36503554
Iteration 67, loss = 0.35808106
Iteration 68, loss = 0.35566386
Iteration 69, loss = 0.34680057
Iteration 70, loss = 0.34644239
Iteration 71, loss = 0.34259280
Iteration 72, loss = 0.33881145
Iteration 73, loss = 0.33439558
Iteration 74, loss = 0.32902958
Iteration 75, loss = 0.32697356
Iteration 76, loss = 0.32210911
Iteration 77, loss = 0.32111109
Iteration 78, loss = 0.32032624
Iteration 79, loss = 0.31256227
Iteration 80, loss = 0.30687302
Iteration 81, loss = 0.30444767
Iteration 82, loss = 0.30413358
Iteration 83, loss = 0.29757558
Iteration 84, loss = 0.29586490
Iteration 85, loss = 0.29488982
Iteration 86, loss = 0.29930172
Iteration 87, loss = 0.29104628
Iteration 88, loss = 0.29033974
Iteration 89, loss = 0.28019212
Iteration 90, loss = 0.28165419
Iteration 91, loss = 0.27602437
Iteration 92, loss = 0.27431806
Iteration 93, loss = 0.26786380
Iteration 94, loss = 0.26096077
Iteration 95, loss = 0.26648339
Iteration 96, loss = 0.26361958
Iteration 97, loss = 0.25697817
Iteration 98, loss = 0.26277299
Iteration 99, loss = 0.26351212
Iteration 100, loss = 0.25450138
Mejores hiperpar√°metros (MLP): {'alpha': 0.01, 'hidden_layer_sizes': (100, 50), 'learning_rate_init': 0.001}
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\neural_network\_multilayer_perceptron.py:691: ConvergenceWarning: Stochastic Optimizer: Maximum iterations (100) reached and the optimization hasn't converged yet.
  warnings.warn(
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[110]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">mlp_final</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs_mlp</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">mlp_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_clean</span><span class="p">,</span> <span class="n">y_train_encoded</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Iteration 1, loss = 0.93853821
Iteration 2, loss = 0.83547928
Iteration 3, loss = 0.80496531
Iteration 4, loss = 0.78115520
Iteration 5, loss = 0.75976853
Iteration 6, loss = 0.74081367
Iteration 7, loss = 0.72216940
Iteration 8, loss = 0.70561025
Iteration 9, loss = 0.69048210
Iteration 10, loss = 0.67700952
Iteration 11, loss = 0.66370859
Iteration 12, loss = 0.65447986
Iteration 13, loss = 0.64391042
Iteration 14, loss = 0.63339346
Iteration 15, loss = 0.62410002
Iteration 16, loss = 0.61720699
Iteration 17, loss = 0.61105190
Iteration 18, loss = 0.60291452
Iteration 19, loss = 0.59479724
Iteration 20, loss = 0.59042620
Iteration 21, loss = 0.58473080
Iteration 22, loss = 0.58016622
Iteration 23, loss = 0.57189452
Iteration 24, loss = 0.56923723
Iteration 25, loss = 0.56476245
Iteration 26, loss = 0.55946053
Iteration 27, loss = 0.55594612
Iteration 28, loss = 0.55408577
Iteration 29, loss = 0.55055361
Iteration 30, loss = 0.54618732
Iteration 31, loss = 0.54213323
Iteration 32, loss = 0.53772523
Iteration 33, loss = 0.53493426
Iteration 34, loss = 0.53162281
Iteration 35, loss = 0.52791285
Iteration 36, loss = 0.52712984
Iteration 37, loss = 0.52441591
Iteration 38, loss = 0.52140089
Iteration 39, loss = 0.51681855
Iteration 40, loss = 0.51765557
Iteration 41, loss = 0.51336542
Iteration 42, loss = 0.51160814
Iteration 43, loss = 0.51065929
Iteration 44, loss = 0.50830972
Iteration 45, loss = 0.50538616
Iteration 46, loss = 0.50331737
Iteration 47, loss = 0.50134577
Iteration 48, loss = 0.49833704
Iteration 49, loss = 0.49833557
Iteration 50, loss = 0.49534189
Iteration 51, loss = 0.49570251
Iteration 52, loss = 0.49417540
Iteration 53, loss = 0.49097358
Iteration 54, loss = 0.48881270
Iteration 55, loss = 0.48769179
Iteration 56, loss = 0.48532613
Iteration 57, loss = 0.48515847
Iteration 58, loss = 0.48379259
Iteration 59, loss = 0.48091263
Iteration 60, loss = 0.48119940
Iteration 61, loss = 0.47979357
Iteration 62, loss = 0.47615309
Iteration 63, loss = 0.47545012
Iteration 64, loss = 0.47636311
Iteration 65, loss = 0.47282608
Iteration 66, loss = 0.47320216
Iteration 67, loss = 0.47361607
Iteration 68, loss = 0.46928235
Iteration 69, loss = 0.46970747
Iteration 70, loss = 0.46521377
Iteration 71, loss = 0.46752488
Iteration 72, loss = 0.46473043
Iteration 73, loss = 0.46491851
Iteration 74, loss = 0.46258053
Iteration 75, loss = 0.46349161
Iteration 76, loss = 0.46098212
Iteration 77, loss = 0.46152317
Iteration 78, loss = 0.46051283
Iteration 79, loss = 0.45734661
Iteration 80, loss = 0.45837669
Iteration 81, loss = 0.45479109
Iteration 82, loss = 0.45640649
Iteration 83, loss = 0.45540058
Iteration 84, loss = 0.45521112
Iteration 85, loss = 0.45476088
Iteration 86, loss = 0.45090230
Iteration 87, loss = 0.45216976
Iteration 88, loss = 0.45077452
Iteration 89, loss = 0.45045210
Iteration 90, loss = 0.44885468
Iteration 91, loss = 0.44744760
Iteration 92, loss = 0.44735323
Iteration 93, loss = 0.44797948
Iteration 94, loss = 0.44498044
Iteration 95, loss = 0.44417951
Iteration 96, loss = 0.44238743
Iteration 97, loss = 0.44203197
Iteration 98, loss = 0.44338171
Iteration 99, loss = 0.44601000
Iteration 100, loss = 0.44145250
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\neural_network\_multilayer_perceptron.py:691: ConvergenceWarning: Stochastic Optimizer: Maximum iterations (100) reached and the optimization hasn't converged yet.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[110]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-7 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-7 {
  color: var(--sklearn-color-text);
}

#sk-container-id-7 pre {
  padding: 0;
}

#sk-container-id-7 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-7 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-7 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-7 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-7 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-7 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-7 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-7 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-7 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-7 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-7 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-7 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-7 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-7 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-7 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-7 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-7 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-7 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-7 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-7 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-7 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-7 div.sk-label label.sk-toggleable__label,
#sk-container-id-7 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-7 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-7 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-7 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-7 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-7 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-7 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-7 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-7 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-7 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-7 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-7"><div class="sk-text-repr-fallback"><pre>MLPClassifier(alpha=0.01, hidden_layer_sizes=(100, 50), max_iter=100,
              random_state=123, verbose=True)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-7" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-7"><div><div>MLPClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neural_network.MLPClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for MLPClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>MLPClassifier(alpha=0.01, hidden_layer_sizes=(100, 50), max_iter=100,
              random_state=123, verbose=True)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[111]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Realizar predicciones y evaluar el modelo</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">mlp_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_clean</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Precisi√≥n en el conjunto de prueba:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test_encoded</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test_encoded</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Informe de clasificaci√≥n:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_encoded</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Matriz de confusi√≥n:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test_encoded</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Precisi√≥n en el conjunto de prueba: 0.6109036445332002
Cohen's kappa: 0.46805368076083864
Informe de clasificaci√≥n:
                          precision    recall  f1-score   support

Accidente de Transporte       0.32      0.50      0.39      4468
     Homicidio/Agresi√≥n       0.54      0.59      0.56     14108
                  Otros       1.00      1.00      1.00      7374
       Otros Accidentes       0.74      0.54      0.62     22263
  Suicidio/Autolesiones       0.16      0.34      0.22      1862

               accuracy                           0.61     50075
              macro avg       0.55      0.59      0.56     50075
           weighted avg       0.66      0.61      0.63     50075

Matriz de confusi√≥n:
 [[ 2240   962     0   877   389]
 [ 1902  8295     0  2899  1012]
 [    0     0  7371     0     3]
 [ 2674  5590     1 12056  1942]
 [  267   426     0   540   629]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Nivel-3">Nivel 3<a class="anchor-link" href="#Nivel-3">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[114]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.compose</span><span class="w"> </span><span class="kn">import</span> <span class="n">ColumnTransformer</span><span class="p">,</span> <span class="n">make_column_transformer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.impute</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleImputer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">OneHotEncoder</span>

<span class="c1"># Carga raw</span>
<span class="n">train_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\train"</span><span class="p">)</span>
<span class="n">test_dir</span>  <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">"C:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\data\test"</span><span class="p">)</span>

<span class="n">raw_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">train_dir</span> <span class="o">/</span> <span class="s2">"raw_train.csv"</span><span class="p">)</span>
<span class="n">raw_test</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">test_dir</span>  <span class="o">/</span> <span class="s2">"raw_test.csv"</span><span class="p">)</span>

<span class="c1"># Filtro salud mental + ingenier√≠a de variables cruzadas (id√©ntico para train/test)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">foco_salud_mental</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">'^X([6-8][0-9])'</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">84</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">"Suicidio/Autolesion"</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">'^F\d</span><span class="si">{2}</span><span class="s1">'</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">"OtroTrastornoMental"</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">cruza_variables</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">edad_bins</span>   <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">120</span><span class="p">]</span>
    <span class="n">edad_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'joven'</span><span class="p">,</span><span class="s1">'adulto'</span><span class="p">,</span><span class="s1">'mayor'</span><span class="p">,</span><span class="s1">'muy_mayor'</span><span class="p">]</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'edad_grupo'</span><span class="p">]</span>         <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'Edadif'</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">edad_bins</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">edad_labels</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'edad_sexo'</span><span class="p">]</span>          <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'edad_grupo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sexo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'sexo_escolaridad'</span><span class="p">]</span>   <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Sexo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Escodif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'depto_a√±o'</span><span class="p">]</span>          <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Depreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'A√±oreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'muni_a√±o'</span><span class="p">]</span>           <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Mupreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'A√±oreg'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'ecivil_edad'</span><span class="p">]</span>        <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Ecidif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'edad_grupo'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'escolaridad_pueblo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Escodif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Puedif'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'sitio_asistencia'</span><span class="p">]</span>   <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Ocur'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Asist'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="p">[</span><span class="n">raw_train</span><span class="p">,</span> <span class="n">raw_test</span><span class="p">]:</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'salud_mental'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'Caudef'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">foco_salud_mental</span><span class="p">)</span>
    <span class="n">cruza_variables</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Filtra s√≥lo salud mental/suicidio</span>
<span class="n">train_mental</span> <span class="o">=</span> <span class="n">raw_train</span><span class="p">[</span><span class="n">raw_train</span><span class="p">[</span><span class="s1">'salud_mental'</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">test_mental</span>  <span class="o">=</span> <span class="n">raw_test</span> <span class="p">[</span><span class="n">raw_test</span> <span class="p">[</span><span class="s1">'salud_mental'</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">X_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="p">[</span><span class="s1">'salud_mental'</span><span class="p">]</span>
<span class="n">X_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">y_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="p">[</span><span class="s1">'salud_mental'</span><span class="p">]</span>

<span class="c1"># Reduce cardinalidad solo si hay problemas de RAM</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'Depreg'</span><span class="p">,</span> <span class="s1">'Mupreg'</span><span class="p">,</span> <span class="s1">'depto_a√±o'</span><span class="p">,</span> <span class="s1">'muni_a√±o'</span><span class="p">]:</span>
    <span class="n">top</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>  <span class="c1"># top_n puede ser m√°s grande</span>
    <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="s2">"Otros"</span><span class="p">)</span>
    <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="s2">"Otros"</span><span class="p">)</span>

<span class="c1"># Forzar categ√≥ricas a str, NAs a 'NA'</span>
<span class="n">cat_feats</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Depreg'</span><span class="p">,</span> <span class="s1">'Mupreg'</span><span class="p">,</span> <span class="s1">'Mesreg'</span><span class="p">,</span> <span class="s1">'Sexo'</span><span class="p">,</span> <span class="s1">'Perdif'</span><span class="p">,</span> <span class="s1">'Ecidif'</span><span class="p">,</span> <span class="s1">'Ocudif'</span><span class="p">,</span>
    <span class="s1">'Dnadif'</span><span class="p">,</span> <span class="s1">'Mnadif'</span><span class="p">,</span> <span class="s1">'Nacdif'</span><span class="p">,</span> <span class="s1">'Dredif'</span><span class="p">,</span> <span class="s1">'Mredif'</span><span class="p">,</span>
    <span class="s1">'Escodif'</span><span class="p">,</span> <span class="s1">'Puedif'</span><span class="p">,</span> <span class="s1">'Asist'</span><span class="p">,</span> <span class="s1">'Ocur'</span><span class="p">,</span> <span class="s1">'Cerdef'</span><span class="p">,</span>
    <span class="s1">'edad_grupo'</span><span class="p">,</span> <span class="s1">'edad_sexo'</span><span class="p">,</span> <span class="s1">'sexo_escolaridad'</span><span class="p">,</span> <span class="s1">'depto_a√±o'</span><span class="p">,</span> <span class="s1">'muni_a√±o'</span><span class="p">,</span>
    <span class="s1">'ecivil_edad'</span><span class="p">,</span> <span class="s1">'escolaridad_pueblo'</span><span class="p">,</span> <span class="s1">'sitio_asistencia'</span>
<span class="p">]</span>
<span class="n">cat_feats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>  <span class="c1"># solo si existen en tu df</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cat_feats</span><span class="p">:</span>
    <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">'NA'</span><span class="p">)</span>
    <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X_test</span> <span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">'NA'</span><span class="p">)</span>

<span class="c1"># Variables num√©ricas</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Edadif'</span><span class="p">,</span> <span class="s1">'A√±oreg'</span><span class="p">,</span> <span class="s1">'Diaocu'</span><span class="p">]</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">numeric_features</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="c1"># Preprocesamiento est√°ndar (sin SMOTE ni balanceo)</span>
<span class="n">num_pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'median'</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">'scaler'</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">())</span>
<span class="p">])</span>
<span class="n">cat_pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'imputer'</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">'most_frequent'</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">'onehot'</span><span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">'ignore'</span><span class="p">,</span> <span class="n">sparse_output</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="p">])</span>
<span class="n">preproc</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">'num'</span><span class="p">,</span> <span class="n">num_pipe</span><span class="p">,</span> <span class="n">numeric_features</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'cat'</span><span class="p">,</span> <span class="n">cat_pipe</span><span class="p">,</span> <span class="n">cat_feats</span><span class="p">)</span>
<span class="p">])</span>

<span class="c1"># Fit-transform solo en train</span>
<span class="n">X_train_proc</span> <span class="o">=</span> <span class="n">preproc</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_proc</span>  <span class="o">=</span> <span class="n">preproc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Puedes usar X_train_proc, X_test_proc para todos tus modelos (RF, LR, SVM, etc.)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[115]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># ------------------- Verificaciones e impresiones -------------------</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Tama√±o raw original:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Train:"</span><span class="p">,</span> <span class="n">raw_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test :"</span><span class="p">,</span> <span class="n">raw_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Tama√±o tras filtro salud mental:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Train:"</span><span class="p">,</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test :"</span><span class="p">,</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en y_train:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Clases en y_test:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Variables cruzadas (ejemplo primeros 3 columnas cruzadas, primeras 3 filas):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="p">[[</span><span class="s1">'edad_sexo'</span><span class="p">,</span><span class="s1">'sexo_escolaridad'</span><span class="p">,</span><span class="s1">'depto_a√±o'</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Variables categ√≥ricas finales usadas para OHE:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Variables num√©ricas finales:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Forma final de X_train_proc:"</span><span class="p">,</span> <span class="n">X_train_proc</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Forma final de X_test_proc :"</span><span class="p">,</span> <span class="n">X_test_proc</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># Si quieres ver nombres de columnas codificadas (OHE) para debug:</span>
<span class="n">cat_names</span> <span class="o">=</span> <span class="n">preproc</span><span class="o">.</span><span class="n">named_transformers_</span><span class="p">[</span><span class="s1">'cat'</span><span class="p">][</span><span class="s1">'onehot'</span><span class="p">]</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">(</span><span class="n">cat_feats</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Ejemplo de variables OHE generadas:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cat_names</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>

<span class="c1"># Confirmar que no hay NAs en proc:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">¬øHay NAs en X_train_proc?"</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">)</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"¬øHay NAs en X_test_proc? "</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_test_proc</span><span class="p">)</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>========================================
Tama√±o raw original:
Train: (706112, 76)
Test : (302620, 76)

Tama√±o tras filtro salud mental:
Train: (10406, 76)
Test : (4460, 76)
------------------------------
Clases en y_train:
salud_mental
OtroTrastornoMental    0.583
Suicidio/Autolesion    0.417
Name: proportion, dtype: float64
------------------------------
Clases en y_test:
salud_mental
OtroTrastornoMental    0.583
Suicidio/Autolesion    0.417
Name: proportion, dtype: float64

Variables cruzadas (ejemplo primeros 3 columnas cruzadas, primeras 3 filas):
          edad_sexo      sexo_escolaridad         depto_a√±o
0  muy_mayor_Hombre       Hombre_Primaria             Otros
1      mayor_Hombre  Hombre_Diversificado  Guatemala_2015.0
2       mayor_Mujer   Mujer_Diversificado  Guatemala_2010.0

Variables categ√≥ricas finales usadas para OHE:
['ecivil_edad', 'muni_a√±o', 'Puedif', 'Mredif', 'sexo_escolaridad', 'Asist', 'Ocudif', 'Mesreg', 'Sexo', 'Nacdif', 'edad_sexo', 'sitio_asistencia', 'Dredif', 'Mupreg', 'Perdif', 'edad_grupo', 'Dnadif', 'Ocur', 'Depreg', 'Ecidif', 'Cerdef', 'Mnadif', 'depto_a√±o', 'escolaridad_pueblo', 'Escodif']
Total: 25

Variables num√©ricas finales:
['Edadif', 'A√±oreg', 'Diaocu']
Total: 3
========================================
Forma final de X_train_proc: (10406, 637)
Forma final de X_test_proc : (4460, 637)

Ejemplo de variables OHE generadas:
['ecivil_edad_Casado_adulto' 'ecivil_edad_Casado_joven'
 'ecivil_edad_Casado_mayor' 'ecivil_edad_Casado_muy_mayor'
 'ecivil_edad_Casado_nan' 'ecivil_edad_Ignorado_adulto'
 'ecivil_edad_Ignorado_joven' 'ecivil_edad_Ignorado_mayor'
 'ecivil_edad_Ignorado_muy_mayor' 'ecivil_edad_Ignorado_nan']

¬øHay NAs en X_train_proc? 0
¬øHay NAs en X_test_proc?  0
========================================
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[95]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span>

<span class="n">N_TUNING</span> <span class="o">=</span> <span class="mi">5000</span>   <span class="c1"># Usa un N que tu RAM tolere</span>
<span class="n">N_TRAIN_FINAL</span> <span class="o">=</span> <span class="mi">8000</span>  <span class="c1"># Ejemplo, puedes ajustar</span>

<span class="c1"># --- Muestreo para tuning (sobre arrays ya codificados, NO dataframes originales) ---</span>
<span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
    <span class="n">X_train_proc</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">N_TUNING</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">)),</span>
    <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_train</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
<span class="p">)</span>

<span class="c1"># --- Muestreo para entrenamiento final ---</span>
<span class="n">X_train_sub</span><span class="p">,</span> <span class="n">y_train_sub</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span>
    <span class="n">X_train_proc</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">N_TRAIN_FINAL</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">)),</span>
    <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">stratify</span><span class="o">=</span><span class="n">y_train</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">124</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[96]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>

<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'max_depth'</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="s1">'min_samples_leaf'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s1">'n_estimators'</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_macro'</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 18 candidates, totalling 54 fits
[CV] END ...max_depth=5, min_samples_leaf=1, n_estimators=50; total time=   0.5s
[CV] END ...max_depth=5, min_samples_leaf=1, n_estimators=50; total time=   0.2s
[CV] END ...max_depth=5, min_samples_leaf=1, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=5, min_samples_leaf=1, n_estimators=100; total time=   0.4s
[CV] END ..max_depth=5, min_samples_leaf=1, n_estimators=100; total time=   0.4s
[CV] END ..max_depth=5, min_samples_leaf=1, n_estimators=100; total time=   0.4s
[CV] END ...max_depth=5, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END ...max_depth=5, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END ...max_depth=5, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=5, min_samples_leaf=5, n_estimators=100; total time=   0.4s
[CV] END ..max_depth=5, min_samples_leaf=5, n_estimators=100; total time=   0.5s
[CV] END ..max_depth=5, min_samples_leaf=5, n_estimators=100; total time=   0.5s
[CV] END ..max_depth=5, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=5, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=5, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END .max_depth=5, min_samples_leaf=10, n_estimators=100; total time=   0.5s
[CV] END .max_depth=5, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END .max_depth=5, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END ..max_depth=10, min_samples_leaf=1, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=10, min_samples_leaf=1, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=10, min_samples_leaf=1, n_estimators=50; total time=   0.4s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   0.5s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   0.5s
[CV] END .max_depth=10, min_samples_leaf=1, n_estimators=100; total time=   0.7s
[CV] END ..max_depth=10, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=10, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END ..max_depth=10, min_samples_leaf=5, n_estimators=50; total time=   0.3s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   0.5s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   0.4s
[CV] END .max_depth=10, min_samples_leaf=5, n_estimators=100; total time=   0.5s
[CV] END .max_depth=10, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END .max_depth=10, min_samples_leaf=10, n_estimators=50; total time=   0.3s
[CV] END .max_depth=10, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END max_depth=10, min_samples_leaf=10, n_estimators=100; total time=   0.5s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=50; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=50; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=50; total time=   0.5s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   0.8s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   0.8s
[CV] END max_depth=None, min_samples_leaf=1, n_estimators=100; total time=   0.6s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   0.5s
[CV] END max_depth=None, min_samples_leaf=5, n_estimators=100; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=50; total time=   0.2s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   0.4s
[CV] END max_depth=None, min_samples_leaf=10, n_estimators=100; total time=   0.4s
Mejores hiperpar√°metros: {'max_depth': None, 'min_samples_leaf': 1, 'n_estimators': 100}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[97]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">rf_final</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>
<span class="n">rf_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_sub</span><span class="p">,</span> <span class="n">y_train_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[97]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-7 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-7 {
  color: var(--sklearn-color-text);
}

#sk-container-id-7 pre {
  padding: 0;
}

#sk-container-id-7 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-7 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-7 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-7 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-7 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-7 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-7 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-7 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-7 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-7 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-7 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-7 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-7 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-7 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-7 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-7 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-7 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-7 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-7 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-7 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-7 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-7 div.sk-label label.sk-toggleable__label,
#sk-container-id-7 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-7 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-7 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-7 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-7 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-7 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-7 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-7 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-7 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-7 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-7 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-7 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-7 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-7"><div class="sk-text-repr-fallback"><pre>RandomForestClassifier(n_jobs=-1, random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-7" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-7"><div><div>RandomForestClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for RandomForestClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>RandomForestClassifier(n_jobs=-1, random_state=123)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[98]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Evaluaci√≥n</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">rf_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_proc</span><span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="p">(</span><span class="n">y_test</span> <span class="o">==</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.8903587443946188
Classification report:
                      precision    recall  f1-score   support

OtroTrastornoMental       0.89      0.92      0.91      2598
Suicidio/Autolesion       0.89      0.85      0.87      1862

           accuracy                           0.89      4460
          macro avg       0.89      0.88      0.89      4460
       weighted avg       0.89      0.89      0.89      4460

Confusion matrix:
 [[2397  201]
 [ 288 1574]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[99]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="c1"># --- Asume que ya tienes esto definido ---</span>
<span class="c1"># X_train_proc, X_test_proc: datos procesados con OHE</span>
<span class="c1"># y_train, y_test: "salud_mental" (Suicidio/Autolesion u OtroTrastornoMental)</span>
<span class="c1"># train_mental, test_mental: DataFrames originales filtrados a salud mental (para extraer Caudef original)</span>
<span class="c1"># (Si no los tienes, puedes crearlos igual que antes del preproceso)</span>

<span class="c1"># ---------- SUBGRUPO 1: SUICIDIO/AUTOLESION ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 1: SUICIDIO/AUTOLESION ==="</span><span class="p">)</span>
<span class="n">mask_suicidio_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>
<span class="n">mask_suicidio_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>

<span class="n">X_suicidio_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">]</span>
<span class="n">y_suicidio_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_suicidio_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">]</span>
<span class="n">y_suicidio_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases de suicidio/autolesi√≥n</span>
<span class="n">top_x</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases X (train):"</span><span class="p">,</span> <span class="n">top_x</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_x_train</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>
<span class="n">mask_top_x_test</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>

<span class="n">X_suicidio_train_top</span> <span class="o">=</span> <span class="n">X_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">y_suicidio_train_top</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">X_suicidio_test_top</span>  <span class="o">=</span> <span class="n">X_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>
<span class="n">y_suicidio_test_top</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo X):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_suicidio_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># Modelo RF subclases suicidio/autolesion</span>
<span class="n">rf_suicidio</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">rf_suicidio</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_top</span><span class="p">)</span>

<span class="n">y_pred_suicidio</span> <span class="o">=</span> <span class="n">rf_suicidio</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_suicidio_test_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases suicidio/autolesion):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>


<span class="c1"># ---------- SUBGRUPO 2: OTRO TRASTORNO MENTAL ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ==="</span><span class="p">)</span>
<span class="n">mask_otro_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>
<span class="n">mask_otro_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>

<span class="n">X_otro_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">]</span>
<span class="n">y_otro_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_otro_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">]</span>
<span class="n">y_otro_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases F m√°s comunes</span>
<span class="n">top_f</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases F (train):"</span><span class="p">,</span> <span class="n">top_f</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_f_train</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>
<span class="n">mask_top_f_test</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>

<span class="n">X_otro_train_top</span> <span class="o">=</span> <span class="n">X_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">y_otro_train_top</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">X_otro_test_top</span>  <span class="o">=</span> <span class="n">X_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>
<span class="n">y_otro_test_top</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_otro_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># Modelo RF subclases F</span>
<span class="n">rf_otro</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">rf_otro</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_top</span><span class="p">)</span>

<span class="n">y_pred_otro</span> <span class="o">=</span> <span class="n">rf_otro</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_otro_test_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>

=== SUBGRUPO 1: SUICIDIO/AUTOLESION ===
Top subclases X (train): ['X709', 'X689', 'X699', 'X700', 'X749']

Distribuci√≥n de clases en train (subgrupo X):
Caudef
X709    0.418
X689    0.223
X699    0.217
X700    0.085
X749    0.057
Name: proportion, dtype: float64

Classification report (subclases suicidio/autolesion):
              precision    recall  f1-score   support

        X689       0.60      0.47      0.53       325
        X699       0.62      0.56      0.59       316
        X700       0.77      0.69      0.73       124
        X709       0.70      0.92      0.80       610
        X749       0.38      0.04      0.07        83

    accuracy                           0.67      1458
   macro avg       0.61      0.53      0.54      1458
weighted avg       0.65      0.67      0.64      1458

Confusion matrix:
[[153  82   6  83   1]
 [ 71 178   5  61   1]
 [  4   0  85  35   0]
 [ 20  13  14 560   3]
 [  9  14   0  57   3]]


=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ===
Top subclases F (train): ['F102', 'F100', 'F03X', 'F103', 'F688']

Distribuci√≥n de clases en train (subgrupo F):
Caudef
F102    0.768
F100    0.141
F03X    0.055
F103    0.025
F688    0.012
Name: proportion, dtype: float64

Classification report (subclases F):
              precision    recall  f1-score   support

        F03X       0.84      0.73      0.79       132
        F100       0.66      0.61      0.64       339
        F102       0.88      0.94      0.91      1852
        F103       0.00      0.00      0.00        59
        F688       1.00      0.04      0.07        28

    accuracy                           0.85      2410
   macro avg       0.68      0.46      0.48      2410
weighted avg       0.83      0.85      0.83      2410

Confusion matrix:
[[  97    0   35    0    0]
 [   0  208  130    1    0]
 [  10   98 1742    2    0]
 [   0    7   52    0    0]
 [   8    0   19    0    1]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="Regresi%C3%B3n-Log%C3%ADstica">Regresi√≥n Log√≠stica<a class="anchor-link" href="#Regresi%C3%B3n-Log%C3%ADstica">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[116]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span><span class="p">,</span> <span class="n">StratifiedKFold</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># --- 1. Etiquetas num√©ricas ---</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_train_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">y_test_enc</span>  <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Clases codificadas:"</span><span class="p">,</span> <span class="n">le</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>

<span class="c1"># --- 2. Muestreo para tuning (opcional si tienes RAM/tiempo limitado) ---</span>
<span class="c1"># Usando todo el set si es peque√±o; si no, puedes muestrear.</span>
<span class="n">X_tune</span> <span class="o">=</span> <span class="n">X_train_proc</span>
<span class="n">y_tune</span> <span class="o">=</span> <span class="n">y_train_enc</span>

<span class="c1"># --- 3. Tuning de hiperpar√°metros ---</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'C'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s1">'solver'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'lbfgs'</span><span class="p">],</span>
    <span class="s1">'max_iter'</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">],</span>
    <span class="s1">'multi_class'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'multinomial'</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">lr</span><span class="p">,</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_tune</span><span class="p">,</span> <span class="n">y_tune</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros:"</span><span class="p">,</span> <span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Clases codificadas: ['OtroTrastornoMental' 'Suicidio/Autolesion']
Fitting 3 folds for each of 4 candidates, totalling 12 fits
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1237: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, binary problems will be fit as proper binary  logistic regression models (as if multi_class='ovr' were set). Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Mejores hiperpar√°metros: {'C': 1, 'max_iter': 200, 'multi_class': 'multinomial', 'solver': 'lbfgs'}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[117]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">lr_final</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">class_weight</span><span class="o">=</span><span class="s1">'balanced'</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span>
<span class="p">)</span>
<span class="n">lr_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">,</span> <span class="n">y_train_enc</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\linear_model\_logistic.py:1237: FutureWarning: 'multi_class' was deprecated in version 1.5 and will be removed in 1.7. From then on, binary problems will be fit as proper binary  logistic regression models (as if multi_class='ovr' were set). Leave it to its default value to avoid this warning.
  warnings.warn(
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[117]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-8 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-8 {
  color: var(--sklearn-color-text);
}

#sk-container-id-8 pre {
  padding: 0;
}

#sk-container-id-8 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-8 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-8 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-8 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-8 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-8 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-8 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-8 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-8 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-8 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-8 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-8 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-8 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-8 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-8 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-8 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-8 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-8 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-8 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-8 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-8 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-8 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-8 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-8 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-8 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-8 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-8 div.sk-label label.sk-toggleable__label,
#sk-container-id-8 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-8 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-8 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-8 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-8 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-8 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-8 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-8 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-8 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-8 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-8 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-8 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-8 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-8"><div class="sk-text-repr-fallback"><pre>LogisticRegression(C=1, class_weight='balanced', max_iter=200,
                   multi_class='multinomial', random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-8" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-8"><div><div>LogisticRegression</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.linear_model.LogisticRegression.html" rel="noreferrer" target="_blank">?<span>Documentation for LogisticRegression</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>LogisticRegression(C=1, class_weight='balanced', max_iter=200,
                   multi_class='multinomial', random_state=123)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[118]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">lr_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_proc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">--- Evaluaci√≥n Regresi√≥n Log√≠stica ---"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test_enc</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test_enc</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_enc</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="n">le</span><span class="o">.</span><span class="n">classes_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test_enc</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
--- Evaluaci√≥n Regresi√≥n Log√≠stica ---
Test accuracy: 0.8719730941704036
Cohen's kappa: 0.7382713034698738
Classification report:
                      precision    recall  f1-score   support

OtroTrastornoMental       0.90      0.88      0.89      2598
Suicidio/Autolesion       0.83      0.87      0.85      1862

           accuracy                           0.87      4460
          macro avg       0.87      0.87      0.87      4460
       weighted avg       0.87      0.87      0.87      4460

Confusion matrix:
 [[2275  323]
 [ 248 1614]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[119]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="c1"># --- Asume que ya tienes esto definido ---</span>
<span class="c1"># X_train_proc, X_test_proc: datos procesados con OHE</span>
<span class="c1"># y_train, y_test: "salud_mental" (Suicidio/Autolesion u OtroTrastornoMental)</span>
<span class="c1"># train_mental, test_mental: DataFrames originales filtrados a salud mental (para extraer Caudef original)</span>
<span class="c1"># (Si no los tienes, puedes crearlos igual que antes del preproceso)</span>

<span class="c1"># ---------- SUBGRUPO 1: SUICIDIO/AUTOLESION ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 1: SUICIDIO/AUTOLESION ==="</span><span class="p">)</span>
<span class="n">mask_suicidio_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>
<span class="n">mask_suicidio_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>

<span class="n">X_suicidio_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">]</span>
<span class="n">y_suicidio_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_suicidio_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">]</span>
<span class="n">y_suicidio_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases de suicidio/autolesi√≥n</span>
<span class="n">top_x</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases X (train):"</span><span class="p">,</span> <span class="n">top_x</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_x_train</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>
<span class="n">mask_top_x_test</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>

<span class="n">X_suicidio_train_top</span> <span class="o">=</span> <span class="n">X_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">y_suicidio_train_top</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">X_suicidio_test_top</span>  <span class="o">=</span> <span class="n">X_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>
<span class="n">y_suicidio_test_top</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo X):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_suicidio_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># Modelo RF subclases suicidio/autolesion</span>
<span class="n">rf_suicidio</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">rf_suicidio</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_top</span><span class="p">)</span>

<span class="n">y_pred_suicidio</span> <span class="o">=</span> <span class="n">rf_suicidio</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_suicidio_test_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases suicidio/autolesion):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>


<span class="c1"># ---------- SUBGRUPO 2: OTRO TRASTORNO MENTAL ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ==="</span><span class="p">)</span>
<span class="n">mask_otro_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>
<span class="n">mask_otro_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>

<span class="n">X_otro_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">]</span>
<span class="n">y_otro_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_otro_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">]</span>
<span class="n">y_otro_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases F m√°s comunes</span>
<span class="n">top_f</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases F (train):"</span><span class="p">,</span> <span class="n">top_f</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_f_train</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>
<span class="n">mask_top_f_test</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>

<span class="n">X_otro_train_top</span> <span class="o">=</span> <span class="n">X_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">y_otro_train_top</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">X_otro_test_top</span>  <span class="o">=</span> <span class="n">X_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>
<span class="n">y_otro_test_top</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_otro_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># Modelo RF subclases F</span>
<span class="n">rf_otro</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">rf_otro</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_top</span><span class="p">)</span>

<span class="n">y_pred_otro</span> <span class="o">=</span> <span class="n">rf_otro</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_otro_test_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>

=== SUBGRUPO 1: SUICIDIO/AUTOLESION ===
Top subclases X (train): ['X709', 'X689', 'X699', 'X700', 'X749']

Distribuci√≥n de clases en train (subgrupo X):
Caudef
X709    0.418
X689    0.223
X699    0.217
X700    0.085
X749    0.057
Name: proportion, dtype: float64

Classification report (subclases suicidio/autolesion):
              precision    recall  f1-score   support

        X689       0.57      0.43      0.49       325
        X699       0.60      0.56      0.58       316
        X700       0.78      0.66      0.72       124
        X709       0.70      0.92      0.79       610
        X749       0.11      0.01      0.02        83

    accuracy                           0.66      1458
   macro avg       0.55      0.52      0.52      1458
weighted avg       0.62      0.66      0.63      1458

Confusion matrix:
[[140  89   7  88   1]
 [ 73 176   4  61   2]
 [  4   0  82  38   0]
 [ 18  15  12 560   5]
 [ 11  13   0  58   1]]


=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ===
Top subclases F (train): ['F102', 'F100', 'F03X', 'F103', 'F688']

Distribuci√≥n de clases en train (subgrupo F):
Caudef
F102    0.768
F100    0.141
F03X    0.055
F103    0.025
F688    0.012
Name: proportion, dtype: float64

Classification report (subclases F):
              precision    recall  f1-score   support

        F03X       0.85      0.71      0.77       132
        F100       0.69      0.62      0.65       339
        F102       0.88      0.94      0.91      1852
        F103       0.00      0.00      0.00        59
        F688       0.75      0.11      0.19        28

    accuracy                           0.85      2410
   macro avg       0.63      0.48      0.50      2410
weighted avg       0.83      0.85      0.84      2410

Confusion matrix:
[[  94    0   38    0    0]
 [   0  210  129    0    0]
 [  11   91 1747    2    1]
 [   0    4   55    0    0]
 [   6    0   19    0    3]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="KNN">KNN<a class="anchor-link" href="#KNN">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[120]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 1. GridSearchCV para elegir el mejor k</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'n_neighbors'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">]}</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">StratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">()</span>

<span class="n">gs_knn</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">knn</span><span class="p">,</span> <span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejor k:"</span><span class="p">,</span> <span class="n">gs_knn</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 5 candidates, totalling 15 fits
Mejor k: {'n_neighbors': 9}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[121]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 2. Entrenamiento final con mejor k</span>
<span class="n">knn_final</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">gs_knn</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">'n_neighbors'</span><span class="p">])</span>
<span class="n">knn_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_proc</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[121]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-9 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-9 {
  color: var(--sklearn-color-text);
}

#sk-container-id-9 pre {
  padding: 0;
}

#sk-container-id-9 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-9 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-9 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-9 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-9 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-9 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-9 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-9 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-9 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-9 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-9 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-9 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-9 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-9 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-9 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-9 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-9 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-9 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-9 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-9 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-9 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-9 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-9 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-9 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-9 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-9 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-9 div.sk-label label.sk-toggleable__label,
#sk-container-id-9 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-9 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-9 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-9 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-9 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-9 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-9 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-9 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-9 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-9 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-9 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-9 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-9 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-9"><div class="sk-text-repr-fallback"><pre>KNeighborsClassifier(n_neighbors=9)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-9" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-9"><div><div>KNeighborsClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neighbors.KNeighborsClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for KNeighborsClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>KNeighborsClassifier(n_neighbors=9)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[123]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_proc</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.8589686098654709
Cohen's kappa: 0.705401886039527
Classification report:
                     precision    recall  f1-score   support

OtroTrastornoMental       0.85      0.92      0.88      2598
Suicidio/Autolesion       0.87      0.78      0.82      1862

           accuracy                           0.86      4460
          macro avg       0.86      0.85      0.85      4460
       weighted avg       0.86      0.86      0.86      4460

Confusion matrix:
[[2387  211]
 [ 418 1444]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[124]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span>

<span class="c1"># --- Asume que ya tienes esto definido ---</span>
<span class="c1"># X_train_proc, X_test_proc: datos procesados con OHE</span>
<span class="c1"># y_train, y_test: "salud_mental" (Suicidio/Autolesion u OtroTrastornoMental)</span>
<span class="c1"># train_mental, test_mental: DataFrames originales filtrados a salud mental (para extraer Caudef original)</span>

<span class="c1"># ---------- SUBGRUPO 1: SUICIDIO/AUTOLESION ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 1: SUICIDIO/AUTOLESION ==="</span><span class="p">)</span>
<span class="n">mask_suicidio_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>
<span class="n">mask_suicidio_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>

<span class="n">X_suicidio_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">]</span>
<span class="n">y_suicidio_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_suicidio_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">]</span>
<span class="n">y_suicidio_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases de suicidio/autolesi√≥n</span>
<span class="n">top_x</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases X (train):"</span><span class="p">,</span> <span class="n">top_x</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_x_train</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>
<span class="n">mask_top_x_test</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>

<span class="n">X_suicidio_train_top</span> <span class="o">=</span> <span class="n">X_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">y_suicidio_train_top</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">X_suicidio_test_top</span>  <span class="o">=</span> <span class="n">X_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>
<span class="n">y_suicidio_test_top</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo X):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_suicidio_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># --- KNN: Tuning para subclases de suicidio/autolesion ---</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'n_neighbors'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">]}</span>
<span class="n">gs_knn_x</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">KNeighborsClassifier</span><span class="p">(),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_knn_x</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejor k (suicidio):"</span><span class="p">,</span> <span class="n">gs_knn_x</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>

<span class="n">knn_suicidio</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">gs_knn_x</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">'n_neighbors'</span><span class="p">])</span>
<span class="n">knn_suicidio</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_top</span><span class="p">)</span>
<span class="n">y_pred_suicidio</span> <span class="o">=</span> <span class="n">knn_suicidio</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_suicidio_test_top</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases suicidio/autolesion):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>


<span class="c1"># ---------- SUBGRUPO 2: OTRO TRASTORNO MENTAL ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ==="</span><span class="p">)</span>
<span class="n">mask_otro_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>
<span class="n">mask_otro_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>

<span class="n">X_otro_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">]</span>
<span class="n">y_otro_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_otro_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">]</span>
<span class="n">y_otro_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases F m√°s comunes</span>
<span class="n">top_f</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases F (train):"</span><span class="p">,</span> <span class="n">top_f</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_f_train</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>
<span class="n">mask_top_f_test</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>

<span class="n">X_otro_train_top</span> <span class="o">=</span> <span class="n">X_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">y_otro_train_top</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">X_otro_test_top</span>  <span class="o">=</span> <span class="n">X_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>
<span class="n">y_otro_test_top</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Distribuci√≥n de clases en train (subgrupo F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_otro_train_top</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="c1"># --- KNN: Tuning para subclases F ---</span>
<span class="n">gs_knn_f</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">KNeighborsClassifier</span><span class="p">(),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_knn_f</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_top</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejor k (F):"</span><span class="p">,</span> <span class="n">gs_knn_f</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>

<span class="n">knn_otro</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">gs_knn_f</span><span class="o">.</span><span class="n">best_params_</span><span class="p">[</span><span class="s1">'n_neighbors'</span><span class="p">])</span>
<span class="n">knn_otro</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_top</span><span class="p">)</span>
<span class="n">y_pred_otro</span> <span class="o">=</span> <span class="n">knn_otro</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_otro_test_top</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>

=== SUBGRUPO 1: SUICIDIO/AUTOLESION ===
Top subclases X (train): ['X709', 'X689', 'X699', 'X700', 'X749']

Distribuci√≥n de clases en train (subgrupo X):
Caudef
X709    0.418
X689    0.223
X699    0.217
X700    0.085
X749    0.057
Name: proportion, dtype: float64
Fitting 3 folds for each of 5 candidates, totalling 15 fits
Mejor k (suicidio): {'n_neighbors': 9}

Classification report (subclases suicidio/autolesion):
              precision    recall  f1-score   support

        X689       0.47      0.49      0.48       325
        X699       0.56      0.49      0.52       316
        X700       0.64      0.33      0.44       124
        X709       0.66      0.83      0.73       610
        X749       0.20      0.01      0.02        83

    accuracy                           0.59      1458
   macro avg       0.50      0.43      0.44      1458
weighted avg       0.56      0.59      0.56      1458

Confusion matrix:
[[159  82   2  82   0]
 [ 95 154   4  63   0]
 [ 12   2  41  68   1]
 [ 59  28  14 506   3]
 [ 16  10   3  53   1]]


=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ===
Top subclases F (train): ['F102', 'F100', 'F03X', 'F103', 'F688']

Distribuci√≥n de clases en train (subgrupo F):
Caudef
F102    0.768
F100    0.141
F03X    0.055
F103    0.025
F688    0.012
Name: proportion, dtype: float64
Fitting 3 folds for each of 5 candidates, totalling 15 fits
Mejor k (F): {'n_neighbors': 9}

Classification report (subclases F):
              precision    recall  f1-score   support

        F03X       0.77      0.69      0.73       132
        F100       0.65      0.60      0.62       339
        F102       0.88      0.94      0.91      1852
        F103       0.00      0.00      0.00        59
        F688       0.00      0.00      0.00        28

    accuracy                           0.84      2410
   macro avg       0.46      0.45      0.45      2410
weighted avg       0.81      0.84      0.82      2410

Confusion matrix:
[[  91    2   39    0    0]
 [   0  203  136    0    0]
 [  17  100 1735    0    0]
 [   0    6   53    0    0]
 [  10    0   18    0    0]]
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h2 id="RNA">RNA<a class="anchor-link" href="#RNA">¬∂</a></h2>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[128]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># 1. Encoding seguro para etiquetas (targets)</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_train_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>    <span class="c1"># y_train puede ser lista, Series, etc.</span>
<span class="n">y_test_enc</span>  <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>         <span class="c1"># Solo .transform (no .fit_transform) para test</span>

<span class="c1"># 2. Entrenamiento del MLP (igual que antes)</span>
<span class="n">mlp</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
    <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">gs_mlp</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">mlp</span><span class="p">,</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_mlp</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_rna</span><span class="p">,</span> <span class="n">y_train_enc</span><span class="p">)</span>      <span class="c1"># &lt;--- Usa el encoding aqu√≠</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros (MLP):"</span><span class="p">,</span> <span class="n">gs_mlp</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Fitting 3 folds for each of 24 candidates, totalling 72 fits
Iteration 1, loss = 0.42883094
Validation score: 0.866475
Iteration 2, loss = 0.29069546
Validation score: 0.879923
Iteration 3, loss = 0.26922284
Validation score: 0.886647
Iteration 4, loss = 0.25393173
Validation score: 0.891451
Iteration 5, loss = 0.24308797
Validation score: 0.887608
Iteration 6, loss = 0.23321003
Validation score: 0.888569
Iteration 7, loss = 0.22154510
Validation score: 0.892411
Iteration 8, loss = 0.21370613
Validation score: 0.892411
Iteration 9, loss = 0.20621924
Validation score: 0.888569
Iteration 10, loss = 0.19631716
Validation score: 0.895293
Iteration 11, loss = 0.18874191
Validation score: 0.890490
Iteration 12, loss = 0.18144800
Validation score: 0.895293
Iteration 13, loss = 0.17411494
Validation score: 0.885687
Iteration 14, loss = 0.16641154
Validation score: 0.889529
Iteration 15, loss = 0.15853909
Validation score: 0.881844
Iteration 16, loss = 0.15198223
Validation score: 0.885687
Validation score did not improve more than tol=0.000100 for 5 consecutive epochs. Stopping.
Mejores hiperpar√°metros (MLP): {'alpha': 0.001, 'hidden_layer_sizes': (150,), 'learning_rate_init': 0.001, 'max_iter': 100}
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[129]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- ENCODING DE CLASES ---</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_train_rna_enc</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train_rna</span><span class="p">)</span>
<span class="n">y_test_rna_enc</span>  <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test_rna</span><span class="p">)</span>

<span class="c1"># --- Entrenamiento final ---</span>
<span class="n">mlp_final</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span>
    <span class="o">**</span><span class="n">gs_mlp</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
    <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">mlp_final</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_rna</span><span class="p">,</span> <span class="n">y_train_rna_enc</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Iteration 1, loss = 0.42883094
Validation score: 0.866475
Iteration 2, loss = 0.29069546
Validation score: 0.879923
Iteration 3, loss = 0.26922284
Validation score: 0.886647
Iteration 4, loss = 0.25393173
Validation score: 0.891451
Iteration 5, loss = 0.24308797
Validation score: 0.887608
Iteration 6, loss = 0.23321003
Validation score: 0.888569
Iteration 7, loss = 0.22154510
Validation score: 0.892411
Iteration 8, loss = 0.21370613
Validation score: 0.892411
Iteration 9, loss = 0.20621924
Validation score: 0.888569
Iteration 10, loss = 0.19631716
Validation score: 0.895293
Iteration 11, loss = 0.18874191
Validation score: 0.890490
Iteration 12, loss = 0.18144800
Validation score: 0.895293
Iteration 13, loss = 0.17411494
Validation score: 0.885687
Iteration 14, loss = 0.16641154
Validation score: 0.889529
Iteration 15, loss = 0.15853909
Validation score: 0.881844
Iteration 16, loss = 0.15198223
Validation score: 0.885687
Iteration 17, loss = 0.14513843
Validation score: 0.890490
Iteration 18, loss = 0.13841281
Validation score: 0.887608
Iteration 19, loss = 0.13369338
Validation score: 0.889529
Iteration 20, loss = 0.12630706
Validation score: 0.888569
Iteration 21, loss = 0.11932153
Validation score: 0.886647
Validation score did not improve more than tol=0.000100 for 10 consecutive epochs. Stopping.
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[129]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<style>#sk-container-id-10 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-10 {
  color: var(--sklearn-color-text);
}

#sk-container-id-10 pre {
  padding: 0;
}

#sk-container-id-10 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-10 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-10 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-10 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-10 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-10 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-10 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-10 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-10 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-10 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-10 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-10 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-10 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-10 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-10 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-10 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-10 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-10 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-10 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-10 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-10 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-10 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-10 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-10 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-10 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-10 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-10 div.sk-label label.sk-toggleable__label,
#sk-container-id-10 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-10 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-10 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-10 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-10 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-10 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-10 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-10 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-10 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-10 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-10 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-10 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-10 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div class="sk-top-container" id="sk-container-id-10"><div class="sk-text-repr-fallback"><pre>MLPClassifier(alpha=0.001, early_stopping=True, hidden_layer_sizes=(150,),
              max_iter=100, random_state=123, verbose=True)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br/>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input checked="" class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-10" type="checkbox"/><label class="sk-toggleable__label fitted sk-toggleable__label-arrow" for="sk-estimator-id-10"><div><div>MLPClassifier</div></div><div><a class="sk-estimator-doc-link fitted" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neural_network.MLPClassifier.html" rel="noreferrer" target="_blank">?<span>Documentation for MLPClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>MLPClassifier(alpha=0.001, early_stopping=True, hidden_layer_sizes=(150,),
              max_iter=100, random_state=123, verbose=True)</pre></div> </div></div></div></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[130]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">y_pred_enc</span> <span class="o">=</span> <span class="n">mlp_final</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_rna</span><span class="p">)</span>

<span class="c1"># --- Decodifica a etiquetas originales para el reporte ---</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_enc</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Test accuracy:"</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test_rna</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Cohen's kappa:"</span><span class="p">,</span> <span class="n">cohen_kappa_score</span><span class="p">(</span><span class="n">y_test_rna</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Classification report:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_rna</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test_rna</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Test accuracy: 0.8840807174887892
Cohen's kappa: 0.7612898229886943
Classification report:
                      precision    recall  f1-score   support

OtroTrastornoMental       0.90      0.90      0.90      2598
Suicidio/Autolesion       0.87      0.86      0.86      1862

           accuracy                           0.88      4460
          macro avg       0.88      0.88      0.88      4460
       weighted avg       0.88      0.88      0.88      4460

Confusion matrix:
 [[2350  248]
 [ 269 1593]]
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In¬†[131]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neural_network</span><span class="w"> </span><span class="kn">import</span> <span class="n">MLPClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridSearchCV</span>

<span class="c1"># ---------- SUBGRUPO 1: SUICIDIO/AUTOLESION ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 1: SUICIDIO/AUTOLESION ==="</span><span class="p">)</span>
<span class="n">mask_suicidio_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>
<span class="n">mask_suicidio_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"Suicidio/Autolesion"</span>

<span class="n">X_suicidio_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">]</span>
<span class="n">y_suicidio_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_suicidio_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">]</span>
<span class="n">y_suicidio_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_suicidio_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases de suicidio/autolesi√≥n</span>
<span class="n">top_x</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases X (train):"</span><span class="p">,</span> <span class="n">top_x</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_x_train</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>
<span class="n">mask_top_x_test</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_x</span><span class="p">)</span>

<span class="n">X_suicidio_train_top</span> <span class="o">=</span> <span class="n">X_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">y_suicidio_train_top</span> <span class="o">=</span> <span class="n">y_suicidio_train</span><span class="p">[</span><span class="n">mask_top_x_train</span><span class="p">]</span>
<span class="n">X_suicidio_test_top</span>  <span class="o">=</span> <span class="n">X_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>
<span class="n">y_suicidio_test_top</span>  <span class="o">=</span> <span class="n">y_suicidio_test</span><span class="p">[</span><span class="n">mask_top_x_test</span><span class="p">]</span>

<span class="c1"># --- LabelEncoder ---</span>
<span class="n">le_x</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_suicidio_train_enc</span> <span class="o">=</span> <span class="n">le_x</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_suicidio_train_top</span><span class="p">)</span>
<span class="n">y_suicidio_test_enc</span>  <span class="o">=</span> <span class="n">le_x</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">)</span>

<span class="c1"># --- RNA (MLPClassifier): Tuning ---</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'hidden_layer_sizes'</span><span class="p">:</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)],</span>
    <span class="s1">'alpha'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">],</span>
    <span class="s1">'learning_rate_init'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span>
    <span class="s1">'max_iter'</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">gs_mlp_x</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">MLPClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_mlp_x</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_enc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros (suicidio):"</span><span class="p">,</span> <span class="n">gs_mlp_x</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>

<span class="n">mlp_suicidio</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">gs_mlp_x</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mlp_suicidio</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_suicidio_train_top</span><span class="p">,</span> <span class="n">y_suicidio_train_enc</span><span class="p">)</span>
<span class="n">y_pred_suicidio_enc</span> <span class="o">=</span> <span class="n">mlp_suicidio</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_suicidio_test_top</span><span class="p">)</span>
<span class="n">y_pred_suicidio</span> <span class="o">=</span> <span class="n">le_x</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_suicidio_enc</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases suicidio/autolesion):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_suicidio_test_top</span><span class="p">,</span> <span class="n">y_pred_suicidio</span><span class="p">))</span>


<span class="c1"># ---------- SUBGRUPO 2: OTRO TRASTORNO MENTAL ----------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ==="</span><span class="p">)</span>
<span class="n">mask_otro_train</span> <span class="o">=</span> <span class="n">y_train</span> <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>
<span class="n">mask_otro_test</span>  <span class="o">=</span> <span class="n">y_test</span>  <span class="o">==</span> <span class="s2">"OtroTrastornoMental"</span>

<span class="n">X_otro_train</span> <span class="o">=</span> <span class="n">X_train_proc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">]</span>
<span class="n">y_otro_train</span> <span class="o">=</span> <span class="n">train_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_train</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="n">X_otro_test</span>  <span class="o">=</span> <span class="n">X_test_proc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">]</span>
<span class="n">y_otro_test</span>  <span class="o">=</span> <span class="n">test_mental</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_otro_test</span><span class="p">,</span> <span class="s1">'Caudef'</span><span class="p">]</span>

<span class="c1"># Top N subclases F m√°s comunes</span>
<span class="n">top_f</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Top subclases F (train):"</span><span class="p">,</span> <span class="n">top_f</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">mask_top_f_train</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>
<span class="n">mask_top_f_test</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_f</span><span class="p">)</span>

<span class="n">X_otro_train_top</span> <span class="o">=</span> <span class="n">X_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">y_otro_train_top</span> <span class="o">=</span> <span class="n">y_otro_train</span><span class="p">[</span><span class="n">mask_top_f_train</span><span class="p">]</span>
<span class="n">X_otro_test_top</span>  <span class="o">=</span> <span class="n">X_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>
<span class="n">y_otro_test_top</span>  <span class="o">=</span> <span class="n">y_otro_test</span><span class="p">[</span><span class="n">mask_top_f_test</span><span class="p">]</span>

<span class="c1"># --- LabelEncoder ---</span>
<span class="n">le_f</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_otro_train_enc</span> <span class="o">=</span> <span class="n">le_f</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_otro_train_top</span><span class="p">)</span>
<span class="n">y_otro_test_enc</span>  <span class="o">=</span> <span class="n">le_f</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">)</span>

<span class="c1"># --- RNA (MLPClassifier): Tuning ---</span>
<span class="n">gs_mlp_f</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span>
    <span class="n">MLPClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
    <span class="n">param_grid</span><span class="p">,</span>
    <span class="n">cv</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">scoring</span><span class="o">=</span><span class="s1">'f1_weighted'</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
<span class="n">gs_mlp_f</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_enc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Mejores hiperpar√°metros (F):"</span><span class="p">,</span> <span class="n">gs_mlp_f</span><span class="o">.</span><span class="n">best_params_</span><span class="p">)</span>

<span class="n">mlp_otro</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">gs_mlp_f</span><span class="o">.</span><span class="n">best_params_</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">early_stopping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_iter_no_change</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mlp_otro</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_otro_train_top</span><span class="p">,</span> <span class="n">y_otro_train_enc</span><span class="p">)</span>
<span class="n">y_pred_otro_enc</span> <span class="o">=</span> <span class="n">mlp_otro</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_otro_test_top</span><span class="p">)</span>
<span class="n">y_pred_otro</span> <span class="o">=</span> <span class="n">le_f</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_otro_enc</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Classification report (subclases F):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Confusion matrix:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_otro_test_top</span><span class="p">,</span> <span class="n">y_pred_otro</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>

=== SUBGRUPO 1: SUICIDIO/AUTOLESION ===
Top subclases X (train): ['X709', 'X689', 'X699', 'X700', 'X749']
Fitting 3 folds for each of 12 candidates, totalling 36 fits
Mejores hiperpar√°metros (suicidio): {'alpha': 0.0001, 'hidden_layer_sizes': (100,), 'learning_rate_init': 0.01, 'max_iter': 100}
Iteration 1, loss = 1.15585468
Validation score: 0.648094
Iteration 2, loss = 0.81034973
Validation score: 0.662757
Iteration 3, loss = 0.71325976
Validation score: 0.689150
Iteration 4, loss = 0.63934327
Validation score: 0.689150
Iteration 5, loss = 0.56254893
Validation score: 0.700880
Iteration 6, loss = 0.49812199
Validation score: 0.703812
Iteration 7, loss = 0.42611864
Validation score: 0.677419
Iteration 8, loss = 0.37402274
Validation score: 0.677419
Iteration 9, loss = 0.32071738
Validation score: 0.639296
Iteration 10, loss = 0.27967062
Validation score: 0.662757
Iteration 11, loss = 0.24313776
Validation score: 0.662757
Iteration 12, loss = 0.20711411
Validation score: 0.630499
Iteration 13, loss = 0.16776675
Validation score: 0.639296
Iteration 14, loss = 0.14147483
Validation score: 0.609971
Iteration 15, loss = 0.12629091
Validation score: 0.612903
Iteration 16, loss = 0.10200520
Validation score: 0.624633
Iteration 17, loss = 0.08314179
Validation score: 0.618768
Validation score did not improve more than tol=0.000100 for 10 consecutive epochs. Stopping.

Classification report (subclases suicidio/autolesion):
              precision    recall  f1-score   support

        X689       0.54      0.61      0.57       325
        X699       0.63      0.46      0.53       316
        X700       0.81      0.70      0.75       124
        X709       0.72      0.84      0.77       610
        X749       0.33      0.17      0.22        83

    accuracy                           0.66      1458
   macro avg       0.60      0.56      0.57      1458
weighted avg       0.65      0.66      0.64      1458

Confusion matrix:
[[199  52   6  64   4]
 [111 146   1  51   7]
 [  1   0  87  34   2]
 [ 50  21  13 510  16]
 [  7  12   1  49  14]]


=== SUBGRUPO 2: OTRO TRASTORNO MENTAL ===
Top subclases F (train): ['F102', 'F100', 'F03X', 'F103', 'F688']
Fitting 3 folds for each of 12 candidates, totalling 36 fits
Mejores hiperpar√°metros (F): {'alpha': 0.0001, 'hidden_layer_sizes': (100, 50), 'learning_rate_init': 0.01, 'max_iter': 100}
Iteration 1, loss = 0.59702750
Validation score: 0.857904
Iteration 2, loss = 0.38324352
Validation score: 0.854352
Iteration 3, loss = 0.32587839
Validation score: 0.849023
Iteration 4, loss = 0.29561254
Validation score: 0.850799
Iteration 5, loss = 0.25093753
Validation score: 0.833037
Iteration 6, loss = 0.21314160
Validation score: 0.847247
Iteration 7, loss = 0.19038460
Validation score: 0.834813
Iteration 8, loss = 0.16728452
Validation score: 0.841918
Iteration 9, loss = 0.14829014
Validation score: 0.849023
Iteration 10, loss = 0.11738470
Validation score: 0.818828
Iteration 11, loss = 0.10651731
Validation score: 0.808171
Iteration 12, loss = 0.09636401
Validation score: 0.838366
Validation score did not improve more than tol=0.000100 for 10 consecutive epochs. Stopping.

Classification report (subclases F):
              precision    recall  f1-score   support

        F03X       0.71      0.71      0.71       132
        F100       0.70      0.57      0.63       339
        F102       0.87      0.95      0.91      1852
        F103       0.00      0.00      0.00        59
        F688       0.00      0.00      0.00        28

    accuracy                           0.85      2410
   macro avg       0.46      0.45      0.45      2410
weighted avg       0.81      0.85      0.83      2410

Confusion matrix:
[[  94    0   38    0    0]
 [   0  193  146    0    0]
 [  26   75 1751    0    0]
 [   0    6   53    0    0]
 [  12    0   16    0    0]]
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
c:\Users\rodri\Documents\Data-Mining\Proyecto-3-EDA-Clustering\venv312\Lib\site-packages\sklearn\metrics\_classification.py:1565: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.
  _warn_prf(average, modifier, f"{metric.capitalize()} is", len(result))
</pre>
</div>
</div>
</div>
</div>
</div>
</main>
</body>
</html>
